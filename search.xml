<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>REST API - Codable</title>
      <link href="2020/10/13/POST/REST-API-Codable/"/>
      <url>2020/10/13/POST/REST-API-Codable/</url>
      
        <content type="html"><![CDATA[<p>REST API활용해서 서버 따와야하는데 ,<br>알라모파이어 쓰랴, 코더블 쓰랴 그러면서 안되는 게 있으면 검색해보고 … (블로그는 뭐든 된다고만 하고… 되는 것만 올리니까 ;;) 이해 안되는 부분이 있었는데, 어쨋든 되니까 넘어가고;;<br>그런 과정이 있어서 정리했다. --;</p><p>나를 가장 혼란스럽게 했던…</p><p><strong>JSONSerialization…</strong>.<br>자꾸 되어야하는 게 안되서… 여러 방면으로 생각하다보니 jsonObject화 하지 않아서 안되는 건가 ?? 의문 스러워하며 이것고치고 저것고치고… 그런데 그 전엔 없어도 잘만 됐는데… 이상함… (반복)</p><p>그리고 학원에서도 분명 JSONSerialization을 배우긴 했다. 근데 왜 사용하는 지도 모르고 그냥 달달… 외우고 코드보면서 썼던 것…</p><p>🤔결국 이제야 알게된 것은, JSONSerialization은 swift3에서 지원했던 내용이고 5부터는 그냥 Codable하나면 오케이…😨👌</p><p>나를 혼란스럽게 한 swift 3방식을 보자.</p><h2 id="이전-swift-3-방식">이전 Swift 3 방식<a title="#이전-swift-3-방식" href="#이전-swift-3-방식"></a></h2><h3 id="json-data"><em>JSON Data</em><a title="#json-data" href="#json-data"></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//"https://api.letsbuildthatapp.com/jsondecodable/course"</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    id = <span class="number">1</span>;</span><br><span class="line">    imageUrl = <span class="string">"https://letsbuildthatapp-videos.s3-us-west-2.amazonaws.com/04782e30-d72a-4917-9d7a-c862226e0a93"</span>;</span><br><span class="line">    link = <span class="string">"https://www.letsbuildthatapp.com/course/instagram-firebase"</span>;</span><br><span class="line">    name = <span class="string">"Instagram Firebase"</span>;</span><br><span class="line">    <span class="string">"number_of_lessons"</span> = <span class="number">49</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>이런 json형식의 데이터가 있다고 가정한다.</p><h3 id="data-model"><em>Data Model</em><a title="#data-model" href="#data-model"></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Course</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> id: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">let</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> link: <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> imageUrl: <span class="type">String</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">init</span>(json: [<span class="type">String</span>: <span class="type">Any</span>]) &#123;</span><br><span class="line">        id = json[<span class="string">"id"</span>] <span class="keyword">as</span>? <span class="type">Int</span> ?? -<span class="number">1</span></span><br><span class="line">        name = json[<span class="string">"name"</span>] <span class="keyword">as</span>? <span class="type">String</span> ?? <span class="string">""</span></span><br><span class="line">        link = json[<span class="string">"link"</span>] <span class="keyword">as</span>? <span class="type">String</span> ?? <span class="string">""</span></span><br><span class="line">        imageUrl = json[<span class="string">"imageUrl"</span>] <span class="keyword">as</span>? <span class="type">String</span> ?? <span class="string">""</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//자동완성됨</span></span><br><span class="line"><span class="comment">//let myCourse = Course(id: &lt;#T##Int#&gt;, name: &lt;#T##String#&gt;, link: &lt;#T##String#&gt;, imageUrl: &lt;#T##String#&gt;)</span></span><br><span class="line"><span class="comment">//print(myCourse)</span></span><br></pre></td></tr></table></figure><p>swift3에서는 반드시 init함수로 JSON데이터를 객체화 해야했다. 데이터를 사용하고 싶다면 데이터를 인스턴스화해서 사용하라!.<br>그리고 그것은 보통 딕셔너리타입일 것…</p><p>아래 파싱하는 부분을 보자.</p><h3 id="parsing"><em>Parsing</em><a title="#parsing" href="#parsing"></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">parsingFuntion</span><span class="params">()</span></span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> jsonUrlString = <span class="string">"https://api.letsbuildthatapp.com/jsondecodable/course"</span></span><br><span class="line">  <span class="comment">//http://...." 문자열을 변환해서 url구조체로 만든 다음 -&gt; url세션으로 처리한다.</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> url = <span class="type">URL</span>(string: jsonUrlString) <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">  <span class="comment">//보통은 에러처리먼저</span></span><br><span class="line">    <span class="comment">//1.</span></span><br><span class="line">    <span class="type">URLSession</span>.shared.dataTask(with: url) &#123; (data, response, error) <span class="keyword">in</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"데이터 다운로드 완료"</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> data = data <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//        let dataAsString = String(data: data, encoding: .utf8)</span></span><br><span class="line">        <span class="comment">//        print(dataAsString)</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">          <span class="comment">//2.</span></span><br><span class="line">            <span class="keyword">guard</span> <span class="keyword">let</span> json = <span class="keyword">try</span> <span class="type">JSONSerialization</span>.jsonObject(with: data, options: .mutableContainers) <span class="keyword">as</span>? [<span class="type">String</span>: <span class="type">Any</span>] <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;<span class="comment">//제이슨을 딕셔너리로</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">let</span> course = <span class="type">Course</span>(json: json)</span><br><span class="line">            <span class="built_in">print</span>(course)</span><br><span class="line">            </span><br><span class="line">        &#125; <span class="keyword">catch</span> <span class="keyword">let</span> jsonErr &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"Error serializing json:"</span>, jsonErr)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;.resume()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">parsingFuntion() <span class="comment">//호출</span></span><br></pre></td></tr></table></figure><p>urlSting문자열을 변환해서 url구조체로 만든 다음  URLSession을 통해 shared.dataTask하고, 이후 data, response, error 를 정의하여 처리하는 과정은 현재와 동일한 방식이지만, 아래 try이후<br>JSONSerialization.jsonObject 부분이 다른 걸 볼 수 있다. 순서로 코드를 보자면,</p><ol><li>파싱을 통해서 json객체가 나오고 -&gt; 2.딕셔너리로 타입캐스팅을 한번 하고 -&gt; 3.그것을 토대로 객체(인스턴스)생성.(위에 init. 구조체이거나 클래스이거나) 그리고 그 4. 제이슨을 딕셔너리로 …</li></ol><p>이점을 참고하여 , 아래의 글 swift 5부터 Codable등장 이후 변경된 점을 보자.</p><h2 id="swift-5-이상">Swift 5 이상<a title="#swift-5-이상" href="#swift-5-이상"></a></h2><h3 id="json-data-1"><em>JSON Data</em><a title="#json-data-1" href="#json-data-1"></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//"https://api.letsbuildthatapp.com/jsondecodable/course"</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    id = <span class="number">1</span>;</span><br><span class="line">    imageUrl = <span class="string">"https://letsbuildthatapp-videos.s3-us-west-2.amazonaws.com/04782e30-d72a-4917-9d7a-c862226e0a93"</span>;</span><br><span class="line">    link = <span class="string">"https://www.letsbuildthatapp.com/course/instagram-firebase"</span>;</span><br><span class="line">    name = <span class="string">"Instagram Firebase"</span>;</span><br><span class="line">    <span class="string">"number_of_lessons"</span> = <span class="number">49</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>이러한 JOSN 형식의 데이터가 있다고 가정. (위와 동일)</p><h3 id="datamodel"><em>DataModel</em><a title="#datamodel" href="#datamodel"></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//구조체라서 컴파일러가 알아서 init을 만들어줬기때문에 생략가능. (멤버와이징이니셜라이저)</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Course</span>: <span class="title">Decodable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> id: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">let</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> link: <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> imageUrl: <span class="type">String</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>Codable(decode, encode둘다 사용), Decodable(데이터 가져올때), encodable(데이터 넣을 때)</li><li>class인 경우 init함수를 써야하지만 swift3처럼 딕셔너리화할 필요는 없다. 그냥 쓰면 됨!!</li></ul><h3 id="parsing-1"><em>parsing</em><a title="#parsing-1" href="#parsing-1"></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">parsingFuntion</span><span class="params">()</span></span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> jsonUrlString = <span class="string">"https://api.letsbuildthatapp.com/jsondecodable/course"</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> url = <span class="type">URL</span>(string: jsonUrlString) <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">URLSession</span>.shared.dataTask(with: url) &#123; (data, response, error) <span class="keyword">in</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"데이터 다운로드 완료"</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> data = data <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">        <span class="comment">//요부분.. </span></span><br><span class="line">            <span class="keyword">let</span> course = <span class="keyword">try</span> <span class="type">JSONDecoder</span>().decode(<span class="type">Course</span>.<span class="keyword">self</span>, from: data) </span><br><span class="line"></span><br><span class="line">            <span class="built_in">print</span>(course.name)</span><br><span class="line">            </span><br><span class="line">        &#125; <span class="keyword">catch</span> <span class="keyword">let</span> jsonErr &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"Error serializing json:"</span>, jsonErr)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;.resume()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">parsingFuntion()</span><br></pre></td></tr></table></figure><p>urlString을 URLSession을통해 변환하여 처리하는 것 동일.<br>do 부터 swift3와 다르게, 제이슨 객체로 주는 것이 아니라, 1.제이슨 디코더로 만듦.  -&gt; 4.딕셔너리로 변환함.(끝…) swift3에서 나열했던 2~3단계를 줄임. 1과 4만 존재…<br>파싱은 -&gt; 바로 인스턴스 객체로 감(init)을 의미하게 됨.</p><h3 id="[배열인-경우]"><strong>[배열인 경우]</strong><a title="#[배열인-경우]" href="#[배열인-경우]"></a></h3><h3 id="json-data-2"><em>JSON Data</em><a title="#json-data-2" href="#json-data-2"></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//"https://api.letsbuildthatapp.com/jsondecodable/courses"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[&#123;<span class="string">"id"</span>:<span class="number">6</span>,</span><br><span class="line">    <span class="string">"name"</span>:<span class="string">"AppStore JSON APIs"</span>,</span><br><span class="line">    <span class="string">"link"</span>:<span class="string">"https://www.letsbuildthatapp.com/course/AppStore-JSON-APIs"</span>,</span><br><span class="line">    <span class="string">"imageUrl"</span>:<span class="string">"https://letsbuildthatapp-videos.s3-us-west-2.amazonaws.com/fd78be85-b845-4672-a316-7df0abe80812_medium"</span>,</span><br><span class="line">    <span class="string">"number_of_lessons"</span>:<span class="number">47</span>&#125;,</span><br><span class="line"> &#123;<span class="string">"id"</span>:<span class="number">5</span>,</span><br><span class="line">    <span class="string">"name"</span>:<span class="string">"Tinder Firestore Swipe and Match"</span>,</span><br><span class="line">    <span class="string">"link"</span>:<span class="string">"https://www.letsbuildthatapp.com/course/Tinder-Firestore-Swipe-and-Match"</span>,</span><br><span class="line">   <span class="string">"imageUrl"</span>:<span class="string">"https://letsbuildthatapp-videos.s3-us-west-2.amazonaws.com/bc5a4091-d2ea-44ab-b749-5f2ee5354c35_medium"</span>,</span><br><span class="line">    <span class="string">"number_of_lessons"</span>:<span class="number">47</span>&#125;,</span><br><span class="line"> &#123;<span class="string">"id"</span>:<span class="number">1</span>,</span><br><span class="line">    <span class="string">"name"</span>:<span class="string">"Instagram Firebase"</span>,</span><br><span class="line">    <span class="string">"link"</span>:<span class="string">"https://www.letsbuildthatapp.com/course/instagram-firebase"</span>,</span><br><span class="line">    <span class="string">"imageUrl"</span>:<span class="string">"https://letsbuildthatapp-videos.s3-us-west-2.amazonaws.com/04782e30-d72a-4917-9d7a-c862226e0a93"</span>,<span class="string">"number_of_lessons"</span>:<span class="number">49</span>&#125;,</span><br><span class="line"> &#123;<span class="string">"id"</span>:<span class="number">2</span>,</span><br><span class="line">    <span class="string">"name"</span>:<span class="string">"Podcasts Course"</span>,</span><br><span class="line">    <span class="string">"link"</span>:<span class="string">"https://www.letsbuildthatapp.com/course/podcasts"</span>,</span><br><span class="line">    <span class="string">"imageUrl"</span>:<span class="string">"https://letsbuildthatapp-videos.s3-us-west-2.amazonaws.com/32f98d9d-5b9b-4a22-a012-6b87fd7158c2_medium"</span>,</span><br><span class="line">    <span class="string">"number_of_lessons"</span>:<span class="number">39</span>&#125;,</span><br><span class="line"> &#123;<span class="string">"id"</span>:<span class="number">3</span>,</span><br><span class="line">    <span class="string">"name"</span>:<span class="string">"Intermediate Training Core Data"</span>,</span><br><span class="line">    <span class="string">"link"</span>:<span class="string">"https://www.letsbuildthatapp.com/course/intermediate-training-core-data"</span>,</span><br><span class="line">    <span class="string">"imageUrl"</span>:<span class="string">"https://letsbuildthatapp-videos.s3-us-west-2.amazonaws.com/0736fecb-5b88-483b-a83d-ca2a5a6d93f9_medium"</span>,</span><br><span class="line">    <span class="string">"number_of_lessons"</span>:<span class="number">32</span>&#125;,</span><br><span class="line"> &#123;<span class="string">"id"</span>:<span class="number">4</span>,</span><br><span class="line">    <span class="string">"name"</span>:<span class="string">"Kindle Basic Training"</span>,</span><br><span class="line">    <span class="string">"link"</span>:<span class="string">"https://www.letsbuildthatapp.com/basic-training"</span>,</span><br><span class="line">    <span class="string">"imageUrl"</span>:<span class="string">"https://letsbuildthatapp-videos.s3-us-west-2.amazonaws.com/a6180731-c077-46e7-88d5-4900514e06cf_medium"</span>,</span><br><span class="line">    <span class="string">"number_of_lessons"</span>:<span class="number">19</span>&#125;]</span><br></pre></td></tr></table></figure><p>이런식의 배열의 데이터가 주어진다면…</p><h3 id="parsing-2"><em>Parsing</em><a title="#parsing-2" href="#parsing-2"></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">parsingArrays</span><span class="params">()</span></span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> jsonUrlString = <span class="string">"https://api.letsbuildthatapp.com/jsondecodable/courses"</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> url = <span class="type">URL</span>(string: jsonUrlString) <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">URLSession</span>.shared.dataTask(with: url) &#123; (data, response, error) <span class="keyword">in</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"데이터 다운로드 완료"</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> data = data <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;        </span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">let</span> courses = <span class="keyword">try</span> <span class="type">JSONDecoder</span>().decode([<span class="type">Course</span>].<span class="keyword">self</span>, from: data) <span class="comment">//배열의 경우</span></span><br><span class="line"></span><br><span class="line">            <span class="built_in">print</span>(courses)</span><br><span class="line">            </span><br><span class="line">        &#125; <span class="keyword">catch</span> <span class="keyword">let</span> jsonErr &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"Error serializing json:"</span>, jsonErr)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;.resume()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">parsingArrays()</span><br></pre></td></tr></table></figure><p>Course를 [Course]로 감싸주기만 하면 된당…</p><h3 id="다른-예시"><strong>다른 예시</strong><a title="#다른-예시" href="#다른-예시"></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">WebsiteDescription</span>: <span class="title">Decodable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> description: <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> courses: [<span class="type">Course</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">parsingDatas</span><span class="params">()</span></span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> jsonUrlString = <span class="string">"https://api.letsbuildthatapp.com/jsondecodable/website_description"</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> url = <span class="type">URL</span>(string: jsonUrlString) <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">URLSession</span>.shared.dataTask(with: url) &#123; (data, response, error) <span class="keyword">in</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> data = data <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">let</span> websiteDescription = <span class="keyword">try</span> <span class="type">JSONDecoder</span>().decode(<span class="type">WebsiteDescription</span>.<span class="keyword">self</span>, from: data)</span><br><span class="line">            <span class="built_in">print</span>(websiteDescription) <span class="comment">//이것도 그냥 맞춰서 쓰면 됨.. 배열무서워하지 말기!!</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> <span class="keyword">let</span> jsonErr &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">"Error serializing json:"</span>, jsonErr)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;.resume()</span><br><span class="line">&#125;</span><br><span class="line">parsingDatas()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> post </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> Codable </tag>
            
            <tag> Decod </tag>
            
            <tag> REST API </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Error Handling(에러핸들링) - throwing함수, do-catch try, Result</title>
      <link href="2020/10/11/POST/Swift-throwing-%ED%95%A8%EC%88%98/"/>
      <url>2020/10/11/POST/Swift-throwing-%ED%95%A8%EC%88%98/</url>
      
        <content type="html"><![CDATA[<h1 id="error-handling이란?">Error Handling이란?<a title="#error-handling이란?" href="#error-handling이란?"></a></h1><p>에러의 방향성을 만들어 주는 것이다. 에러시 어떤 것을 리턴을 할 건지… 특정 함수를 실행할건지… 앱을 종료할 것인지 등등… 에러에 대한 대응 및 복구에 대한 작업!!!</p><p>그 전에 <strong>에러</strong>에 대해 먼저 이해하고 넘어가자!</p><p>에러의 종류에는 '컴파일 에러’와 '런타임 에러’가 있다. '컴파일 에러’는 대부분 문법과 관련된 내용으로, 컴파일러가 제공해주는 정보를 통해 비교적 쉽게 수정이 가능하다. 예를 들면, 엑스코드가 에러났다고 빨갛게 에러창 보여주는 것!</p><p>이와 다르게 런타임 에러는 프로그램이 실행되는 동안 발생한다. 이 이유로 '런타임 에러’가 에러 핸들링(Error Handling)으로 다뤄지는 주요 내용이 된다! 런타임에러는 디바이스나 리소스 상태에 따라 에러가 발생한다. 예를 들면, 잘못된 코드로 인해, 특정 지역에서 앱이 종료되는 것이다.(프로그램이 강제로 종료함) 이렇게 앱이 종료되는 것을 막기위해 해주는 작업이 에러 핸들링!!</p><p>에러 핸들링을 하게 되면, 발생가능한 에러를 직접처리해주기 때문에 강제종료 없이 계속 실행이 가능해진다. 발생가능한 에러를 미리 처리해 두면 프로그램을 크래시 없이 계속 사용할 수 있게 되고, 강제 종료 횟수가 줄어듦에 따라 앱의 사용성이 증가된다.</p><h2 id="개념-?">개념 ?<a title="#개념-?" href="#개념-?"></a></h2><p>Swift에서는 런타임에 에러가 발생한 경우 이를 처리하기 위한 <strong>발생(throwig)</strong>, <strong>감지(catching)</strong>, <strong>전파(propagating)</strong>,<br><strong>조작(manipulating)</strong> 을 지원하는 일급 클래스를 제공한다.</p><p>어떤 함수, 메소드 혹은 Initializer가 에러를 발생 시킬 수 있다는 것을 알리기 위해 throw 키워드를 함수 선언부의 파라미터 뒤에 붙인다. throw 키워드로 표시된 함수를 <strong>throwing function</strong>이라고 부르며, 만약 함수가 리턴 값을 명시했다면 throw 키워드는 리턴 값 표시 기호인 -&gt; 전에 적으면 된다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">adultAge</span><span class="params">(text: String)</span></span> <span class="keyword">throws</span> -&gt; <span class="type">Int</span></span><br></pre></td></tr></table></figure><p>오직 throwing fuction만이 에러를 발생시킬 수 있으며, 만약 throwing function이 아닌 함수에서 throw가 발생한다면 반드시 그 함수 내에서 throw에 대해 처리되어야 한다.</p><h2 id="에러-처리(handling-errors)">에러 처리(Handling Errors)<a title="#에러-처리(handling-errors)" href="#에러-처리(handling-errors)"></a></h2><p>에러를 던지고(?) 싶다면 미리 정의를 해줘야한다. 던진다고 표현한 이유는 <strong>throws</strong>가 사전적으로 던진다는 의미를 가지고 있기 때문이다. 이후 에러 형식부터 선언한다. 에러 형식은 특별한 형식이 아니고 에러 프로토콜을 채용하면 에러 형식이 된다. 그리고 에러는 대부분  열거형으로 선언한다.</p><h1 id="throwing함수"><strong>throwing함수</strong><a title="#throwing함수" href="#throwing함수"></a></h1><h2 id="에러를-미리-정의한다.-(열거형)">에러를 미리 정의한다. (열거형)<a title="#에러를-미리-정의한다.-(열거형)" href="#에러를-미리-정의한다.-(열거형)"></a></h2><p>모든 에러는 열거형으로 쓴다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">APIError</span>: <span class="title">Error</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> aError</span><br><span class="line">    <span class="keyword">case</span> bError</span><br><span class="line">    <span class="keyword">case</span> cError</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a: <span class="type">APIError</span></span><br></pre></td></tr></table></figure><p>APIError라는 Error타입의 열거형을 만든다. APIError은 타입으로 쓸 수 있다.</p><p><strong>[ 열거형 ? ]</strong><br>===&gt; 한정된 케이스안에서 선택가능한 타입</p><ul><li>예시 ) &quot;월화수목금토일&quot;은 한정된 그룹이다. 그러므로 열거형으로 선언될 수 있다. 이 외에가 없는 것.</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Weekdays</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> monday</span><br><span class="line">    <span class="keyword">case</span> tuesday</span><br><span class="line">    <span class="keyword">case</span> wednesday</span><br><span class="line">    <span class="keyword">case</span> thursday</span><br><span class="line">    <span class="keyword">case</span> friday</span><br><span class="line">    <span class="keyword">case</span> saturday</span><br><span class="line">    <span class="keyword">case</span> sunday</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> day: <span class="type">Weekdays</span> = .monday</span><br></pre></td></tr></table></figure><h2 id="throws-/-throw">throws / throw<a title="#throws-/-throw" href="#throws-/-throw"></a></h2><p>정의할때는 throws -&gt; 에러를 던지겠다! 선언한다. 이후 각각 던질 때는 throw로 던져 구분한다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//정의할때는 throws -&gt; 에러를 던지겠다! 선언</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">parsing</span><span class="params">()</span></span> <span class="keyword">throws</span> -&gt; <span class="type">Int</span> &#123; </span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="literal">false</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="type">APIError</span>.aError <span class="comment">//각각 던질때는 throw</span></span><br><span class="line">        (aError에 대한 코드)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> <span class="literal">false</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="type">APIError</span>.bError</span><br><span class="line">        (bError에 대한 코드)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>이것을 <strong>throwing함수</strong>라고 한다.</p><h1 id="do-catch으로-에러처리"><strong>do-catch으로 에러처리</strong><a title="#do-catch으로-에러처리" href="#do-catch으로-에러처리"></a></h1><p>throwing함수를 이해했다면, do-catch으로 에러 처리가 가능하다.<br>do-catch는 do블럭과 catch블럭으로 구성되어 있다. do블럭은 필수 블럭이고, 여기서는 가장 기본식인 <strong>try</strong> 표현식을 사용해서, 에러가 발생할 수 있는 코드를 실행할 것이다.</p><p>try표현식에서 에러가 발생하면 do블럭에서 이어지는 코드는 실행되지 않고, 아래쪽에 있는 catch블럭이 실행된다. catch블럭은 do블럭에서 발생한 에러를 처리한다. 패턴으로 선언하고 싶은 에러를 선언하거나, 패턴을 생략하고 전체에러를 처리할 수도 있다.</p><p>where절을 추가해서, 매칭시킬 에러패턴에 조건을 추가할 수 있다.<br>do 에서 발생가능한 모든 에러는 catch블럭을 통해 모두 처리되어야하고, catch블럭을 생략한 경우에는 에러가 다른 코드로 전파될 수 있도록 구현해야한다.</p><h2 id="try(가장-일반적인)"><em>try(가장 일반적인)</em><a title="#try(가장-일반적인)" href="#try(가장-일반적인)"></a></h2> <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//경우 1. try (가장 일반적인)</span></span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> a = <span class="keyword">try</span> parsing()</span><br><span class="line">    <span class="comment">// 그 다음 코드 - 1</span></span><br><span class="line">    <span class="comment">// 그 다음 코드 - 2</span></span><br><span class="line">&#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(error.localizedDescription)<span class="comment">//지역화된. 오류면 해당언어로 콘솔창에 보여줘!.별거아님</span></span><br><span class="line">    </span><br><span class="line">  <span class="comment">//error는 일반적인 타입</span></span><br><span class="line">    <span class="keyword">let</span> e = error <span class="keyword">as</span>? <span class="type">APIError</span> </span><br><span class="line">    <span class="keyword">switch</span> e &#123;</span><br><span class="line">    <span class="keyword">case</span> .aError:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"a에러발생"</span>)</span><br><span class="line">    <span class="keyword">case</span> .bError:</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">"b에러발생"</span>)</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>error는 일반적인 타입이므로 한번 타입캐스팅을 해서 사용한다.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let e &#x3D; error as? APIError</span><br></pre></td></tr></table></figure><p>이 부분…</p><h2 id="try?"><em>try?</em><a title="#try?" href="#try?"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 경우 2. try?</span></span><br><span class="line"><span class="comment">//do catch로 감쌀 필요없음. 나는 에러처리에 관심없어.</span></span><br><span class="line"><span class="comment">//왜냐 ? 에러인 경우 nil이 나옴</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b = <span class="keyword">try</span>? parsing() </span><br><span class="line"></span><br><span class="line"><span class="comment">//b의 타입을 보면 옵셔널 인트임 Int? -&gt; 그럼 무슨 말인지 이해가 됨..</span></span><br></pre></td></tr></table></figure><h2 id="try-!"><em>try !</em><a title="#try-!" href="#try-!"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//경우3.try!</span></span><br><span class="line"><span class="comment">//에러발생시 앱종료. -&gt; 이러한 이유로 try!를 쓰는 경우 거의 없음.</span></span><br><span class="line"><span class="keyword">let</span> <span class="built_in">c</span> = <span class="keyword">try</span>! parsing()</span><br></pre></td></tr></table></figure><p>// 에러처리 방법 3가지</p><ol><li>do-catch문 사용(코드에서 발생한 에러를 개별적으로 처리할때)</li><li>try표현식 + 옵셔널 바인딩</li><li>전달받은 에러를 다른 코드블럭으로 다시 전달(hand over)</li></ol><h1 id="result타입으로-에러처리"><strong>Result타입으로 에러처리</strong><a title="#result타입으로-에러처리" href="#result타입으로-에러처리"></a></h1><h3 id="[result을-쓰는-이유-?]"><strong>[Result을 쓰는 이유 ?]</strong><a title="#[result을-쓰는-이유-?]" href="#[result을-쓰는-이유-?]"></a></h3><p>Result과 do-catch, try는 큰 차이가 있다. do-catch, try의 경우 에러타입과 성공타입을 함께 쓸 수 없다. do(성공)와 catch(에러)의 구분. 그러나 Result을 사용하게 되면, 한 함수에 성공, 에러 모두 함께 쓸 수 있다. 정리하면, Result Type은 에러랑 정상적인거랑 타입으로 묶어서 던지는 것!!</p><h3 id="예시1"><em>예시1</em><a title="#예시1" href="#예시1"></a></h3> <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.에러 미리정의</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">NumberError</span>: <span class="title">Error</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> negativeNumber</span><br><span class="line">    <span class="keyword">case</span> evenNumber</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">AnotherNumberError</span>: <span class="title">Error</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> tooLarge</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>이런식으로 정의 된 에러가 있다면,</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//2. Throwing 함수로 선언되어 있음 (홀수만 받는 함수)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// (에러를 던질 수 있다.) "에러의 형식"을 특정하지는 못함</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">process</span><span class="params">(oddNumber: Int)</span></span> <span class="keyword">throws</span> -&gt; <span class="type">Int</span> &#123;   </span><br><span class="line">    <span class="keyword">guard</span> oddNumber &gt;= <span class="number">0</span> <span class="keyword">else</span> &#123;              </span><br><span class="line">    <span class="comment">// 음수일 경우 NumberError의 negativeNumber을 던진다. </span></span><br><span class="line">        <span class="keyword">throw</span> <span class="type">NumberError</span>.negativeNumber</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">guard</span> !oddNumber.isMultiple(of: <span class="number">2</span>) <span class="keyword">else</span> &#123;    </span><br><span class="line">    <span class="comment">// !짝수일 경우 NumberError의 evenNumber을 던진다.</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="type">NumberError</span>.evenNumber</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">guard</span> oddNumber &lt; <span class="number">1000</span> <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">//1000이하인 경우 AnotherNumberError의 tooLarge을 던진다.</span></span><br><span class="line">        <span class="keyword">throw</span> <span class="type">AnotherNumberError</span>.tooLarge</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//정상적인 처리</span></span><br><span class="line">    <span class="keyword">return</span> oddNumber * <span class="number">2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>여기서, 위와 같은 방식으로만 처리한다면 문제가 있다. throws 키워드는 코드에서 에러를 던질 수 있다는 것은 나타내지만, 에러의 형식을 특정하지는 못하므로, 이렇게만 처리하면 catch블럭에서 &quot;에러 프로토콜&quot;형식만 받을 수 있게 된다(구체화된 실제 에러 형식이 아님!!!)</p><p>즉, process함수가 던지는 실제 에러 형식을 알아야 에러를 제대로 처리한 것!!!</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//3.</span></span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="keyword">try</span> process(oddNumber: <span class="number">1</span>)</span><br><span class="line">    <span class="built_in">print</span>(result)</span><br><span class="line">&#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(error.localizedDescription)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>이런식으로 !!..</p><p>더 제대로 처리 해보기 ↓</p> <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> result = <span class="keyword">try</span> process(oddNumber: <span class="number">1</span>) <span class="comment">// try 표현식으로 호출</span></span><br><span class="line">    <span class="built_in">print</span>(result)</span><br><span class="line">&#125; <span class="keyword">catch</span> <span class="keyword">let</span> myErr <span class="keyword">as</span> <span class="type">NumberError</span> &#123;    <span class="comment">// 실제 에러형식으로 타입캐스팅(에러의 올바른 처리를 위해)</span></span><br><span class="line">    <span class="keyword">switch</span> myErr &#123;</span><br><span class="line">    <span class="keyword">case</span> .negativeNumber:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"negative number"</span>)</span><br><span class="line">    <span class="keyword">case</span> .evenNumber:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"even number"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">catch</span> &#123;     <span class="comment">// catch 블록 지우면 ===&gt; 런타임 에러발생 가능(AnotherNumberError를 처리하고 있지 않기 때문에)</span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">print</span>(error.localizedDescription)   </span><br><span class="line">    </span><br><span class="line">    <span class="comment">// AnotherNumberError를 올바르게 처리한 것은 아님 (에러처리에서 논리적인 오류가 발생할 가능성이 높아짐)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="delayed-error-handling">Delayed Error Handling<a title="#delayed-error-handling" href="#delayed-error-handling"></a></h3> <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Result(catching: &lt;#T##() throws -&gt; _#&gt;)</span></span><br><span class="line"><span class="comment">//Result형식은 "throwing클로저로 초기화"하는 생성자를 제공한다. </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result = <span class="type">Result</span> &#123; <span class="keyword">try</span> process(oddNumber: <span class="number">1</span>) &#125;  <span class="comment">// Result 객체(연관값)가 저장</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> result &#123; <span class="comment">//연관값으로 저장된 에러를 처리 (에러를 처리하는 시점이 함수를 호출하는 시점에서 작업결과를 사용하는 시점으로 이동) Delayed Error Handling</span></span><br><span class="line"><span class="keyword">case</span> .success(<span class="keyword">let</span> data):</span><br><span class="line">    <span class="built_in">print</span>(data) <span class="comment">//2</span></span><br><span class="line"><span class="keyword">case</span> .failure(<span class="keyword">let</span> error):</span><br><span class="line">    <span class="built_in">print</span>(error.localizedDescription)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 성공과 실패가 더욱 명확해짐</span></span><br></pre></td></tr></table></figure><h3 id="[제네릭-이용하여-처리해보기]"><strong>[제네릭 이용하여 처리해보기]</strong><a title="#[제네릭-이용하여-처리해보기]" href="#[제네릭-이용하여-처리해보기]"></a></h3><ul><li>throws 키워드 삭제, 리턴형 형식 선언</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">processResult</span><span class="params">(oddNumber: Int)</span></span> -&gt; <span class="type">Result</span>&lt;<span class="type">Int</span>, <span class="type">NumberError</span>&gt; &#123; <span class="comment">//Result타입으로 에러를 처리할때, 함수에서 직접 에러를 던지지 않고, "연관값"으로 저장해서 리턴</span></span><br><span class="line">    <span class="keyword">guard</span> oddNumber &gt;= <span class="number">0</span> <span class="keyword">else</span> &#123;  <span class="comment">// 음수일 경우</span></span><br><span class="line">        <span class="keyword">return</span> <span class="type">Result</span>.failure(<span class="type">NumberError</span> .negativeNumber)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">guard</span> !oddNumber.isMultiple(of: <span class="number">2</span>) <span class="keyword">else</span> &#123;    </span><br><span class="line">    <span class="comment">// 짝수일 경우</span></span><br><span class="line">        <span class="keyword">return</span> .failure(.evenNumber)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    guard oddNumber &lt; 1000 else &#123;             </span></span><br><span class="line"><span class="comment">// AnotherNumberError는 리턴할 수 없음</span></span><br><span class="line"><span class="comment">//        return AnotherNumberError.tooLarge</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> .success(oddNumber * <span class="number">2</span>)          </span><br><span class="line">    <span class="comment">// 연관값으로 리턴</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result1 = processResult(oddNumber: <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> result1 &#123; <span class="comment">// Delayed Error Handling</span></span><br><span class="line"><span class="keyword">case</span> .success(<span class="keyword">let</span> data):</span><br><span class="line">    <span class="built_in">print</span>(data)</span><br><span class="line"><span class="keyword">case</span> .failure(<span class="keyword">let</span> error):</span><br><span class="line">    <span class="built_in">print</span>(error.localizedDescription)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>제네릭을 이용하면, 이런 식의 처리도 가능해진다…!! 좀더 쉽게 이해하고자 한다면 아래의 예제를 보자 , , , ,!</p><h2 id="1.-에러-정의(열거형)">1. 에러 정의(열거형)<a title="#1.-에러-정의(열거형)" href="#1.-에러-정의(열거형)"></a></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;1.에러정의</span><br><span class="line">enum APIError2 : Error &#123;</span><br><span class="line">  case aError</span><br><span class="line">  case bError</span><br><span class="line">  case cError</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>에러는 동일하게 열거형으로 정의한다.</p><h2 id="2.-result-이용-함수-만들기.">2. Result 이용 함수 만들기.<a title="#2.-result-이용-함수-만들기." href="#2.-result-이용-함수-만들기."></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">plusFunction</span><span class="params">()</span></span> -&gt; <span class="type">Result</span>&lt;<span class="type">Int</span>, <span class="type">APIError2</span>&gt; &#123; <span class="comment">//정상적인 경우엔 Int, 에러인 경우 Error</span></span><br><span class="line">  <span class="keyword">if</span> <span class="literal">true</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">Result</span>.success(<span class="number">10</span>) <span class="comment">//성공케이스</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> <span class="literal">true</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">Result</span>.failure(<span class="type">APIError2</span>.bError) <span class="comment">//에러케이스</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">plusFunction()</span><br></pre></td></tr></table></figure><p>Result&lt;Int, APIError2&gt; 는 제네릭 형식이다. 제네릭을 쓴 이유는 모든 자료형을 처리하기 위해 쓴다. 성공케이스가 Int이든, 에러케이스가 에러타입의 열거형이든 한 함수로 묶을 수 있게 된다.<br>실행후, 결론적으로 plusFunction() 은 Result타입이 되어, 우의 do-catch, try 쓸 필요가 없게 된다. Result의 가장 큰 장점은 do catch, try 를 쓰지 않아도 되는 점. 코드 길이!</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//이렇게도 사용가능. </span></span><br><span class="line"><span class="keyword">let</span> result = plusFunction()</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> result &#123;</span><br><span class="line"><span class="keyword">case</span> .success(<span class="keyword">let</span> a) :</span><br><span class="line">  <span class="built_in">print</span>(a)</span><br><span class="line"><span class="keyword">case</span> .failure(<span class="keyword">let</span> error) :</span><br><span class="line">  <span class="built_in">print</span>(error)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">  <span class="keyword">break</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="예시">예시<a title="#예시" href="#예시"></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//성공,에러를 아예 이 타입에 담고 싶은 것</span></span><br><span class="line"><span class="comment">//1.에러정의</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Result1</span>&lt;<span class="title">Success</span>, <span class="title">Failure</span>&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">case</span> success(<span class="type">Success</span>) <span class="comment">//성공(데이터) -(Success)은 연관값. 열거형에서 연관값이란 추가적인, 구체적인 정보를 담기 위한 것.(선택사항임)</span></span><br><span class="line">  <span class="keyword">case</span> failure(<span class="type">Failure</span>) <span class="comment">//에러</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Weekday</span> </span>&#123;</span><br><span class="line"> <span class="comment">//월요일의 (몇시)를 넣고 싶은 것.. //타입이 달라도 된다. (String)</span></span><br><span class="line">  <span class="keyword">case</span> monday(<span class="type">Int</span>) </span><br><span class="line">  <span class="keyword">case</span> tuesday(<span class="type">Int</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> dat : <span class="type">Weekday</span> = <span class="type">Weekday</span>.monday(<span class="number">8</span>) <span class="comment">//월요일 8시</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//제네릭으로 하면 이런 느낌. </span></span><br><span class="line"><span class="comment">//enum Weekday&lt;T, A&gt; &#123;</span></span><br><span class="line"><span class="comment">//  case monday(T)</span></span><br><span class="line"><span class="comment">//  case tuesday(A)</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br></pre></td></tr></table></figure><p>이렇게 …!!</p><h2 id="generics-왜-써야할-까?">Generics 왜 써야할 까?<a title="#generics-왜-써야할-까?" href="#generics-왜-써야할-까?"></a></h2><p>제네릭이 자주 등장하는 이유는 형식에 의존하지 않는 범용코드 작성이 가능하고, 코드의 재사용성 높아 유지보수하기에 적합하여(편의성 증대) 주로 사용되는 방식이다. Generics의 가장 큰 장점은 형식에 관계없이, 한번의 구현으로 모든 자료형을 처리한다는 점!!</p><h3 id="예시2"><em>예시2</em><a title="#예시2" href="#예시2"></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">swapInteger</span><span class="params">(lhs: <span class="keyword">inout</span> Int, rhs: <span class="keyword">inout</span> Int)</span></span> &#123;</span><br><span class="line">   <span class="keyword">let</span> tmp = lhs</span><br><span class="line">   lhs = rhs</span><br><span class="line">   rhs = tmp</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="inout은-왜-쓸까-?-(코너-속의-코너)-그-전에-함수실행의-메모리-구조-먼저-이해해보자."><strong>inout</strong>은 왜 쓸까 ? (코너 속의 코너) 그 전에 함수실행의 메모리 구조 먼저 이해해보자.<a title="#inout은-왜-쓸까-?-(코너-속의-코너)-그-전에-함수실행의-메모리-구조-먼저-이해해보자." href="#inout은-왜-쓸까-?-(코너-속의-코너)-그-전에-함수실행의-메모리-구조-먼저-이해해보자."></a></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;main()&#123; &lt;--- 1.프레임워크엔 main함수가 숨어있다. </span><br><span class="line"></span><br><span class="line">func dosomething(a: Int, b: Int) -&gt; Int &#123;</span><br><span class="line">&#x2F;&#x2F; a는 let이기 때문에 a &#x3D; 5로 마음대로 바꿀 수 없고, let a &#x3D; a로 선언한다. 왜 ? 파라미터는 무조건 상수이기 때문!!!</span><br><span class="line"></span><br><span class="line">  let a &#x3D; a </span><br><span class="line">  let b &#x3D; b</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F;⭐️ 정 변경하고 싶은 경우 이런식으로 c라는 변수를 만들어 변경</span><br><span class="line">  var c &#x3D; a</span><br><span class="line">  c +&#x3D; 3</span><br><span class="line">  </span><br><span class="line">  return c + b &#x2F;&#x2F;10</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var x &#x3D; 3</span><br><span class="line">var y &#x3D; 4</span><br><span class="line"></span><br><span class="line">dosomething(a: 3, b: 4) &#x2F;&#x2F;보통 이런식으로 변경하지만 </span><br><span class="line">dosomething(a: x, b: y) &#x2F;&#x2F;인 경우.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;2. inout이해하기</span><br><span class="line">var a &#x3D; 10 </span><br><span class="line">var b &#x3D; 20</span><br><span class="line"></span><br><span class="line">swapInteger(lhs: &amp;a, rhs: &amp;b)</span><br><span class="line">a &#x2F;&#x2F;20</span><br><span class="line">b &#x2F;&#x2F;10</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1.-함수실행시-메모리구조-이해하기"><strong>1. 함수실행시 메모리구조 이해하기</strong><a title="#1.-함수실행시-메모리구조-이해하기" href="#1.-함수실행시-메모리구조-이해하기"></a></h3><p>xcode든 playground든 프레임워크 가장 상위에 main()함수가 숨어 있다. dosomething()이라는 함수 가 있을 때, 함수 안에선 <strong>let a = a</strong> 이런식으로 사용해야한다. 이유는 파라미터는 항상 상수이기 때문. 값을 꼭 바꾸고 싶다면 c 라는 임의의 변수를 하나 만들어 위처럼 사용할 수도 있다. <strong>inout</strong>을 알아보기 전에 <strong>함수실행의 메모리 구조</strong>에 대해 알아보자 ! 직접 만들어서 이해해봄!!</p><p><img src="/image/POST/funcframe.png" alt="" class="φcx"></p><p>외우자, <strong>코 데 힙 스 !</strong><br>위 이미지는 함수실행의 메모리 구조를 보여준다. 함수실행은 항상 스택을 만든다. 스택1에 함수실행1이라고 이해하면 되고, 함수가 실행되고 그것을 마치면 스택은 사라진다. 즉, 모든 일이 종료되면 여튼 없어짐!!</p><p>이를 바탕으로 위 예시 코드로 설명할 때, main()가 가장 먼저 실행되고, 다음으로 dosomething(a: 3, b: 4)가 실행된다. x,y의 공간인 [스택 1]이 먼저 생성된다. 그 다음으로 a,b,c의 공간 [스택 2]가 생성된다.  dosomething(a: x, b: y)의 함수가 실행될 때, x는 a값을 복사해오고, y는 b값을 복사해온다. 함수가 return c + b에 따라 10을 갖는다. 이때 10은 임시거처에 있고 함수는 종료되면서 임시 값이 main()으로 전해질 수 있는 상태다.</p><p>스택의 과정은 일단 이렇고, 함수를 실행할 때 파라미터는 let이라는 점! 나만의 공간을 만들고 던지는 변수 !! 그 변수를 복사해서 사용하는 것 !! 이 기본적인 함수실행의 메모리 구조인 것이다.</p><h2 id="그래서-...-inout은-왜-쓸까-?">그래서 … <strong>inout</strong>은 왜 쓸까 ?<a title="#그래서-...-inout은-왜-쓸까-?" href="#그래서-...-inout은-왜-쓸까-?"></a></h2><h3 id="2.-inout이해하기"><strong>2. inout이해하기</strong><a title="#2.-inout이해하기" href="#2.-inout이해하기"></a></h3><p>inout을 쓰는 가장 큰 이유는 메모리 주소를 참조한다는 것이다.(?) 띠용… 다시 말해보자면…</p><p>inout은 복사해서 사용하는 것이 아니라, inout을 붙인 파라미터의 함수를 실행할 때, 호출 시 dosomething(a: &amp;x, b: &amp;y)이런 식으로 호출하고, 이 형식은 메모리 주소를 참조한다는 의미이다.</p><p>복사하는 순간 a를 쓰고, b를 쓰는 게 아니라… a를 가르키고 b를 가르키는 것이다. (x와y를 가르키는 것이 아니라…함수실행 프레임과 반대로) 그래서 변형도 가능하다.</p><p>tmp는 임시장소, inout은 원래장소에 접근하는 것. 그래서 위 예시코드를 보면 lhs과 rhs의 값을 보다 편의하게 바꿀 수 있게 된다…!</p><h1 id="generics의-쓰임..">Generics의 쓰임…<a title="#generics의-쓰임.." href="#generics의-쓰임.."></a></h1><p>inout까지 설명이 되었고, 본론으로 돌아와서. 그럼 Generics은 왜 써야하는 거야? 의문이 생긴다. 위에 서 말했듯, 제네릭을 쓰는 이유는 모든 자료형을 처리하기 위해 쓴다. 다시 예시코드를 보면,</p><p><em>예시코드(예시2)</em></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">swapInteger</span><span class="params">(lhs: <span class="keyword">inout</span> Int, rhs: <span class="keyword">inout</span> Int)</span></span> &#123;</span><br><span class="line">   <span class="keyword">let</span> tmp = lhs</span><br><span class="line">   lhs = rhs</span><br><span class="line">   rhs = tmp</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>해당 코드를 실행하기 위해 inout으로 효과적으로 쓸 수 있지만, 만약 (Int가 아닌) 타입이 다를 경우… 아래와 같은 코드 중복이 발생한다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">swapInteger16</span><span class="params">(lhs: <span class="keyword">inout</span> Int16, rhs: <span class="keyword">inout</span> Int16)</span></span> &#123;</span><br><span class="line">   <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">swapInteger64</span><span class="params">(lhs: <span class="keyword">inout</span> Int64, rhs: <span class="keyword">inout</span> Int64)</span></span> &#123;</span><br><span class="line">   <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">swapDouble</span><span class="params">(lhs: <span class="keyword">inout</span> Double, rhs: <span class="keyword">inout</span> Double)</span></span> &#123;</span><br><span class="line">   <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>이러한 방식은 코드 중복의 문제도 있지만, 값을 바꾸어야할 때, 함수에 포함된 코드를 하나하나 다 수정해야한다는 문제도 있다.</p><p><strong>이 이유로 제내릭을 쓴다.</strong></p><p><em>Generics 기본형</em></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">name</span>&lt;T&gt;<span class="params">(parameters)</span></span> -&gt; <span class="type">Type</span> &#123;</span><br><span class="line">code</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>타입 파라미터는 함수 내부에서 파라미터 형식이나 리턴형으로 사용된다. (함수 바디에서 사용하는 것도 가능하다). 제네릭 선언시 보통은 T를 사용하지만 다른 이름을 사용하는 것도 문제가 없다. 다만, T로 쓰는 게 약속이기에 거의 T를 쓴다. 형식이름이기 때문에 UpperCamelcase로 대문자 한글자만 선언한다. 그리고 2개이상 선언하는 것도 가능하다.</p><p>그래서 위의 예시코드를 제네릭을 이용하여 작성해보면 아래와 같은 코드처럼 쓸 수 있게 된다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">swapValue</span>&lt;T&gt;<span class="params">(lhs: <span class="keyword">inout</span> T, rhs: <span class="keyword">inout</span> T)</span></span> &#123;   <span class="comment">//컴파일러가 전달된 형식의 적합한 코드를 자동으로 생성</span></span><br><span class="line">   <span class="keyword">let</span> tmp = lhs</span><br><span class="line">   lhs = rhs</span><br><span class="line">   rhs = tmp</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a = <span class="number">1</span></span><br><span class="line">b = <span class="number">2</span></span><br><span class="line"></span><br><span class="line">swapValue(lhs: &amp;a, rhs: &amp;b)    <span class="comment">// Int를 파라미터로 전달</span></span><br><span class="line">a <span class="comment">//2</span></span><br><span class="line">b <span class="comment">//1</span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"><span class="keyword">var</span> <span class="built_in">c</span> = <span class="number">1.2</span></span><br><span class="line"><span class="keyword">var</span> d = <span class="number">3.4</span></span><br><span class="line"></span><br><span class="line">swapValue(lhs: &amp;<span class="built_in">c</span>, rhs: &amp;d)    <span class="comment">// Double을 파라미터로 전달</span></span><br><span class="line"><span class="built_in">c</span> <span class="comment">//3.4</span></span><br><span class="line">d <span class="comment">//1.2</span></span><br></pre></td></tr></table></figure><p>위의 중복적으로 처리한 일반 함수와 비교해보면, 작성해야하는 코드의 양이 비약적으로 감소하는 모습을 볼 수 있다. 여기서 타입 파라미터는 실제 자료형으로 대체되는 플레이스 홀더(어떤 기호같은것) ===&gt; 새로운 형식이 생성되는 것은 아니고, 코드가 실행될 때 문맥에 따라서 실제 형식으로 대체되는 플레이스 홀더일 뿐이다.</p><p>그리고 파라미터는 깔을 맞춰줘야한다. var d = 3.4을 var d = 3으로 바꾸면 Cannot convert value of type ‘Int’ to expected argument type 'Double’라고 오류난다.</p><p>제네릭이 그저 어렵게만 느껴졌는데, 제네릭의 사전적의미는  <strong>일반적인</strong>이다. 일반적인??이라고 생각하니 좀 받아들이기 쉬워지는 것 같기도 하고… 어쨌든 제네릭 형식을 이해한 후 다시 위의 ** 2. Result타입으로 에러처리** 부분을 한번 더 참고하면 좋을 것 같다.</p><p>제네릭에 대한 자세한 내용은 이후 더 다뤄볼 생각이다.</p><p>아래링크(준비중)</p>]]></content>
      
      
      <categories>
          
          <category> post </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> throwing </tag>
            
            <tag> do-catch,try </tag>
            
            <tag> Result </tag>
            
            <tag> ErrorHandling </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]scrollToRow 최상단 이동</title>
      <link href="2020/09/25/Swift-%EC%B5%9C%EC%83%81%EB%8B%A8-%EC%9D%B4%EB%8F%99/"/>
      <url>2020/09/25/Swift-%EC%B5%9C%EC%83%81%EB%8B%A8-%EC%9D%B4%EB%8F%99/</url>
      
        <content type="html"><![CDATA[<h1 id="문제사항">문제사항<a title="#문제사항" href="#문제사항"></a></h1><p><img src="/image/chl1.png" alt="" class="φcx"></p><h3 id="[정상적인-모습]">[정상적인 모습]<a title="#[정상적인-모습]" href="#[정상적인-모습]"></a></h3><p><img src="/image/chl2.png" alt="" class="φcx"></p><h3 id="[다음화면]">[다음화면]<a title="#[다음화면]" href="#[다음화면]"></a></h3><p>1번뷰에서 2번뷰로 이동하고 나서 1번뷰로 오면 버튼이 있어야함.<br>(버튼은 ViewdidAppear 에 있음)</p><p><img src="/image/chl4.png" alt="" class="φcx"></p><h3 id="[스크롤을-아래로-많이-내리고]">[스크롤을 아래로 많이 내리고]<a title="#[스크롤을-아래로-많이-내리고]" href="#[스크롤을-아래로-많이-내리고]"></a></h3><p><img src="/image/chl3.png" alt="" class="φcx"></p><h3 id="[다시-화면-돌아오면-버튼-사라짐]">[다시 화면 돌아오면 버튼 사라짐]<a title="#[다시-화면-돌아오면-버튼-사라짐]" href="#[다시-화면-돌아오면-버튼-사라짐]"></a></h3><p>이게 사라지는 게 아니라, 네이게이션 높이만큼 뷰가 아래</p><p><img src="/image/chl.png" alt="" class="φcx"></p><h3 id="제일-위로-올리면-네비게이션-높이만큼-뷰가-날아가-있음.">제일 위로 올리면 네비게이션 높이만큼 뷰가 날아가 있음.<a title="#제일-위로-올리면-네비게이션-높이만큼-뷰가-날아가-있음." href="#제일-위로-올리면-네비게이션-높이만큼-뷰가-날아가-있음."></a></h3><p>뷰가 날아갔다기 보단, 아래로 네이게이션 높이만큼 뷰가 아래로 끌려서<br>버튼이 안보인거임. (버튼 프레임 높게줘서 확인해봄…)</p><h1 id="범인">범인<a title="#범인" href="#범인"></a></h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//MARK:- UIScrollViewDelegate</span></span><br><span class="line"><span class="comment">//스크롤뷰 제어</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">DetailMenuVC</span>: <span class="title">UIScrollViewDelegate</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">scrollViewDidScroll</span><span class="params">(<span class="number">_</span> scrollView: UIScrollView)</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> scrollView.contentOffset.y &lt; <span class="number">1</span> &#123;</span><br><span class="line">      scrollView.contentOffset.y = <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> scrollView.contentOffset.y &gt;= <span class="number">260</span> &#123;</span><br><span class="line">      title = <span class="string">"\(data!.name)"</span></span><br><span class="line">      <span class="keyword">self</span>.navigationController?.navigationBar.setBackgroundImage(<span class="type">UIImage</span>(named: <span class="string">"back"</span>), <span class="keyword">for</span>: .any, barMetrics: .<span class="keyword">default</span>)</span><br><span class="line">      [leftButton,rightButton].forEach&#123;</span><br><span class="line">        $<span class="number">0</span>.tintColor = .black</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">      navigationBarLess()</span><br><span class="line">      title = <span class="string">""</span></span><br><span class="line">      [leftButton,rightButton].forEach&#123; $<span class="number">0</span>.tintColor = .lightGray &#125;</span><br><span class="line">      </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// print(scrollView.contentOffset.y)</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>범인은 이것 때문인 것 같음… 테이블뷰랑 버튼 프레임에는 문제 없음확인…<br>이것 주석처리 하고 했을 땐 정상적임을 확인,</p><p>나는 다 필요해 !!!</p><h1 id="해결-:-scrolltorow이용하여-처리.">해결 : scrollToRow이용하여 처리.<a title="#해결-:-scrolltorow이용하여-처리." href="#해결-:-scrolltorow이용하여-처리."></a></h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//화면 이동시 테이블뷰의 최상단으로 강제 이동(뷰가 잘리는 부분 임시 처리)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> indexPath = <span class="type">NSIndexPath</span>(row: <span class="type">NSNotFound</span>, section: <span class="number">0</span>)</span><br><span class="line"><span class="keyword">self</span>.tableView.scrollToRow(at: indexPath <span class="keyword">as</span> <span class="type">IndexPath</span>, at: .top, animated: <span class="literal">false</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> scrollToRow </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift] REST API - decode</title>
      <link href="2020/09/25/Swift-RESTAPI/"/>
      <url>2020/09/25/Swift-RESTAPI/</url>
      
        <content type="html"><![CDATA[<h2 id="model">Model<a title="#model" href="#model"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MenuData</span>: <span class="title">Codable</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> id: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> image: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> caption: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> price: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">var</span> optionGroup: [<span class="type">OptionGroup?</span>]</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">init</span>() &#123;</span><br><span class="line">        id = <span class="number">0</span></span><br><span class="line">        name = <span class="string">""</span></span><br><span class="line">        image = <span class="string">""</span></span><br><span class="line">        caption = <span class="string">""</span></span><br><span class="line">        price = <span class="number">0</span></span><br><span class="line">        optionGroup = [<span class="type">OptionGroup</span>]()</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">CodingKeys</span>: <span class="title">String</span>, <span class="title">CodingKey</span> </span>&#123;</span><br><span class="line">        <span class="keyword">case</span> id, name, image, caption, price</span><br><span class="line">        <span class="keyword">case</span> optionGroup = <span class="string">"option_group"</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">OptionGroup</span>: <span class="title">Codable</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">var</span> id: <span class="type">Int</span></span><br><span class="line">        <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">        <span class="keyword">var</span> menuId: <span class="type">Int</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">var</span> mandatory: <span class="type">Bool</span></span><br><span class="line">        <span class="keyword">var</span> option: [<span class="type">Option</span>]</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">init</span>() &#123;</span><br><span class="line">            id = <span class="number">0</span></span><br><span class="line">            name = <span class="string">""</span></span><br><span class="line">            mandatory = <span class="literal">true</span></span><br><span class="line">            menuId = <span class="number">0</span></span><br><span class="line">            option = [<span class="type">Option</span>]()</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="class"><span class="keyword">enum</span> <span class="title">CodingKeys</span>: <span class="title">String</span>, <span class="title">CodingKey</span> </span>&#123;</span><br><span class="line">            <span class="keyword">case</span> id, name, mandatory, option</span><br><span class="line">            <span class="keyword">case</span> menuId = <span class="string">"menu_id"</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="class"><span class="keyword">class</span> <span class="title">Option</span>: <span class="title">Codable</span> </span>&#123;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">var</span> id: <span class="type">Int</span></span><br><span class="line">            <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">            <span class="keyword">var</span> price: <span class="type">Int</span></span><br><span class="line">            <span class="keyword">var</span> optionGroupId: <span class="type">Int</span></span><br><span class="line">            <span class="keyword">var</span> selectPos: <span class="type">Bool</span></span><br><span class="line">            </span><br><span class="line">            <span class="keyword">init</span>() &#123;</span><br><span class="line">                id = <span class="number">0</span></span><br><span class="line">                name = <span class="string">""</span></span><br><span class="line">                price = <span class="number">0</span></span><br><span class="line">                optionGroupId = <span class="number">0</span></span><br><span class="line">                selectPos = <span class="literal">false</span></span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="class"><span class="keyword">enum</span> <span class="title">CodingKeys</span>: <span class="title">String</span>, <span class="title">CodingKey</span> </span>&#123;</span><br><span class="line">                <span class="keyword">case</span> id, name, price, selectPos</span><br><span class="line">                <span class="keyword">case</span> optionGroupId = <span class="string">"option_group_id"</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="변수로-model-가져오기">변수로 Model 가져오기<a title="#변수로-model-가져오기" href="#변수로-model-가져오기"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> usd : <span class="type">MenuData?</span></span><br></pre></td></tr></table></figure><h2 id="urlsession---jsondecoder">URLSession - JSONDecoder<a title="#urlsession---jsondecoder" href="#urlsession---jsondecoder"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fechData</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="keyword">let</span> url = <span class="type">URL</span>(string: <span class="type">UrlBase</span>.menuInstance)</span><br><span class="line">  <span class="type">URLSession</span>.shared.dataTask(with: url!) &#123; (data, response, error) <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">if</span> error == <span class="literal">nil</span> &#123;</span><br><span class="line">      <span class="keyword">do</span>&#123;</span><br><span class="line">        <span class="keyword">self</span>.usd = <span class="keyword">try</span> <span class="type">JSONDecoder</span>().decode(<span class="type">MenuData</span>.<span class="keyword">self</span>, from: data!)</span><br><span class="line">      &#125;<span class="keyword">catch</span>&#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"catch"</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="type">DispatchQueue</span>.main.async&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">print</span>(<span class="string">"usd?.name : \(self.usd?.name)"</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">"Error"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;.resume()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="urlbase">UrlBase<a title="#urlbase" href="#urlbase"></a></h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">UrlBase</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">let</span> menuInstance = <span class="string">"http://52.79.251.125/menu/"</span></span><br><span class="line"></span><br><span class="line">(중략)</span><br><span class="line">이런식으로 쭉 있음 </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="id으로-api구분하여-가져오기">id으로 api구분하여 가져오기<a title="#id으로-api구분하여-가져오기" href="#id으로-api구분하여-가져오기"></a></h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">var</span> id : <span class="type">Int</span> = <span class="number">20</span></span><br></pre></td></tr></table></figure><h3 id="이런식으로-id값에-따라-가져올-수-있음">이런식으로 id값에 따라 가져올 수 있음<a title="#이런식으로-id값에-따라-가져올-수-있음" href="#이런식으로-id값에-따라-가져올-수-있음"></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"UrlBase.menuInstance.\(String(id))"</span></span><br><span class="line">\(<span class="type">String</span>(id))</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> JSON </tag>
            
            <tag> RESTAPI </tag>
            
            <tag> Codable </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[swift]Alamofire 작업하기</title>
      <link href="2020/09/16/swift-Alamofire-%EC%9E%91%EC%97%85%ED%95%98%EA%B8%B0/"/>
      <url>2020/09/16/swift-Alamofire-%EC%9E%91%EC%97%85%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//json에서 name만 가져옴</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> menuData = json[<span class="string">"option_group"</span>].array&#123;</span><br><span class="line">        <span class="keyword">for</span> e <span class="keyword">in</span> <span class="number">0</span>..&lt;menuData.<span class="built_in">count</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(e)</span><br><span class="line">        <span class="keyword">self</span>.arrtest.append(menuData[e][<span class="string">"name"</span>].stringValue)</span><br><span class="line">       <span class="built_in">print</span>(<span class="string">"arrtest: \(self.arrtest)"</span>)</span><br><span class="line">       </span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> Alamofire </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]Could not build Objective-C module &#39;SnapKit&#39;</title>
      <link href="2020/09/15/Swift-Could-not-build-Objective-C-module-SnapKit/"/>
      <url>2020/09/15/Swift-Could-not-build-Objective-C-module-SnapKit/</url>
      
        <content type="html"><![CDATA[<p><img src="/image/err1.png" alt="" class="φcx"></p><p>이런식으로 오류가 떴다.<br>코드상 이런 에러 뜰 리 없구 또 코코아팟의 까닭모를 오류중 하나겠지 싶어 이것저것<br>내가 아는 방법 총 동원했는데 해결되지 않아 검색했다…</p><p>역시나 원인은 알 수 없지만,<br>맨 마지막 'SnapKit’은 라이브러리 이름이고, 어떤 라이브러리에 특정하게 나는 오류가 아니라, 그냥 어느 라이브러리라면, <s>(늘 그렇듯)</s> 코코아팟이라면 모두 일어날 수 있는 오류…</p><p><s>cocoapod의 불편함</s></p><p>이번엔</p><p>공용레포에선 정상적인데 내꺼로 가져오기만하면 오류,<br>둘다 새로 클론 쓴거라서 틀린거 1도 없는데…</p><p>이유는 모르겠고 그냥 정말 오류인 듯하다…<br>뭔가 fw데이터량이 너무 중복돼서?? 인것 같기도…</p><p><s>근데 다 주소값 있지 않나,</s></p><p><img src="/image/err2.png" alt="" class="φcx"></p><p>어쨌든,</p><p>xcode상단의</p><p>Preferences로 간다.  'cmd  , '로도 나올수 있는 곳.</p><p><img src="/image/err3.png" alt="" class="φcx"></p><p>그럼 드라이버 데이타로 갈 수 있는 화살표가 보이는 데 <strong>이곳 클릭</strong></p><p><img src="/image/err4.png" alt="" class="φcx"></p><p>열고~ 실행된 xcode프로젝트에 대한 데이타 공간인 것 같다.</p><p>여기서부터가 시작임.</p><h2 id="1.">1.<a title="#1." href="#1."></a></h2><p>해당 프로젝트에 대한 데이터 폴더를 모두 삭제한다. (위 밑줄 참고)<br>(모야 프로젝트 다 사라지는 거 아냐?라고 생각할 수 있지만 열었다는 data만 없애는 것이니 안심…)</p><h2 id="2.">2.<a title="#2." href="#2."></a></h2><p>해당 프로젝트 폴더에 가서  <strong>Project의.xcworkspace</strong>,<br><strong>Podfile.lock</strong> 파일 과  <strong>Pods</strong> 폴더를 삭제한다.<br><strong>((((총 3개!!!))))</strong><br>(여긴 프로젝트를 직접 지우는 것이라 조금 긴장함…ㅠㅠ… <s>안되면 블로그 폭파해버릴거야…</s> 이런 느낌…)</p><h2 id="3.">3.<a title="#3." href="#3."></a></h2><p>아래 명령어를 터미널에서 실행</p><p>(주의 : 콘솔은 해당 Project로 이동되어 있는 상태).</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod install --verbose</span><br></pre></td></tr></table></figure><h2 id="4.">4.<a title="#4." href="#4."></a></h2><p>그럼 디지몬세계처럼 뭐가 엄청 많이 깔리구 , (cocoapod을 그냥 완전히 제거했다가 다시 까는 개념인거 가틈,)</p><h2 id="5.">5.<a title="#5." href="#5."></a></h2><p>조신하게  기다렸던 <strong>Project의.xcworkspace</strong> 가 다시 새로 깔리면 command + b 를 눌러 Project를 다시 빌드 해본다.</p><p>그러니 해결됨 ㅠㅠㅠ 감사합니다…</p><p><s>젭알 코코아팟 쓰지말구 FM 쓰자…ㅠㅠㅠ없는 건 어쩔 수 없지만</s></p><ul><li><a href="https://gogorchg.tistory.com/entry/iOS-Error-Could-not-build-ObjectiveC-module-Firebase" target="_blank">출처 : https://gogorchg.tistory.com/entry/iOS-Error-Could-not-build-ObjectiveC-module-Firebase</a></li></ul><h1 id="tips">tips<a title="#tips" href="#tips"></a></h1><p>cocoapod쓰면서 별별 오류를 다 경험하게 되는 데,</p><p>cocoapod오류나면 제일 먼저 해보는 것 써본당.,</p><ul><li><ol><li>버전 확인이 제일 기본. (라이브러리기 때문에 언제 업뎃될지 모름!!!)<br>(이상없다면, 1번으로…)</li></ol></li><li><ol start="2"><li>podfile가서 오류나는 라이브러리 주석처리하고 pod install, 그리고 주석 해제후 다시 pod install (없앴다가 다시 까는 개념)</li></ol></li><li><ol start="3"><li>cocoapod를 재설치</li></ol></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gem uninstall cocoapods</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gem install xcodeproj</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gem install cocoapods</span><br></pre></td></tr></table></figure><p>(근데 여기까진 왠만하면안간다… )</p><ul><li><ol start="4"><li>xcode이전 버전으로 하고 있기…</li></ol></li></ul><p>xcode업뎃하면 라이브러리에 대한 오류가 갑자기 우수수 날때가 있는데, (1~3 다 안먹히면) 그땐 그냥 이전버전을 하나 설치해서 쓰다가, 추후 안정화되면 옮긴다,</p><p>ㅎㅎ…</p>]]></content>
      
      
      <categories>
          
          <category> error </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> Error </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="2020/09/15/hello-world/"/>
      <url>2020/09/15/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank">GitHub</a>.</p><h2 id="quick-start">Quick Start<a title="#quick-start" href="#quick-start"></a></h2><h3 id="create-a-new-post">Create a new post<a title="#create-a-new-post" href="#create-a-new-post"></a></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank">Writing</a></p><h3 id="run-server">Run server<a title="#run-server" href="#run-server"></a></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank">Server</a></p><h3 id="generate-static-files">Generate static files<a title="#generate-static-files" href="#generate-static-files"></a></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank">Generating</a></p><h3 id="deploy-to-remote-sites">Deploy to remote sites<a title="#deploy-to-remote-sites" href="#deploy-to-remote-sites"></a></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]UITableView(모음)</title>
      <link href="2020/09/14/Swift-UITableView-%EB%AA%A8%EC%9D%8C/"/>
      <url>2020/09/14/Swift-UITableView-%EB%AA%A8%EC%9D%8C/</url>
      
        <content type="html"><![CDATA[<h1 id="cell">Cell<a title="#cell" href="#cell"></a></h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">cell</span>(셀이름) : <span class="title">UITableViewCell</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="keyword">init</span>(style: <span class="type">UITableViewCell</span>.<span class="type">CellStyle</span>, reuseIdentifier: <span class="type">String?</span>) &#123;</span><br><span class="line">      <span class="keyword">super</span>.<span class="keyword">init</span>(style: style, reuseIdentifier: reuseIdentifier)</span><br><span class="line">   &#125;</span><br><span class="line">     </span><br><span class="line">     <span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">       <span class="built_in">fatalError</span>(<span class="string">"init(coder:) has not been implemented"</span>)</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="uitableview">UITableView<a title="#uitableview" href="#uitableview"></a></h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//선언</span></span><br><span class="line"><span class="keyword">let</span> tableView = <span class="type">UITableView</span>()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">setTableView</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">tableView.dataSource = <span class="keyword">self</span> <span class="comment">//필수</span></span><br><span class="line">tableView.delegate = <span class="keyword">self</span> <span class="comment">//필요시</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//frame(크기) 정의</span></span><br><span class="line">tableView.frame = view.frame </span><br><span class="line"></span><br><span class="line"><span class="comment">////동적높이 -&gt; Int로 주면 해당 값이 셀의 고정높이가 됨. 예)tableView.rowHeight = 44</span></span><br><span class="line">tableView.rowHeight = <span class="type">UITableView</span>.automaticDimension </span><br><span class="line"><span class="comment">// tableView.estimatedRowHeight = 0 // automaticDimension이 셋팅되기 전 셀높이</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//배경색</span></span><br><span class="line">tableView.backgroundColor = .white </span><br><span class="line"><span class="comment">//선긋기 옵션</span></span><br><span class="line">tableView.separatorStyle = .<span class="keyword">none</span></span><br><span class="line"><span class="comment">//필수</span></span><br><span class="line">view.addSubview(tableView)</span><br><span class="line"></span><br><span class="line">tableView.register(cell(셀이름).<span class="keyword">self</span>, forCellReuseIdentifier: <span class="string">"cell(셀이름 or Identifier)"</span> <span class="comment">//테이블뷰에 셀 등록</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="uitableviewdatasource">UITableViewDataSource<a title="#uitableviewdatasource" href="#uitableviewdatasource"></a></h1><h3 id="uitableview를-구현하기-위한-필수-프로토콜-임.">UITableView를 구현하기 위한 필수 프로토콜 임.<a title="#uitableview를-구현하기-위한-필수-프로토콜-임." href="#uitableview를-구현하기-위한-필수-프로토콜-임."></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">ViewController</span>: <span class="title">UITableViewDataSource</span></span>&#123;</span><br><span class="line"><span class="comment">//섹션 갯수</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">numberOfSections</span><span class="params">(<span class="keyword">in</span> tableView: UITableView)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">  <span class="number">3</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//셀 갯수</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, numberOfRowsInSection section: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> section == <span class="number">0</span> &#123; <span class="comment">//섹션의 인덱스가 0일 경우</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">5</span></span><br><span class="line">  &#125;<span class="keyword">else</span> section == <span class="number">1</span> &#123; 섹션의 인덱스가 <span class="number">1</span>일 경우</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">  &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span> <span class="comment">// + optionsCount</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//셀 디자인(속성)</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, cellForRowAt indexPath: IndexPath)</span></span> -&gt; <span class="type">UITableViewCell</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> cell = tableView.dequeueReusableCell(withIdentifier: <span class="string">"cell"</span>, <span class="keyword">for</span>: indexPath) <span class="keyword">as</span>! cell</span><br><span class="line">   cell.backgroundColor = .white</span><br><span class="line">retrun cell</span><br></pre></td></tr></table></figure><p><em>swich문 쓸때</em></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> indexPath.section &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">  <span class="keyword">if</span> indexPath.row == <span class="number">0</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> imageCell = tableView.dequeueReusableCell(withIdentifier: <span class="string">"ImageTableViewCell"</span>, <span class="keyword">for</span>: indexPath) <span class="keyword">as</span>! <span class="type">ImageTableViewCell</span></span><br><span class="line">    <span class="keyword">return</span> imageCell</span><br><span class="line">    </span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> indexPath.row == <span class="number">1</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> saleCell = tableView.dequeueReusableCell(withIdentifier: <span class="string">"SaleTableViewCell"</span>, <span class="keyword">for</span>: indexPath) <span class="keyword">as</span>! <span class="type">SaleTableViewCell</span></span><br><span class="line">    <span class="keyword">return</span> saleCell</span><br><span class="line">    </span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> indexPath.row == <span class="number">2</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> nameCell = tableView.dequeueReusableCell(withIdentifier: <span class="string">"NameTableViewCell"</span>, <span class="keyword">for</span>: indexPath) <span class="keyword">as</span>! <span class="type">NameTableViewCell</span></span><br><span class="line">    nameCell.detailmenuName.text = <span class="string">"\(mainName)"</span></span><br><span class="line">    <span class="keyword">return</span> nameCell</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    ...(중략) 이런식으로 indexPath.row == <span class="number">5</span>까지..(셀이 고정값이라면..)</span><br><span class="line">    indexPath.row 는 셀의 인덱스값. </span><br><span class="line">    </span><br><span class="line"> </span><br><span class="line"> <span class="comment">//case 0~ 2는 section의 인덱스값에 해당됨. </span></span><br><span class="line"> <span class="comment">//section은 case 2+optionGroupCount(Int값) 이런식으로도 표현하여 임의적으로 섹션 순서 변경 할 수 있음....  </span></span><br><span class="line"> <span class="comment">//예를들면,, </span></span><br><span class="line"> </span><br><span class="line"> <span class="keyword">case</span> <span class="number">1</span> + optionGroupCount:</span><br><span class="line">   <span class="keyword">let</span> costCell = tableView.dequeueReusableCell(withIdentifier: <span class="string">"CostTableViewCell"</span>, <span class="keyword">for</span>: indexPath) <span class="keyword">as</span>! <span class="type">CostTableViewCell</span></span><br><span class="line">   costCell.costLableWon.text = <span class="string">"\(menuCost)원"</span></span><br><span class="line">   <span class="keyword">return</span> costCell</span><br><span class="line"> <span class="keyword">case</span> <span class="number">2</span> + optionGroupCount - <span class="number">2</span> :</span><br><span class="line"> </span><br><span class="line"> <span class="comment">//라면, case 2+optionGroupCount-2는 1+optionGroupCount보다 더 우선 순위에 보여지게 됨.</span></span><br></pre></td></tr></table></figure><h1 id="uitableviewdelegate">UITableViewDelegate<a title="#uitableviewdelegate" href="#uitableviewdelegate"></a></h1><h3 id="uitableview를-구현하고-필요-옵션이-필요한-경우-사용되는-부가-프로토콜-임.">UITableView를 구현하고 필요 옵션이 필요한 경우 사용되는 부가 프로토콜 임.<a title="#uitableview를-구현하고-필요-옵션이-필요한-경우-사용되는-부가-프로토콜-임." href="#uitableview를-구현하고-필요-옵션이-필요한-경우-사용되는-부가-프로토콜-임."></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="header">Header<a title="#header" href="#header"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Header text넣기 (원치 않는 다면, 공백으로 처리)</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, titleForHeaderInSection section: Int)</span></span> -&gt; <span class="type">String?</span> &#123;</span><br><span class="line">   <span class="keyword">switch</span> section &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">" "</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">" "</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span> + optionGroupCount:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">"jjjjj"</span><span class="comment">// menuData[section].category</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">3</span> + optionGroupCount:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">" "</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">4</span> + optionGroupCount-<span class="number">2</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">" "</span></span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="string">"ddddddddd"</span> <span class="comment">//"\(details[section].optionGroup)" &lt;- 이런식으로 데이터값 불러 올 수 있음</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Header 높이 지정(원치 않는 다면 0)</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, heightForHeaderInSection section: Int)</span></span> -&gt; <span class="type">CGFloat</span> &#123;</span><br><span class="line">  <span class="keyword">switch</span> section &#123;</span><br><span class="line">  <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">  <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">  <span class="keyword">case</span> <span class="number">2</span>+optionsCount:</span><br><span class="line">    <span class="keyword">return</span> <span class="number">44</span></span><br><span class="line">  <span class="keyword">case</span> <span class="number">3</span>+optionsCount:</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">  <span class="keyword">case</span> <span class="number">4</span>+optionsCount:</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">  <span class="keyword">default</span>:</span><br><span class="line">    <span class="keyword">return</span> <span class="number">44</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><em>주의</em></p><p>모두 공백으로 처리하고 싶은데 안될 경우</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, heightForHeaderInSection section: Int)</span></span> -&gt; <span class="type">CGFloat</span> &#123;</span><br><span class="line">       <span class="keyword">return</span> <span class="type">CGFloat</span>.leastNormalMagnitude <span class="comment">//CGFloat 양수 최소값 상수</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>이런 식으로 처리</p><h2 id="footer">Footer<a title="#footer" href="#footer"></a></h2><pre><code class="language-swift">//Footer에 text 넣기 (원치 않는 다면, 공백으로 처리)func tableView(_ tableView: UITableView, titleForFooterInSection section: Int) -&gt; String? {  switch section {  case 0:    return &quot; &quot;  case 1:    return &quot; &quot;  case 2:    return &quot; &quot;  default:      return &quot;안뇽&quot;    }  }  //Footer 높이 지정(원치 않는 다면 0)func tableView(_ tableView: UITableView, heightForFooterInSection section: Int) -&gt; CGFloat {  switch section {  case 0:    return 1  case 1:    return 1  case 2:    return 1  case 3:    return 1  case 4:    return 2  default:    return 0  }}</code></pre>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> UITableView </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift] Set&lt;UITouch&gt; 터치 판단</title>
      <link href="2020/09/06/Swift-Set-UITouch-%ED%84%B0%EC%B9%98-%ED%8C%90%EB%8B%A8/"/>
      <url>2020/09/06/Swift-Set-UITouch-%ED%84%B0%EC%B9%98-%ED%8C%90%EB%8B%A8/</url>
      
        <content type="html"><![CDATA[<ul><li><p><a href="https://developer.apple.com/documentation/swift/set" target="_blank">https://developer.apple.com/documentation/swift/set</a></p></li><li><p><a href="https://developer.apple.com/documentation/uikit/uitouch" target="_blank">https://developer.apple.com/documentation/uikit/uitouch</a></p></li></ul><h2 id="터치-좌표-얻기">터치 좌표 얻기<a title="#터치-좌표-얻기" href="#터치-좌표-얻기"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">touchesMoved</span><span class="params">(<span class="number">_</span> youches: Set&lt;UITouch&gt;, with event : UIEvent?)</span></span> &#123;</span><br><span class="line"><span class="keyword">let</span> touch = touches.first!</span><br><span class="line"></span><br><span class="line"><span class="comment">//터치가 발생한 뷰 기준 좌표</span></span><br><span class="line"><span class="keyword">let</span> point = touch.location(<span class="keyword">in</span>: touch.view)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> UITouch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]특정 Lable 속성 변경하기</title>
      <link href="2020/09/02/Swift-%ED%8A%B9%EC%A0%95-Lable-%EC%86%8D%EC%84%B1-%EB%B3%80%EA%B2%BD%ED%95%98%EA%B8%B0/"/>
      <url>2020/09/02/Swift-%ED%8A%B9%EC%A0%95-Lable-%EC%86%8D%EC%84%B1-%EB%B3%80%EA%B2%BD%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<p>한 Lable안 text에 다른 속성을 달리 주어야 하는 경우가 있다.<br>lable을 2개 붙여도 되지만,</p><p>각각의 lable이 큰 기능을 가지고 있지 않고 뷰 용도로만 사용된다면<br>하나의 레이블에 다른 text 속성을 달리하여 사용해도 무방하다.</p><p><img src="/image/l1.png" alt="" class="φcx"></p><p>“앱에서 미리결제” 이 부분을<br>NSAttributedString을 이용하여 다른 폰트~ 칼라로 적용해보자.</p><h1 id="lable">Lable<a title="#lable" href="#lable"></a></h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> yogiseoPay: <span class="type">UILabel</span> = &#123;</span><br><span class="line">   <span class="keyword">let</span> l = <span class="type">UILabel</span>()</span><br><span class="line">   l.text = <span class="string">"요기서 결제 앱에서 미리 결제"</span></span><br><span class="line">   l.font = <span class="type">FontModel</span>.toSize.customFont</span><br><span class="line">   l.textAlignment = .center</span><br><span class="line">   <span class="keyword">return</span> l</span><br><span class="line"> &#125;()</span><br></pre></td></tr></table></figure><h1 id="nsattributedstring">NSAttributedString<a title="#nsattributedstring" href="#nsattributedstring"></a></h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">let</span> attr = <span class="type">NSMutableAttributedString</span>(string: yogiseoPay.text!)</span><br><span class="line">attr.addAttribute(<span class="type">NSAttributedString</span>.<span class="type">Key</span>.foregroundColor,</span><br><span class="line">                  value: <span class="type">ColorPiker</span>.customDarkGray, range: (yogiseoPay.text! <span class="keyword">as</span> <span class="type">NSString</span>).range(of: <span class="string">"앱에서 미리 결제"</span>)) <span class="comment">// 글자 색깔</span></span><br><span class="line">attr.addAttribute(<span class="type">NSAttributedString</span>.<span class="type">Key</span>.<span class="keyword">init</span>(kCTFontAttributeName <span class="keyword">as</span> <span class="type">String</span>),</span><br><span class="line">                  value: <span class="type">FontModel</span>.toSize.customSmallFont <span class="keyword">as</span> <span class="type">Any</span>, range: (yogiseoPay.text! <span class="keyword">as</span> <span class="type">NSString</span>).range(of: <span class="string">"앱에서 미리 결제"</span>))<span class="comment">// 폰트</span></span><br><span class="line">yogiseoPay.attributedText = attr</span><br></pre></td></tr></table></figure><h2 id="적용">적용<a title="#적용" href="#적용"></a></h2><p><img src="/image/l.png" alt="" class="φcx"></p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> UILable </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]스와이프 제스처로 뒤로가기(navi)</title>
      <link href="2020/08/30/Swift-%EC%8A%A4%EC%99%80%EC%9D%B4%ED%94%84-%EC%A0%9C%EC%8A%A4%EC%B2%98%EB%A1%9C-%EB%92%A4%EB%A1%9C%EA%B0%80%EA%B8%B0-navi/"/>
      <url>2020/08/30/Swift-%EC%8A%A4%EC%99%80%EC%9D%B4%ED%94%84-%EC%A0%9C%EC%8A%A4%EC%B2%98%EB%A1%9C-%EB%92%A4%EB%A1%9C%EA%B0%80%EA%B8%B0-navi/</url>
      
        <content type="html"><![CDATA[<p>navigationController이 있는 controller의 경우 <strong>interactivePopGestureRecognizer</strong>을 통해<br>push, pop의 연속동작을 제어할 수 있다.</p><h1 id="1.-interactivepopgesturerecognizer">1. interactivePopGestureRecognizer<a title="#1.-interactivepopgesturerecognizer" href="#1.-interactivepopgesturerecognizer"></a></h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"> </span><br><span class="line"><span class="comment">//스와이프제스쳐로 뒤로가기 허용</span></span><br><span class="line">navigationController?.interactivePopGestureRecognizer?.isEnabled = <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>false : 중단</p><h1 id="2.-uigesturerecognizerdelegate">2. UIGestureRecognizerDelegate<a title="#2.-uigesturerecognizerdelegate" href="#2.-uigesturerecognizerdelegate"></a></h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">UIViewController</span> : <span class="title">UIGestureRecognizerDelegate</span> </span>&#123; </span><br><span class="line"><span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">gestureRecognizer</span><span class="params">(gestureRecognizer: UIGestureRecognizer, shouldRecognizeSimultaneouslyWithGestureRecognizer otherGestureRecognizer: UIGestureRecognizer)</span></span> -&gt; <span class="type">Bool</span> &#123; </span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span> </span><br><span class="line">&#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>UIGestureRecognizerDelegate 이용.</p><p>화면 왼쪽끝에서 오른쪽으로 밀어서 이전화면으로 돌아가는 제스처.<br>맨 상위뷰에서 구현하면 하위뷰 에는 자동으로 적용됨!</p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> UINavigationController </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]ScrollView 상/하단 및 특정 셀로 이동하기</title>
      <link href="2020/08/30/Swift-ScrollView-%EC%83%81-%ED%95%98%EB%8B%A8-%EC%9D%B4%EB%8F%99/"/>
      <url>2020/08/30/Swift-ScrollView-%EC%83%81-%ED%95%98%EB%8B%A8-%EC%9D%B4%EB%8F%99/</url>
      
        <content type="html"><![CDATA[<p>상/하단 이동은 기본적으로<br>scrollRectToVisible을 이용한 방법이 있고</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scrollView.scrollRectToVisible (myElementView.frame, animated : true)</span><br></pre></td></tr></table></figure><p>setContentOffset을 이용한 방법이 있다.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scrollView.setContentOffset(CGPoint(x: 0, y: 0), animated: true)</span><br></pre></td></tr></table></figure><h2 id="상단이동">상단이동<a title="#상단이동" href="#상단이동"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">scrollView.scrollRectToVisible(<span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="number">1</span>, height: <span class="number">1</span>), animated: <span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line">or</span><br><span class="line"></span><br><span class="line">scrollView.setContentOffset(<span class="type">CGPoint</span>(x: <span class="number">0</span>, y: <span class="number">0</span>), animated: <span class="literal">true</span>)</span><br></pre></td></tr></table></figure><h2 id="하단이동">하단이동<a title="#하단이동" href="#하단이동"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">scrollView.scrollRectToVisible(<span class="type">CGRectMake</span>(<span class="number">0</span>, scrollView.contentSize.height - scrollView.bounds.height,</span><br><span class="line">scrollView.bounds.size.width,</span><br><span class="line">scrollView.bounds.size.height),animated: <span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">or</span><br><span class="line">scrollView.setContentOffset(<span class="type">CGPoint</span>(x: <span class="number">0</span>,</span><br><span class="line">y: scrollView.contentSize.height - scrollView.bounds.height),</span><br><span class="line">                                animated: <span class="literal">true</span>)</span><br></pre></td></tr></table></figure><h2 id="특정-셀로-이동">특정 셀로 이동<a title="#특정-셀로-이동" href="#특정-셀로-이동"></a></h2><p>만약, 특정 섹션/셀로 이동하여야 한다면</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//스위프트 4</span></span><br><span class="line">tableView.scrollToRow(at: <span class="type">IndexPath</span>(row:<span class="number">0</span>, section: <span class="number">0</span>, width: <span class="number">1</span>, height: <span class="number">1</span>), animated : <span class="literal">true</span>)</span><br></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//스위프트5</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">hasRowAtIndexPath</span><span class="params">(indexPath: IndexPath)</span></span>-&gt;<span class="type">Bool</span> &#123;</span><br><span class="line"><span class="keyword">return</span> indexPath.section &lt; numberOfSections &amp;&amp; indexPath.row &lt; numberOfRows(insection: indexPath.section)</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">scrollToTop</span><span class="params">(<span class="number">_</span> animated: Bool = <span class="literal">false</span>)</span></span>&#123;</span><br><span class="line"><span class="keyword">let</span> indexPath = <span class="type">IndecPath</span>(row: <span class="number">0</span>, section: <span class="number">0</span>)</span><br><span class="line"><span class="keyword">if</span> hasRowAtIndexPath(indexPath: indexPath) &#123;</span><br><span class="line">scrollToRow(at: indexPath, at: .top, animated: animated)</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>만약, 네비게이션이 포함되어 있다면 네비게이션바 높이 값을 곱해 줘야할 수 있다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">self</span>.navigationController!.navigationBar.height + <span class="type">UIApplication</span>.sharedApplication().ststusBarFrame.height)), animated: <span class="literal">true</span>)</span><br></pre></td></tr></table></figure><p>만약, 탭바를 포함하고 있다면, 아래의 코드를 참고해야 한다.</p><pre><code class="language-swift">extension UITableView { func scrollToTop(){for i in 0...numberOfSections - 1 {if numeberOfSections &gt; 0 &amp;&amp; numberOfRows(inSection: index), at: .top, animated: true) break}if i == numberOfSections - 1 {setContentOffset(.zero, animated: true)break}}}</code></pre>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> UIScrollView </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]url-Scheme(앱에서 앱으로 연결)</title>
      <link href="2020/08/28/Swift-url-Scheme-%EC%95%B1%EC%97%90%EC%84%9C-%EC%95%B1%EC%9C%BC%EB%A1%9C-%EC%97%B0%EA%B2%B0/"/>
      <url>2020/08/28/Swift-url-Scheme-%EC%95%B1%EC%97%90%EC%84%9C-%EC%95%B1%EC%9C%BC%EB%A1%9C-%EC%97%B0%EA%B2%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="네이버-지도">네이버 지도<a title="#네이버-지도" href="#네이버-지도"></a></h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">naverCliked</span><span class="params">(<span class="number">_</span> sender: UIButton)</span></span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> url = <span class="type">URL</span>(string: <span class="string">"navermaps://route/walk"</span>)!</span><br><span class="line">  <span class="keyword">let</span> appStoreURL = <span class="type">URL</span>(string: <span class="string">"http://itunes.apple.com/app/id311867728?mt=8"</span>)!</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> <span class="type">UIApplication</span>.shared.canOpenURL(url) &#123;</span><br><span class="line">    <span class="type">UIApplication</span>.shared.<span class="keyword">open</span>(url)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="type">UIApplication</span>.shared.<span class="keyword">open</span>(appStoreURL)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>지도앱으로 연결됨</li></ul><h1 id="인스타그램">인스타그램<a title="#인스타그램" href="#인스타그램"></a></h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">instarCliked</span><span class="params">(<span class="number">_</span> sender : UIButton)</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> instagram = <span class="string">"instagram://app"</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> appUrl = <span class="type">URL</span>(string: instagram) &#123;</span><br><span class="line">     </span><br><span class="line">      <span class="keyword">if</span> <span class="type">UIApplication</span>.shared.canOpenURL(appUrl)&#123;</span><br><span class="line">        <span class="keyword">if</span> #available(iOS <span class="number">10.0</span>, *)&#123;</span><br><span class="line">          <span class="type">UIApplication</span>.shared.<span class="keyword">open</span>(appUrl)</span><br><span class="line">          <span class="built_in">print</span>(instagram)</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="built_in">print</span>(<span class="string">"not found"</span>)</span><br><span class="line"><span class="comment">//          UIApplication.shared.openURL(URL(string: "http://itunes.apple.com/app/id389801252?mt=8")!)</span></span><br><span class="line">          </span><br><span class="line">          <span class="comment">//https://apps.apple.com/us/app/kakaotalk/id362057947</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><ul><li>인스타그램 앱으로 연결됨</li></ul><h1 id="카카오톡">카카오톡<a title="#카카오톡" href="#카카오톡"></a></h1><p>카카오의 경우 sdk를 깔아야한다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//MARK: -kakaoScheme(url)</span></span><br><span class="line">  <span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">kakaodidTap</span><span class="params">(<span class="number">_</span> sender : UIButton)</span></span>&#123;</span><br><span class="line">    <span class="keyword">let</span> kakaoScheme = <span class="string">"kakao4885bd샬라샬라샬라샬라샬라샬라샬라99://kakaolink"</span> <span class="comment">//"kakao&#123;kakaosdkappid&#125;://kakaolink"</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> url = <span class="type">URL</span>(string: kakaoScheme) &#123;</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">"카카오ing"</span>)</span><br><span class="line">      <span class="keyword">if</span> <span class="type">UIApplication</span>.shared.canOpenURL(url)&#123;</span><br><span class="line">        <span class="keyword">if</span> #available(iOS <span class="number">10.0</span>, *)&#123;</span><br><span class="line">          <span class="type">UIApplication</span>.shared.<span class="keyword">open</span>(url)</span><br><span class="line">          <span class="built_in">print</span>(kakaoScheme)</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="built_in">print</span>(<span class="string">"not found"</span>)</span><br><span class="line">       </span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><ul><li>카카오톡 앱으로 링크 연결됨.</li></ul><h1 id="appstorereview-page(앱리뷰)">AppStoreReview Page(앱리뷰)<a title="#appstorereview-page(앱리뷰)" href="#appstorereview-page(앱리뷰)"></a></h1><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> reviewURL = <span class="type">URL</span>(string: <span class="string">"itms-apps://itunes.apple.com/app/itunes-u/id\(YourAppID)?ls=1&amp;mt=8&amp;action=write-review"</span>), <span class="type">UIApplication</span>.shared.canOpenURL(reviewURL) &#123; <span class="comment">//유효한 URL인지 검사.</span></span><br><span class="line">    <span class="keyword">if</span> #available(iOS <span class="number">10.0</span>, *) &#123; </span><br><span class="line">        <span class="type">UIApplication</span>.shared.<span class="keyword">open</span>(reviewURL, options: [:], completionHandler: <span class="literal">nil</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="type">UIApplication</span>.shared.openURL(reviewURL)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>YourAppID에 아이튠즈에 나와있는 고유ID를 넣어주면 된다. 출시전에도 앱의 고유아디를 받을 수 있음!</li></ul>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> Scheme </tag>
            
            <tag> kakao </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]클립보드에 복사하기(UIPasteboard)</title>
      <link href="2020/08/28/Swift-%ED%81%B4%EB%A6%BD%EB%B3%B4%EB%93%9C%EC%97%90-%EB%B3%B5%EC%82%AC/"/>
      <url>2020/08/28/Swift-%ED%81%B4%EB%A6%BD%EB%B3%B4%EB%93%9C%EC%97%90-%EB%B3%B5%EC%82%AC/</url>
      
        <content type="html"><![CDATA[<p>자주보는 클립보드 복사기능!</p><p>UIPasteboard을 이용하여<br>String으로 클립보드에 복사할 값을 넣어주기만 하면 된다.</p><h2 id="클립보드로-복사">클립보드로 복사<a title="#클립보드로-복사" href="#클립보드로-복사"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">cilpdidTap</span><span class="params">(<span class="number">_</span> sender: UIButton)</span></span>&#123;</span><br><span class="line">  <span class="type">UIPasteboard</span>.general.string = <span class="string">"https://apps.apple.com/us/app/kakaotalk/id362057947"</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">"클립이 복사되었습니다."</span>)</span><br><span class="line">  cancelAnimation()</span><br><span class="line">  dismiss(animated: <span class="literal">true</span>, completion: <span class="literal">nil</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>위의 예시는 특정 버튼을 누르면 dismiss되면서 지정된 String값의 URL주소가 복사되는 것이다.</p><p>그리고 다른 앱에 post 해보면 이런식으로 해당 값이 copy되어 붙여넣기가 됨.</p><p><img src="image/clip1.png" alt="" class="φcx"></p><h2 id="클립보드에-복사된-string값-가져오기">클립보드에 복사된 String값 가져오기<a title="#클립보드에-복사된-string값-가져오기" href="#클립보드에-복사된-string값-가져오기"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> isCopy = <span class="type">UIPasteboard</span>.general.string &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"가져오기 \(isCopy)"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>이런식으로 변수를 만들어 복사한 값을 가져올 수도 있다.</p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> UIPasteboard </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swfit]간단 API확인하기(터미널, Alamofire &amp; SwiftyJSON)</title>
      <link href="2020/08/22/Swfit-%EA%B0%84%EB%8B%A8-API%ED%99%95%EC%9D%B8%ED%95%98%EA%B8%B0-%ED%84%B0%EB%AF%B8%EB%84%90-Alamofire-SwiftyJSON/"/>
      <url>2020/08/22/Swfit-%EA%B0%84%EB%8B%A8-API%ED%99%95%EC%9D%B8%ED%95%98%EA%B8%B0-%ED%84%B0%EB%AF%B8%EB%84%90-Alamofire-SwiftyJSON/</url>
      
        <content type="html"><![CDATA[<p><a href="http://3.34.192.121/tests%EC%97%90" target="_blank" rel="noopener">http://3.34.192.121/tests에</a> 대한 API 확인하기!</p><h1 id="terminal">terminal<a title="#terminal" href="#terminal"></a></h1><p><img src="/image/ar.png" alt="" class="φcx"></p><p><strong>curl</strong> 명령어를 사용하면 해당 api의 제이슨을 읽어볼 수 있다. (get)</p><h1 id="alamofire-&amp;-swiftyjson">Alamofire &amp; SwiftyJSON<a title="#alamofire-&amp;-swiftyjson" href="#alamofire-&amp;-swiftyjson"></a></h1><p>흔히 사용하는 Alamofire와 SwiftyJSON 조합으로 Swift에서 간단히 읽어낼 수 있다. (아래 코드 이용)</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"><span class="keyword">import</span> Alamofire</span><br><span class="line"><span class="keyword">import</span> SwiftyJSON</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line">    </span><br><span class="line">    <span class="type">AlamofireRequest</span>()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">AlamofireRequest</span><span class="params">()</span></span> &#123;</span><br><span class="line">  </span><br><span class="line">  <span class="type">AF</span>.request(<span class="string">"http://3.34.192.121/tests"</span>, method: .<span class="keyword">get</span>).validate().responseJSON &#123; response <span class="keyword">in</span></span><br><span class="line">      <span class="keyword">switch</span> response.result &#123;</span><br><span class="line">      <span class="keyword">case</span> .success(<span class="keyword">let</span> value):</span><br><span class="line">          <span class="keyword">let</span> json = <span class="type">JSON</span>(value)</span><br><span class="line">          <span class="built_in">print</span>(<span class="string">"JSON: \(json)"</span>)</span><br><span class="line">        </span><br><span class="line">      <span class="keyword">case</span> .failure(<span class="keyword">let</span> error):</span><br><span class="line">            <span class="built_in">print</span>(error)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/image/ar1.png" alt="" class="φcx"></p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> Alamofire </tag>
            
            <tag> SwiftyJSON </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift] 설정화면으로 이동</title>
      <link href="2020/08/21/Swift-%EC%84%A4%EC%A0%95%ED%99%94%EB%A9%B4%EC%9C%BC%EB%A1%9C-%EC%9D%B4%EB%8F%99/"/>
      <url>2020/08/21/Swift-%EC%84%A4%EC%A0%95%ED%99%94%EB%A9%B4%EC%9C%BC%EB%A1%9C-%EC%9D%B4%EB%8F%99/</url>
      
        <content type="html"><![CDATA[<p>sharedApplication에서 지원해준답 😛</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">didTap</span><span class="params">(<span class="number">_</span> sender: UIButton)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> #available(iOS <span class="number">10.0</span>, *)&#123;</span><br><span class="line"></span><br><span class="line">      <span class="type">UIApplication</span>.shared.openURL(<span class="type">NSURL</span>(string : <span class="string">"\(UIApplication.openSettingsURLString)com.Qussk.tokki"</span> )! <span class="keyword">as</span> <span class="type">URL</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>com.Qussk.tokki 은 프로젝트 번들 이름! (identifier)</li></ul><p><img src="/image/tjfwjd.png" alt="" class="φcx"></p><p>사용자권한 허용 유도할 때 주로 사용 !</p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> sharedApplication </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]UITest 진행</title>
      <link href="2020/08/13/Swift-UITest-%EC%A7%84%ED%96%89/"/>
      <url>2020/08/13/Swift-UITest-%EC%A7%84%ED%96%89/</url>
      
        <content type="html"><![CDATA[<p>나중에 다듬으기루…</p><h2 id="시작하기">시작하기<a title="#시작하기" href="#시작하기"></a></h2><p><img src="/image/uitest1.png" alt="" class="φcx"></p><p>하단의 <strong>+</strong> 버튼을 누른다.</p><p><img src="/image/uitest.png" alt="" class="φcx"></p><p><strong>UI Testing Bundle</strong> 을 생성한다.  상단에 test로 검색하면 빠르게 찾을 수 있다.</p><p><img src="/image/uitest3.png" alt="" class="φcx"></p><p><strong>프로젝트명+Test.Swift</strong>이 생성된다. 들어가면 테스트 할 수 있는 에딧창이 뜬다.</p><p>넘버라인쪽에 다이아몬드모양을 누르면 해당 메소드가 실행된다. 아랫것을 누르게 되면 위에서 부터 아래로 순차적으로 실행된다.</p><p>단축키는 cmd + U 로 자동실행 할 수 있다.</p><p><img src="/image/uitest2.png" alt="" class="φcx"></p><p>테스트가 성공적이면 이런 화면이 뜬다.</p><p>아래 녹화를 누르면 tap()한 순서에 따라 코드가 자동적으로 작성된다.</p><h2 id="실행">실행<a title="#실행" href="#실행"></a></h2><p>XCUIApplication의 경우</p><p>accessibilityIdentifier로 식별.</p><p><strong>UITableView</strong></p><p>예시)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let firstCell &#x3D; app.tables.cells.staticTexts[&quot;WWDC보기&quot;]</span><br></pre></td></tr></table></figure><ul><li>셀에 직접 접근</li><li>.tap() 을 주면 클릭됨</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> if firstCell.waitForExistence(timeout: 1)&#123;&#x2F;&#x2F;if addButton.isHittable</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>시간차 주면서 버튼으로 옮김</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">self.app.tables.cells.element(boundBy: 0).tap()</span><br></pre></td></tr></table></figure><ul><li>엘리먼트로 접근가능.</li></ul><h3 id="xcuielement">XCUIElement<a title="#xcuielement" href="#xcuielement"></a></h3><ul><li>tap()</li><li>dubleTap</li><li>Press</li><li>swipeUp/Down/Left/Right</li><li>typeText</li></ul><p><strong>잠자기</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sleep(1)</span><br></pre></td></tr></table></figure><p><strong>비동기작업</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">XCTAssertTrue(self.userlist.count)</span><br></pre></td></tr></table></figure><p><strong>TextView, TextField의 경우</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let textView &#x3D; app.textViews[&quot;textView&quot;]</span><br><span class="line">textView.tap() &#x2F;&#x2F;텍스뷰하기전에 꼭 탭을 해야함. 필드도 마찬가지</span><br><span class="line"></span><br><span class="line">textView.typeText(&quot;안녕하세요&quot;)&#x2F;&#x2F;키보드올리기 귀찮을때 이렇게 써서 테스트해볼수 있다.</span><br></pre></td></tr></table></figure><p>//Recording UI Test</p><h3 id="주의사항">주의사항<a title="#주의사항" href="#주의사항"></a></h3><ul><li>중복 코드가 있는 경우</li><li>코드가 구현되어 있지 않은 경우</li></ul><h3 id="xcuielementquery">XCUIElementQuery<a title="#xcuielementquery" href="#xcuielementquery"></a></h3><ul><li>staticTexts</li><li>firstMatch</li><li>element(boundBy:)</li><li>waitForExistence</li></ul><h3 id="assertion-method">Assertion Method<a title="#assertion-method" href="#assertion-method"></a></h3><p>XCTAssertTrue(true)<br>XCTAssertFalse(false)<br>XCTAssertNil(true)<br>XCTAssertNotNil(true)<br>XCTAssertEqual(true, true)</p><h3 id="ishittable">isHittable<a title="#ishittable" href="#ishittable"></a></h3><ul><li>화면이 존재하고 클릭가능한지의 여부</li></ul><h3 id="exists">exists<a title="#exists" href="#exists"></a></h3><ul><li>화면이 존재하는지 여부</li></ul>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> UITest </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]FireBase이용하여 faceBook로그인</title>
      <link href="2020/08/12/Swift-FireBase%EC%9D%B4%EC%9A%A9%ED%95%98%EC%97%AC-faceBook%EB%A1%9C%EA%B7%B8%EC%9D%B8/"/>
      <url>2020/08/12/Swift-FireBase%EC%9D%B4%EC%9A%A9%ED%95%98%EC%97%AC-faceBook%EB%A1%9C%EA%B7%B8%EC%9D%B8/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> FireBase </tag>
            
            <tag> FaceBook </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift] FierBase 로그인/로그아웃</title>
      <link href="2020/08/12/Swift-FierBase-%EB%A1%9C%EA%B7%B8%EC%9D%B8-%EB%A1%9C%EA%B7%B8%EC%95%84%EC%9B%83/"/>
      <url>2020/08/12/Swift-FierBase-%EB%A1%9C%EA%B7%B8%EC%9D%B8-%EB%A1%9C%EA%B7%B8%EC%95%84%EC%9B%83/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>[Swift] FierBase 실시간 데이터 베이스</title>
      <link href="2020/08/12/Swift-FierBase-%EC%8B%A4%EC%8B%9C%EA%B0%84-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%B2%A0%EC%9D%B4%EC%8A%A4/"/>
      <url>2020/08/12/Swift-FierBase-%EC%8B%A4%EC%8B%9C%EA%B0%84-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%B2%A0%EC%9D%B4%EC%8A%A4/</url>
      
        <content type="html"><![CDATA[<p>흑ㄷ흑 짱난다…</p><p><a href="https://firebase.google.com/docs/database/ios/start?hl=ko" target="_blank">https://firebase.google.com/docs/database/ios/start?hl=ko</a></p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> ios </tag>
            
            <tag> FierBase </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[SWift]HealthKit 사용</title>
      <link href="2020/08/10/SWift-HealthKit-%EC%82%AC%EC%9A%A9/"/>
      <url>2020/08/10/SWift-HealthKit-%EC%82%AC%EC%9A%A9/</url>
      
        <content type="html"><![CDATA[<h3 id="info.plist">info.plist<a title="#info.plist" href="#info.plist"></a></h3><p><img src="image/HealthKit.png" alt="" class="φcx"></p><h3 id="healthkit">HealthKit<a title="#healthkit" href="#healthkit"></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"><span class="keyword">import</span> HealthKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> healthStore = <span class="type">HKHealthStore</span>()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line">        </span><br><span class="line">        <span class="built_in">print</span>(<span class="type">HKHealthStore</span>.isHealthDataAvailable())</span><br><span class="line">        authorizeHealthKit()</span><br><span class="line">        getTotalStepCount()</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">authorizeHealthKit</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">let</span> read = <span class="type">Set</span>([<span class="type">HKObjectType</span>.quantityType(forIdentifier: .stepCount)!])</span><br><span class="line">        <span class="keyword">let</span> write = <span class="type">Set</span>([<span class="type">HKObjectType</span>.quantityType(forIdentifier: .stepCount)!])</span><br><span class="line">        </span><br><span class="line">        healthStore.requestAuthorization(toShare: write, read: read) &#123; (success, error) <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">if</span> success == <span class="literal">true</span> &#123;</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">"permisson granted"</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">getTotalStepCount</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> sampleType = <span class="type">HKObjectType</span>.quantityType(forIdentifier: .stepCount) <span class="keyword">else</span> &#123; <span class="keyword">return</span> <span class="built_in">print</span>(<span class="string">"Guard Activated"</span>) &#125;</span><br><span class="line">        <span class="keyword">let</span> startDate = <span class="type">Calendar</span>.current.startOfDay(<span class="keyword">for</span>: <span class="type">Date</span>())</span><br><span class="line">        <span class="keyword">let</span> predicate = <span class="type">HKQuery</span>.predicateForSamples(withStart: startDate, end: <span class="type">Date</span>(), options: .strictStartDate)</span><br><span class="line">        <span class="keyword">var</span> intervar = <span class="type">DateComponents</span>()</span><br><span class="line">        intervar.weekday = <span class="number">1</span> <span class="comment">//변경가능(오늘)</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">let</span> query = <span class="type">HKStatisticsCollectionQuery</span>(</span><br><span class="line">            quantityType: sampleType,</span><br><span class="line">            quantitySamplePredicate: predicate,</span><br><span class="line">            options: .cumulativeSum,</span><br><span class="line">            anchorDate: startDate,</span><br><span class="line">            intervalComponents: intervar)</span><br><span class="line">        </span><br><span class="line">        query.initialResultsHandler = &#123; (sample, result, error) <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">let</span> myResult = result &#123;</span><br><span class="line">                myResult.enumerateStatistics(</span><br><span class="line">                    from: startDate,</span><br><span class="line">                    to: <span class="type">Date</span>()) &#123; (statistics, value) <span class="keyword">in</span></span><br><span class="line">                        <span class="keyword">if</span> <span class="keyword">let</span> <span class="built_in">count</span> = statistics.sumQuantity() &#123;</span><br><span class="line">                            <span class="keyword">let</span> val = <span class="built_in">count</span>.doubleValue(<span class="keyword">for</span>: <span class="type">HKUnit</span>.<span class="built_in">count</span>())</span><br><span class="line">                            <span class="built_in">print</span>(val) <span class="comment">//내용</span></span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        healthStore.execute(query)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> HealthKit </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]Textfield 터치시 키보드내리기, 리턴시 커서이동(resignFirstResponder())</title>
      <link href="2020/08/10/Swift-Textfield-%ED%84%B0%EC%B9%98%EC%8B%9C-%ED%82%A4%EB%B3%B4%EB%93%9C%EB%82%B4%EB%A6%AC%EA%B8%B0-%EB%A6%AC%ED%84%B4%EC%8B%9C-%EC%BB%A4%EC%84%9C%EC%9D%B4%EB%8F%99/"/>
      <url>2020/08/10/Swift-Textfield-%ED%84%B0%EC%B9%98%EC%8B%9C-%ED%82%A4%EB%B3%B4%EB%93%9C%EB%82%B4%EB%A6%AC%EA%B8%B0-%EB%A6%AC%ED%84%B4%EC%8B%9C-%EC%BB%A4%EC%84%9C%EC%9D%B4%EB%8F%99/</url>
      
        <content type="html"><![CDATA[<h3 id="delegate-=-slef선언">delegate = slef선언<a title="#delegate-=-slef선언" href="#delegate-=-slef선언"></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">idTextField.delegate = <span class="keyword">self</span></span><br><span class="line">pwTextField.delegate = <span class="keyword">self</span></span><br></pre></td></tr></table></figure><h3 id="uitextfielddelegate">UITextFieldDelegate<a title="#uitextfielddelegate" href="#uitextfielddelegate"></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">ViewController</span>: <span class="title">UITextFieldDelegate</span> </span>&#123;</span><br><span class="line">  <span class="comment">//1.리턴시 다음 텍필로 커서 이동 ~ 이후 종료와 로그인 액션으로 접근</span></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">textFieldShouldReturn</span><span class="params">(<span class="number">_</span> textField: UITextField)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> textField == idTextField &#123;</span><br><span class="line">      pwTextField.becomeFirstResponder()</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> textField == pwTextField &#123;</span><br><span class="line">      loginButtonAction()</span><br><span class="line">      pwTextField.resignFirstResponder()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//2. 화면터치시 키보드 종료</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">touchesBegan</span><span class="params">(<span class="number">_</span> touches: Set&lt;UITouch&gt;, with event: UIEvent?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">self</span>.pwTextField.resignFirstResponder()</span><br><span class="line">    <span class="keyword">self</span>.idTextField.resignFirstResponder()</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="1.-textfieldshouldreturn은-리턴시-수행할-메서드를-정의합니다.">1. textFieldShouldReturn은 리턴시 수행할 메서드를 정의합니다.<a title="#1.-textfieldshouldreturn은-리턴시-수행할-메서드를-정의합니다." href="#1.-textfieldshouldreturn은-리턴시-수행할-메서드를-정의합니다."></a></h3><p><img src="/image/doyou1.gif" alt="" class="φcx"></p><p>1-1. textField가 idTextField일 경우 pwTextField.becomeFirstResponder()을 호출합니다.<br>1-2. textField가 pwTextField일 경우 pwTextField.resignFirstResponder()을 호출합니다. resignFirstResponder는 텍스트필드의 현재상태를 포기했다는 요청을 리시버에게 알려주고, 키보드가 자동으로 내려가게 합니다.<br>1-3. loginButtonAction()을 호출하여, 로그인 버튼에 접근합니다.</p><p><a href="https://developer.apple.com/documentation/uikit/uiresponder/1621097-resignfirstresponder" target="_blank">참고 : resignFirstResponder()</a></p><p>화면전환 소스를 넣거나해두 됨…</p><h3 id="2.-touchesbegan-메서드를-통해-resignfirstresponder()호출하여-텍스트필드에-대한-현재상태-종료함.">2. touchesBegan 메서드를 통해 resignFirstResponder()호출하여 텍스트필드에 대한 현재상태 종료함.<a title="#2.-touchesbegan-메서드를-통해-resignfirstresponder()호출하여-텍스트필드에-대한-현재상태-종료함." href="#2.-touchesbegan-메서드를-통해-resignfirstresponder()호출하여-텍스트필드에-대한-현재상태-종료함."></a></h3><p><img src="/image/doyou2.gif" alt="" class="φcx"></p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> UITextfield </tag>
            
            <tag> resignFirstResponder() </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]Contacts - 연락처 정보가져오기</title>
      <link href="2020/08/08/Swift-Contacts-%EC%97%B0%EB%9D%BD%EC%B2%98-%EC%A0%95%EB%B3%B4%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0/"/>
      <url>2020/08/08/Swift-Contacts-%EC%97%B0%EB%9D%BD%EC%B2%98-%EC%A0%95%EB%B3%B4%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<p>Contacts을 이용하여, 앱으로 연락처 정보를 가져오기,!</p><p>들어가기 전에 아래 CNContact에 대한 애플문서를 확인하자.</p><p><a href="https://developer.apple.com/documentation/contacts/cncontact" target="_blank">링크 : https://developer.apple.com/documentation/contacts/cncontact</a></p><p>문서를 요약하자면,</p><p><img src="/image/Contact3.png" alt="" class="φcx"></p><p>오른쪽의 정보들을 가져온다는 뜻.</p><p>나는 phoneNumbers와</p><p>class func descriptorForAllComparatorKeys() -&gt; CNKeyDescriptor<br>(연락처 정렬 비교기에 필요한 모든 키를 가져옵니다.)을 이용해 fullname을 가져왔다.</p><p>자세한 내용은<br>아래 코드에서 주석으로 숫자를 달았는데, 코드와 비교해보면서 읽어보길 바란다!</p><h2 id="1.-viewcontroller">1. ViewController<a title="#1.-viewcontroller" href="#1.-viewcontroller"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"><span class="keyword">import</span> Contacts</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> tableView = <span class="type">UITableView</span>(frame: .zero, style: .grouped)</span><br><span class="line">  <span class="keyword">var</span> objects = [<span class="type">CNContact</span>]() <span class="comment">//1-1.</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line">    </span><br><span class="line">    tableView.dataSource = <span class="keyword">self</span></span><br><span class="line">    tableView.delegate = <span class="keyword">self</span></span><br><span class="line">    </span><br><span class="line">    tableView.rowHeight = <span class="number">80</span></span><br><span class="line">    tableView.backgroundColor = .white</span><br><span class="line">    view.addSubview(tableView)</span><br><span class="line">    </span><br><span class="line">    tableView.register(testTableViewCell.<span class="keyword">self</span>, forCellReuseIdentifier: <span class="string">"testTableViewCell"</span>)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    findContactsOnBackgroundThread &#123; (contacts) <span class="keyword">in</span></span><br><span class="line">      <span class="keyword">self</span>.objects = contacts!</span><br><span class="line">      <span class="keyword">self</span>.tableView.reloadData()</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    tableView.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">    </span><br><span class="line">    <span class="type">NSLayoutConstraint</span>.activate([</span><br><span class="line">      tableView.topAnchor.constraint(equalTo: view.topAnchor),</span><br><span class="line">      tableView.leadingAnchor.constraint(equalTo: view.leadingAnchor),</span><br><span class="line">      tableView.trailingAnchor.constraint(equalTo: view.trailingAnchor),</span><br><span class="line">      tableView.bottomAnchor.constraint(equalTo: view.bottomAnchor)</span><br><span class="line">    ])</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">findContactsOnBackgroundThread</span> <span class="params">(<span class="number">_</span> completionHandler: @escaping <span class="params">(<span class="number">_</span> contacts:[CNContact]?)</span></span></span>-&gt;()) &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="type">DispatchQueue</span>.global(qos: .background).async(execute: &#123; () -&gt; <span class="type">Void</span> <span class="keyword">in</span></span><br><span class="line">      </span><br><span class="line">      <span class="comment">//1-2.</span></span><br><span class="line">      <span class="keyword">let</span> keysToFetch = [<span class="type">CNContactFormatter</span>.descriptorForRequiredKeys(<span class="keyword">for</span>: .fullName), <span class="type">CNContactPhoneNumbersKey</span>] <span class="keyword">as</span> [<span class="type">Any</span>]</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">let</span> fetchRequest = <span class="type">CNContactFetchRequest</span>( keysToFetch: keysToFetch <span class="keyword">as</span>! [<span class="type">CNKeyDescriptor</span>])</span><br><span class="line">      </span><br><span class="line">      <span class="comment">/* This is the array of objects that will be passed into the completion block.</span></span><br><span class="line"><span class="comment">       And then retrieved as the objects array</span></span><br><span class="line"><span class="comment">      objects 배열이 데이터를 검색함.</span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line">      <span class="keyword">var</span> contacts = [<span class="type">CNContact</span>]()</span><br><span class="line">      </span><br><span class="line">      <span class="comment">//1-3.</span></span><br><span class="line">      <span class="type">CNContact</span>.localizedString(forKey: <span class="type">CNLabelPhoneNumberiPhone</span>)</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">if</span> #available(iOS <span class="number">10.0</span>, *) &#123;</span><br><span class="line">        fetchRequest.mutableObjects = <span class="literal">false</span></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// Fallback on earlier versions</span></span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">      <span class="comment">//1-4.</span></span><br><span class="line">      fetchRequest.unifyResults = <span class="literal">true</span></span><br><span class="line">      fetchRequest.sortOrder = .userDefault</span><br><span class="line">      </span><br><span class="line">      </span><br><span class="line">      <span class="comment">//연락처를 가져오는 중 에러남. 성공을 위해 do/try/catch block 필요.</span></span><br><span class="line">      <span class="comment">//1-5.</span></span><br><span class="line">     <span class="keyword">do</span> &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// For each CNContact in your phone...</span></span><br><span class="line">        <span class="keyword">try</span> <span class="type">CNContactStore</span>().enumerateContacts(with: fetchRequest) &#123; (contact, stop) -&gt; <span class="type">Void</span> <span class="keyword">in</span></span><br><span class="line">          <span class="comment">//연락처를 정렬</span></span><br><span class="line">  </span><br><span class="line">          <span class="comment">// If this contact has a phone number, append to the array</span></span><br><span class="line">          <span class="keyword">if</span> contact.phoneNumbers.<span class="built_in">count</span> &gt; <span class="number">0</span> &#123;</span><br><span class="line">            contacts.append(contact)</span><br><span class="line">          &#125;</span><br><span class="line">          </span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// Catch the error, if it exists</span></span><br><span class="line">      &#125; <span class="keyword">catch</span> <span class="keyword">let</span> e <span class="keyword">as</span> <span class="type">NSError</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(e.localizedDescription)</span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">      <span class="type">DispatchQueue</span>.main.async(execute: &#123; () -&gt; <span class="type">Void</span> <span class="keyword">in</span></span><br><span class="line">        <span class="comment">//완성되면 contacts 배열을 제공</span></span><br><span class="line">        completionHandler(contacts)</span><br><span class="line">        </span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//MARK: -UITableViewDataSource</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">ViewController</span>: <span class="title">UITableViewDataSource</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, numberOfRowsInSection section: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> objects.<span class="built_in">count</span></span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, cellForRowAt indexPath: IndexPath)</span></span> -&gt; <span class="type">UITableViewCell</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> cell = tableView.dequeueReusableCell(withIdentifier: <span class="string">"testTableViewCell"</span>, <span class="keyword">for</span>: indexPath) <span class="keyword">as</span>! testTableViewCell</span><br><span class="line"> </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> contact = <span class="keyword">self</span>.objects[indexPath.row]</span><br><span class="line">    </span><br><span class="line">    configureCell(cell, contact: contact)</span><br><span class="line">    <span class="keyword">return</span> cell</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">ViewController</span>: <span class="title">UITableViewDelegate</span></span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, heightForRowAt indexPath: IndexPath)</span></span> -&gt; <span class="type">CGFloat</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">80</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">configureCell</span><span class="params">(<span class="number">_</span> cell: testTableViewCell, contact: CNContact)</span></span> &#123;</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">let</span> formatter = <span class="type">CNContactFormatter</span>()</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">let</span> contactPhoneNumber = (contact.phoneNumbers[<span class="number">0</span>].value).value(forKey: <span class="string">"digits"</span>) <span class="keyword">as</span>? <span class="type">String</span></span><br><span class="line">      </span><br><span class="line">      cell.personName.text = formatter.string(from: contact)</span><br><span class="line">      cell.conditionMassge.text = contactPhoneNumber</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>일단 테스트용으로 만든거라… viewDidLoad가 빵빵 ㅎㅎ…</p><ul><li><p>1-1. <strong>objects = <a href="">CNContact</a></strong> 는 CNContact(연락처)의 배열을 담은 객체</p></li><li><p>1-2. <strong>연락처비교 : class func descriptorForAllComparatorKeys() -&gt;. CNKeyDescriptor<br>(연락처 정렬 비교기에 필요한 모든 키를 가져옴.)</strong></p></li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> keysToFetch = [<span class="type">CNContactFormatter</span>.descriptorForRequiredKeys(<span class="keyword">for</span>: .fullName), <span class="type">CNContactPhoneNumbersKey</span>] <span class="keyword">as</span> [<span class="type">Any</span>]</span><br></pre></td></tr></table></figure><p><strong>keysToFetch</strong>는 CNContactFormatter의 descriptorForRequiredKeys로 접근하여, <strong>.fullName</strong>을 가져오고 CNContactPhoneNumbersKey에도 접근하도록 하는 그릇이다.</p><p>이 그릇을</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">   <span class="keyword">let</span> fetchRequest = <span class="type">CNContactFetchRequest</span>( keysToFetch: keysToFetch <span class="keyword">as</span>! [<span class="type">CNKeyDescriptor</span>])</span><br><span class="line">```   </span><br><span class="line">fetchRequest에</span><br><span class="line"></span><br><span class="line"><span class="type">CNContactFetchRequest</span>(연락처를 일치시키기위한 술어) 에 <span class="type">CNKeyDescriptor</span>의 배열을 업캐스팅하여 <span class="type">CNKeyDescriptor</span>의 정보를 가져온다.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">CNKeyDescriptor</span>에 대한 정보는 퀵헬퍼로 확인가능. </span><br><span class="line"></span><br><span class="line">![](/image/<span class="type">Contact4</span>.png) </span><br><span class="line"></span><br><span class="line">이렇게 되어있었다 ! ...</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">- <span class="number">1</span>-<span class="number">3</span>. **연락처 데이터 현지화 : </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">func</span> <span class="title">localizedString</span>(<span class="title">forKey</span>: <span class="title">String</span>) -&gt; <span class="title">String</span></span></span><br><span class="line"><span class="class">지역화 된 연락처 속성 이름이 포함 된 문자열을 반환.** </span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">```<span class="title">swift</span></span></span><br><span class="line"><span class="class"><span class="title">CNContact</span>.<span class="title">localizedString</span>(<span class="title">forKey</span>: <span class="title">CNLabelPhoneNumberiPhone</span>)</span></span><br><span class="line"><span class="class">   </span></span><br><span class="line"><span class="class">   <span class="title">if</span> #<span class="title">available</span>(<span class="title">iOS</span> 10.0, *) </span>&#123;</span><br><span class="line">     fetchRequest.mutableObjects = <span class="literal">false</span></span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">     <span class="comment">// Fallback on earlier versions</span></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>localizedString은 문자열을 반환하는 용도, 그중 CNLabelPhoneNumberiPhone 핸드폰 번호를 가져와 반환시킨다.</p><p>만약 iOS10이하면,<br>fetchRequest.mutableObjects = falese로<br>string의 값 뮤터블(변수) 변경불가능하게 처리</p><p>이전 버전의 폰이 왔을 때의 대비책인거 같다. 그런데 이미 프로젝트를 13이상에서만 다운할수 있도록 해놔서… ㅎㅎ 안써도될듯하지만… 공부해볼겸 ,!!</p><p>1-4.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1-4.</span></span><br><span class="line"> fetchRequest.unifyResults = <span class="literal">true</span></span><br><span class="line"> fetchRequest.sortOrder = .userDefault</span><br></pre></td></tr></table></figure><p><strong>unifyResults</strong>현재 연락처가 통합 연락처이고 지정된 식별자를 가진 연락처를 포함하는지 여부를 나타내는 Bool값. <strong>sortOrder</strong> 연락처의 정렬 순서를 나타냄</p><p>1-5. 연락처의 열거가 성공적으로 실행되었는지 판단. (ㅇㅖ외사항 처리)<br><em>do/try/catch /block</em>을 이용해 오류 판단.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">  <span class="comment">//1-5.</span></span><br><span class="line">  <span class="comment">// For each CNContact in your phone...</span></span><br><span class="line">  <span class="keyword">try</span> <span class="type">CNContactStore</span>().enumerateContacts(with: fetchRequest) &#123; (contact, stop) -&gt; <span class="type">Void</span> <span class="keyword">in</span></span><br><span class="line">    <span class="comment">//연락처를 정렬</span></span><br><span class="line"> </span><br><span class="line">    <span class="comment">// If this contact has a phone number, append to the array</span></span><br><span class="line">    <span class="keyword">if</span> contact.phoneNumbers.<span class="built_in">count</span> &gt; <span class="number">0</span> &#123;</span><br><span class="line">      contacts.append(contact)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>do 나는 try하겠다, CNContactStore()을 통해, enumerateContacts(연락처 가져 오기 요청과 일치하는 모든 연락처의 열거가 성공적으로 실행되었는지 여부를 나타내는 부울 값을 반환)에 접근 ~ fetchRequest(검색 기준을 지정하는 연락처 가져 오기 요청.<br>)을 요청하여 (contact(성공), stop(오류))시 에 대한 정보 클로저 이용하여 성공 및 오류사항 정의.</p><p>만약 성공시, contact.phoneNumbers.count &gt; 0 { 이면 contxts.append(contact)<br>그냥 정렬한다는 소리…</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#125; <span class="keyword">catch</span> <span class="keyword">let</span> e <span class="keyword">as</span> <span class="type">NSError</span> &#123;</span><br><span class="line">       <span class="built_in">print</span>(e.localizedDescription)</span><br><span class="line">     &#125;</span><br><span class="line">     </span><br><span class="line">     <span class="type">DispatchQueue</span>.main.async(execute: &#123; () -&gt; <span class="type">Void</span> <span class="keyword">in</span></span><br><span class="line">       <span class="comment">//완성되면 contacts 배열을 제공</span></span><br><span class="line">       completionHandler(contacts)</span><br><span class="line">       </span><br><span class="line">     &#125;)</span><br><span class="line">   &#125;)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>만약 에러나면, e.localizedDescription을 프린트하고, 어씽크(시분할방식 - 비동기) 통해 completionHandler(비동기 완료시점)에 (contacts)반환 (Void를 반환)하여 오류가 반환됨.</p><p>이 메서드는 열거가 완료 될 때까지 기다리기 때문에, 결과가 없으면 블록이 호출되지 않고 메서드가 true를 반환한다.<br>모든 연락처를 한 번에 메모리에 보관하지 않고 모든 연락처를 가져오기 때문에 비용이 많이 든다.</p><p>연락처 가져 오기 요청과 일치하는 모든 연락처의 열거가 성공적으로 실행되면 true이고, 그렇지 않으면 거짓</p><p>휴… 동기/비동기를 다시 한번 훑어봐야겠다…<br><a href="https://m.blog.naver.com/PostView.nhn?blogId=jdub7138&amp;logNo=220937372865&amp;proxyReferer=https:%2F%2Fwww.google.com%2F" target="_blank">동기/비동기 참고하기</a></p><p>셀 부분은 그냥 코드보면 대충 무슨 뜻인지 알것이라 생각하고 cell로 넘어가자.</p><h2 id="2.-testtableviewcell">2. testTableViewCell<a title="#2.-testtableviewcell" href="#2.-testtableviewcell"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">testTableViewCell</span>: <span class="title">UITableViewCell</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">let</span> identifier = <span class="string">"testTableViewCell"</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">let</span> personImage = <span class="type">UIImageView</span>()</span><br><span class="line">      <span class="keyword">let</span> personName = <span class="type">UILabel</span>()</span><br><span class="line">      <span class="keyword">let</span> conditionMassge = <span class="type">UILabel</span>()</span><br><span class="line">      <span class="keyword">let</span> inPerson = <span class="type">UIButton</span>()</span><br><span class="line">  </span><br><span class="line"><span class="comment">//      let personAddButton = UIButton()</span></span><br><span class="line">  </span><br><span class="line">        <span class="keyword">override</span> <span class="keyword">init</span>(style: <span class="type">UITableViewCell</span>.<span class="type">CellStyle</span>, reuseIdentifier: <span class="type">String?</span>) &#123;</span><br><span class="line">          <span class="keyword">super</span>.<span class="keyword">init</span>(style: style, reuseIdentifier: reuseIdentifier)</span><br><span class="line">          </span><br><span class="line">          selectionStyle = .<span class="keyword">none</span></span><br><span class="line">          </span><br><span class="line">          personImage.backgroundColor = .systemGray4</span><br><span class="line">          personImage.image = <span class="type">UIImage</span>(systemName: <span class="string">"person"</span>)</span><br><span class="line">          personImage.tintColor = .lightGray</span><br><span class="line">          personImage.layer.cornerRadius = <span class="number">15</span></span><br><span class="line">          contentView.addSubview(personImage)</span><br><span class="line">          </span><br><span class="line">          personName.text = <span class="string">"이름"</span></span><br><span class="line">         <span class="comment">// personName.font = UIFont.boldSystemFont(ofSize: 17)</span></span><br><span class="line">          conditionMassge.font = <span class="type">UIFont</span>(name: <span class="string">"PingFangHK-Medium"</span>, size: <span class="number">17</span>)</span><br><span class="line">          contentView.addSubview(personName)</span><br><span class="line">          </span><br><span class="line">          conditionMassge.text = <span class="string">"즐거운 하루~~ 빛나는 미래가 보여🐶"</span></span><br><span class="line">          conditionMassge.font = <span class="type">UIFont</span>(name: <span class="string">"PingFangHK-Thin"</span>, size: <span class="number">14</span>)</span><br><span class="line">          conditionMassge.textColor = .gray</span><br><span class="line">          contentView.addSubview(conditionMassge)</span><br><span class="line"></span><br><span class="line">        <span class="comment">//  conditionCheck.text = "21분전"</span></span><br><span class="line">          inPerson.setTitle(<span class="string">"+ 초대"</span>, <span class="keyword">for</span>: .normal)</span><br><span class="line">          inPerson.titleLabel?.font = <span class="type">UIFont</span>(name: <span class="string">"PingFangHK-Medium"</span>, size: <span class="number">12</span>)</span><br><span class="line">          inPerson.setTitleColor(.black, <span class="keyword">for</span>: .normal)</span><br><span class="line">          inPerson.layer.borderColor = <span class="type">UIColor</span>.black.cgColor</span><br><span class="line">          inPerson.backgroundColor = .yellow</span><br><span class="line">          inPerson.layer.borderWidth = <span class="number">1</span></span><br><span class="line">          inPerson.layer.cornerRadius = contentView.frame.width/<span class="number">23</span></span><br><span class="line">          contentView.addSubview(inPerson)</span><br><span class="line">          </span><br><span class="line">          setConstrain()</span><br><span class="line">          </span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">      <span class="function"><span class="keyword">func</span> <span class="title">setConstrain</span><span class="params">()</span></span>&#123;</span><br><span class="line">        </span><br><span class="line">        레이아웃은 생략..</span><br><span class="line"></span><br><span class="line">        ])</span><br><span class="line">        </span><br><span class="line">      &#125;</span><br><span class="line">        <span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">          <span class="built_in">fatalError</span>(<span class="string">"init(coder:) has not been implemented"</span>)</span><br><span class="line">        &#125;</span><br><span class="line">      </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>위의 vc가 연락처목록을 가져오는 tablewView였다면, estTableViewCell은<br>그에 대한 셀이다.</p><p>테스트용으로 만든것이라서… 변수명이 좀 헷깔릴 수 있는데</p><p>conditionMassge가 폰넘버에 해당된다. 원래 상태메세지 가져오는 걸 구현할 계획이었던거라… 번호는 사실 셀에 표현안되어도 되지만 눈으로 확인하기 위해 여기다가 뿌렸다…ㅋㅋㅋ…</p><p>아래 이미지를 보면 이해가 더 쉬울것 같다. 🙂</p><p><img src="/image/Contacts.png" alt="" class="φcx"></p><p>이러케 ㅎㅎ…</p><p>어쨌든 나는 이름과 폰넘버만 가져왔지만,<br>필드만 지정해주면 연락처상에 저장된 모든 데이터(NCContact)를 통해 메모,이메일, 기념일?등도 가져올 수 있다는점 !!!</p><p>그리고 폰넘버가 만약 2개 저장된 정보라면, 가장 상단에 있는 값을 가져온다는 점!</p><p>알아두면 좋을 듯 하다!</p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> Contacts </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]Custom Tabbar</title>
      <link href="2020/08/08/Swift-Custom-Tabbar/"/>
      <url>2020/08/08/Swift-Custom-Tabbar/</url>
      
        <content type="html"><![CDATA[<p>UITabbarController에 구애받지 않고 ViewController로 Tabbar 만들기!</p><p>참고한 사이트 :</p><ul><li><a href="https://milyo-codingstories.tistory.com/m/11" target="_blank">https://milyo-codingstories.tistory.com/m/11</a></li><li><a href="https://dvpzeekke.tistory.com/69" target="_blank">https://dvpzeekke.tistory.com/69</a></li></ul><p>첫번째 방법은 vc에 tabbar를 만들고 스택뷰를 이용하여 버튼 -&gt; 화면 이동의 방식이고,</p><p>두번째 방법은 vc에 collectionView올려서 셀 클릭 -&gt; 화면 이동 의 방식인 거 같은데</p><p>난 첫번째 방법을 사용했다. ㅎㅎ <s>공유해주시는 분들 언제나 감사합니다</s></p><h2 id="1.-baseview">1. BaseView<a title="#1.-baseview" href="#1.-baseview"></a></h2><p><em>베이스가 되는 UIView만들기</em></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BaseView</span>: <span class="title">UIView</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> titleLabel: <span class="type">UILabel</span> = &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="type">UILabel</span>()</span><br><span class="line">    &#125;()</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/// TitleLabel의 AutoLayout 설정</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">makeTitleLableConstraint</span><span class="params">()</span></span> &#123;</span><br><span class="line">        titleLabel.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">        </span><br><span class="line">        <span class="type">NSLayoutConstraint</span>.activate([</span><br><span class="line">            titleLabel.centerYAnchor.constraint(equalTo: centerYAnchor),</span><br><span class="line">            titleLabel.centerXAnchor.constraint(equalTo: centerXAnchor)</span><br><span class="line">            ])</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">init</span>(frame: <span class="type">CGRect</span>) &#123;</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(frame: frame)</span><br><span class="line">        addSubview(titleLabel)</span><br><span class="line">        makeTitleLableConstraint()</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">        <span class="keyword">super</span>.<span class="keyword">init</span>(coder: aDecoder)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>일단 UIView하나가 필요하다. 화면을 담당하는 녀석. 가운데에 콘트롤러마다 &quot;Lable&quot;이 들어가고, 화면마다 lable의 text가 다른데,<br>어쨌든 그러한 점을 보면 BaseView를 타입캐스팅 해서 여러개의 콘트롤러들이 본인들 View에 상속을 받는 방식이다.</li></ul><p>아래를 보면 조금 이해가 된다.</p><h2 id="2.-firstview-~-...">2. firstView ~ …<a title="#2.-firstview-~-..." href="#2.-firstview-~-..."></a></h2><p><em>TabbarItem에 해당될 vc만들기</em></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SNSViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">      <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">loadView</span><span class="params">()</span></span> &#123;</span><br><span class="line">             view = <span class="type">BaseView</span>()</span><br><span class="line"></span><br><span class="line">             <span class="keyword">guard</span> <span class="keyword">let</span> ownView = view <span class="keyword">as</span>? <span class="type">BaseView</span> <span class="keyword">else</span> &#123;</span><br><span class="line">                 <span class="keyword">return</span></span><br><span class="line">             &#125;</span><br><span class="line">       </span><br><span class="line">             ownView.titleLabel.text = <span class="string">"First View"</span></span><br><span class="line">         &#125;</span><br><span class="line">      </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><ul><li>탭바아이템 3개짜리를 만든다면, 위와 같은 VC이 3개 필요하다.</li><li>나는 [chatVC, snsVC, mywriteVC ] 총 3개로 했다.</li><li>해당 vc에서의 view는 BaseView가 되고, 이것의 이름 정의는 ownView가 된다.</li></ul><h2 id="3.-tabbarview">3. TabbarView<a title="#3.-tabbarview" href="#3.-tabbarview"></a></h2><p><em>TabbatView 디자인하기</em></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CustomTabbarView</span>: <span class="title">UIView</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">var</span> buttonSize: <span class="type">CGFloat</span> = <span class="number">60</span></span><br><span class="line">  <span class="keyword">var</span> buttonBackImageSize: <span class="type">CGFloat</span> = <span class="number">0</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> contentView: <span class="type">UIView</span> = &#123;</span><br><span class="line">    <span class="keyword">let</span> contentView = <span class="type">UIView</span>()</span><br><span class="line">    contentView.backgroundColor = .white</span><br><span class="line">    <span class="keyword">return</span> contentView</span><br><span class="line">  &#125;()</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//탭바 아이템</span></span><br><span class="line">  <span class="keyword">let</span> customTabBar: <span class="type">UITabBar</span> = &#123;</span><br><span class="line">    <span class="keyword">let</span> customTabBar = <span class="type">UITabBar</span>()</span><br><span class="line">    customTabBar.backgroundImage = <span class="type">UIImage</span>()</span><br><span class="line">    customTabBar.shadowImage = <span class="type">UIImage</span>()</span><br><span class="line">    <span class="comment">// customTabBar.barTintColor = UIColor(red: 251/255, green: 252/255, blue:157/255, alpha:1)</span></span><br><span class="line">    <span class="comment">// customTabBar.alpha = 0.5</span></span><br><span class="line">    <span class="keyword">return</span> customTabBar</span><br><span class="line">  &#125;()</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> leftStack: <span class="type">ButtonStack</span> = &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">ButtonStack</span>()</span><br><span class="line">  &#125;()</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> centerButtonBackImage: <span class="type">UIImageView</span> = &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">UIImageView</span>()</span><br><span class="line">  &#125;()</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> centerButton: <span class="type">UIButton</span> = &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">UIButton</span>()</span><br><span class="line">  &#125;()</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">makeContentViewConstraint</span><span class="params">()</span></span> &#123;</span><br><span class="line">    contentView.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">    <span class="type">NSLayoutConstraint</span>.activate([</span><br><span class="line">      contentView.centerXAnchor.constraint(equalTo: centerXAnchor),</span><br><span class="line">      contentView.widthAnchor.constraint(equalTo: widthAnchor),</span><br><span class="line">      contentView.topAnchor.constraint(equalTo: topAnchor),</span><br><span class="line">      contentView.bottomAnchor.constraint(equalTo: bottomAnchor),</span><br><span class="line">    ])</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">makeCustomTabBarConstraint</span><span class="params">()</span></span> &#123;</span><br><span class="line">    customTabBar.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">    <span class="type">NSLayoutConstraint</span>.activate([</span><br><span class="line">      customTabBar.bottomAnchor.constraint(equalTo: safeAreaLayoutGuide.bottomAnchor, constant: -<span class="number">20</span>),</span><br><span class="line">      customTabBar.centerXAnchor.constraint(equalTo: centerXAnchor),</span><br><span class="line">      <span class="comment">//   customTabBar.heightAnchor.constraint(equalToConstant: 44),</span></span><br><span class="line">      customTabBar.widthAnchor.constraint(equalTo: widthAnchor),</span><br><span class="line">    ])</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">makeStackConstraint</span><span class="params">(targetStack: UIView)</span></span> &#123;</span><br><span class="line">    targetStack.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">    <span class="type">NSLayoutConstraint</span>.activate([</span><br><span class="line">      targetStack.heightAnchor.constraint(equalTo: customTabBar.heightAnchor),</span><br><span class="line">      targetStack.widthAnchor.constraint(equalTo: customTabBar.widthAnchor,multiplier: <span class="number">1</span>),</span><br><span class="line">      targetStack.centerYAnchor.constraint(equalTo: customTabBar.centerYAnchor)</span><br><span class="line">    ])</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">makeLeftStackConstraint</span><span class="params">()</span></span> &#123;</span><br><span class="line">    leftStack.leadingAnchor.constraint(equalTo: customTabBar.leadingAnchor,constant: <span class="number">16</span>).isActive = <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//버튼 back이미지</span></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">makeCenterButtonBackImageConstraint</span><span class="params">()</span></span> &#123;</span><br><span class="line">    centerButtonBackImage.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">    </span><br><span class="line">    <span class="type">NSLayoutConstraint</span>.activate([</span><br><span class="line">      centerButtonBackImage.trailingAnchor.constraint(equalTo: customTabBar.trailingAnchor, constant: -<span class="number">16</span>),</span><br><span class="line">      centerButtonBackImage.widthAnchor.constraint(equalToConstant: buttonBackImageSize),</span><br><span class="line">      centerButtonBackImage.heightAnchor.constraint(equalTo: centerButtonBackImage.widthAnchor),</span><br><span class="line">      centerButtonBackImage.topAnchor.constraint(equalTo: customTabBar.topAnchor, constant: -(buttonBackImageSize/<span class="number">2</span>))</span><br><span class="line">      </span><br><span class="line">    ])</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">makeCenterButtonConstraint</span><span class="params">()</span></span> &#123;</span><br><span class="line">    centerButton.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">    </span><br><span class="line">    <span class="type">NSLayoutConstraint</span>.activate([</span><br><span class="line">      centerButton.centerXAnchor.constraint(equalTo: centerButtonBackImage.centerXAnchor),</span><br><span class="line">      centerButton.centerYAnchor.constraint(equalTo: centerButtonBackImage.centerYAnchor),</span><br><span class="line">      centerButton.widthAnchor.constraint(equalToConstant: buttonSize),</span><br><span class="line">      centerButton.heightAnchor.constraint(equalTo: centerButton.widthAnchor),</span><br><span class="line">      centerButton.topAnchor.constraint(equalTo: customTabBar.topAnchor, constant: -(buttonSize/<span class="number">2</span>))</span><br><span class="line">      </span><br><span class="line">    ])</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">makeView</span><span class="params">()</span></span> &#123;</span><br><span class="line">    addSubview(contentView)</span><br><span class="line">    addSubview(customTabBar)</span><br><span class="line">    addSubview(leftStack)</span><br><span class="line">    addSubview(centerButtonBackImage)</span><br><span class="line">    addSubview(centerButton)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">makeItemConstraints</span><span class="params">()</span></span> &#123;</span><br><span class="line">    makeContentViewConstraint()</span><br><span class="line">    makeCustomTabBarConstraint()</span><br><span class="line">    makeStackConstraint(targetStack: leftStack)</span><br><span class="line">    makeLeftStackConstraint()</span><br><span class="line">    makeCenterButtonBackImageConstraint()</span><br><span class="line">    makeCenterButtonConstraint()</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">makeCircleBackButtonImage</span><span class="params">()</span></span> &#123;</span><br><span class="line">    centerButtonBackImage.backgroundColor = <span class="type">UIColor</span>(red: <span class="number">251</span>/<span class="number">255</span>, green: <span class="number">252</span>/<span class="number">255</span>, blue:<span class="number">157</span>/<span class="number">255</span>, alpha:<span class="number">1.0</span>)</span><br><span class="line">    centerButtonBackImage.layer.cornerRadius = buttonBackImageSize / <span class="number">2</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">makeCircleBackButton</span><span class="params">()</span></span> &#123;</span><br><span class="line">    </span><br><span class="line">    centerButton.backgroundColor = .clear<span class="comment">//UIColor(red: 251/255, green: 252/255, blue:157/255, alpha:1.0)</span></span><br><span class="line">    centerButton.setImage(<span class="type">UIImage</span>(systemName: <span class="string">"camera.viewfinder"</span>, withConfiguration: <span class="type">UIImage</span>.<span class="type">SymbolConfiguration</span>(pointSize: <span class="number">24</span>, weight: .bold, scale: .large)), <span class="keyword">for</span>: .normal)</span><br><span class="line">    </span><br><span class="line">    centerButton.tintColor = <span class="type">UIColor</span>.lightGray</span><br><span class="line">    centerButton.layer.cornerRadius = buttonSize / <span class="number">2</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">makeLabelTitle</span><span class="params">()</span></span> &#123;</span><br><span class="line">    </span><br><span class="line">    [leftStack.firstButton,leftStack.secondButton, leftStack.threeButton].forEach&#123;</span><br><span class="line">      $<span class="number">0</span>.backgroundColor = .clear</span><br><span class="line">      $<span class="number">0</span>.backgroundColor = <span class="type">UIColor</span>(red: <span class="number">251</span>/<span class="number">255</span>, green: <span class="number">252</span>/<span class="number">255</span>, blue:<span class="number">157</span>/<span class="number">255</span>, alpha:<span class="number">1</span>)</span><br><span class="line">      $<span class="number">0</span>.tintColor = <span class="type">UIColor</span>.white</span><br><span class="line">      <span class="comment">//  $0.alpha = 0.5</span></span><br><span class="line">      $<span class="number">0</span>.setPreferredSymbolConfiguration(.<span class="keyword">init</span>(scale: .large), forImageIn: .normal)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//symbols 디자인</span></span><br><span class="line">    leftStack.firstButton.setImage(<span class="type">UIImage</span>(systemName: <span class="string">"bubble.left.and.bubble.right.fill"</span>, withConfiguration: <span class="type">UIImage</span>.<span class="type">SymbolConfiguration</span>(pointSize: <span class="number">24</span>, weight: .bold, scale: .large)), <span class="keyword">for</span>: .normal)</span><br><span class="line">    </span><br><span class="line">    leftStack.secondButton.setImage(<span class="type">UIImage</span>(systemName: <span class="string">"timer"</span>,withConfiguration: <span class="type">UIImage</span>.<span class="type">SymbolConfiguration</span>(pointSize: <span class="number">24</span>, weight: .bold, scale: .large)), <span class="keyword">for</span>: .normal)</span><br><span class="line">    </span><br><span class="line">    leftStack.threeButton.setImage(<span class="type">UIImage</span>(systemName: <span class="string">"person"</span>,withConfiguration: <span class="type">UIImage</span>.<span class="type">SymbolConfiguration</span>(pointSize: <span class="number">24</span>, weight: .bold, scale: .large)), <span class="keyword">for</span>: .normal)</span><br><span class="line">    </span><br><span class="line">    leftStack.vecLable.text = <span class="string">""</span></span><br><span class="line">    leftStack.vecLable.frame = <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="number">40</span>, height: <span class="number">50</span>)</span><br><span class="line">    leftStack.vecLable.backgroundColor = <span class="type">UIColor</span>(red: <span class="number">251</span>/<span class="number">255</span>, green: <span class="number">252</span>/<span class="number">255</span>, blue:<span class="number">157</span>/<span class="number">255</span>, alpha:<span class="number">1</span>)</span><br><span class="line">    <span class="comment">// leftStack.vecLable.alpha = 0.5</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">linkTagNumber</span><span class="params">()</span></span> &#123;</span><br><span class="line">    leftStack.firstButton.tag = <span class="number">0</span></span><br><span class="line">    leftStack.secondButton.tag = <span class="number">1</span></span><br><span class="line">    leftStack.threeButton.tag = <span class="number">2</span></span><br><span class="line">    leftStack.vecLable.tag = <span class="number">3</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="keyword">init</span>(frame: <span class="type">CGRect</span>) &#123;</span><br><span class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>(frame: frame)</span><br><span class="line">    buttonBackImageSize = buttonSize + <span class="number">10</span></span><br><span class="line">    makeView()</span><br><span class="line">    makeItemConstraints()</span><br><span class="line">    makeLabelTitle()</span><br><span class="line">    makeCircleBackButtonImage()</span><br><span class="line">    makeCircleBackButton()</span><br><span class="line">    linkTagNumber()</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>(coder: aDecoder)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ButtonStack</span>: <span class="title">UIView</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> buttonStackView: <span class="type">UIStackView</span> = &#123;</span><br><span class="line">    <span class="keyword">let</span> buttonStackView = <span class="type">UIStackView</span>()</span><br><span class="line">    buttonStackView.axis = .horizontal</span><br><span class="line">    buttonStackView.distribution = .fillEqually</span><br><span class="line">    <span class="keyword">return</span> buttonStackView</span><br><span class="line">  &#125;()</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> firstButton: <span class="type">UIButton</span> = &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">UIButton</span>()</span><br><span class="line">  &#125;()</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> secondButton: <span class="type">UIButton</span> = &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">UIButton</span>()</span><br><span class="line">  &#125;()</span><br><span class="line">  <span class="keyword">let</span> threeButton: <span class="type">UIButton</span> = &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">UIButton</span>()</span><br><span class="line">  &#125;()</span><br><span class="line">  <span class="keyword">let</span> vecLable: <span class="type">UILabel</span> = &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">UILabel</span>()</span><br><span class="line">  &#125;()</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="keyword">init</span>(frame: <span class="type">CGRect</span>) &#123;</span><br><span class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>(frame: frame)</span><br><span class="line">    </span><br><span class="line">    addSubview(buttonStackView)</span><br><span class="line">    </span><br><span class="line">    buttonStackView.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">    <span class="type">NSLayoutConstraint</span>.activate([</span><br><span class="line">      buttonStackView.widthAnchor.constraint(equalTo: widthAnchor),</span><br><span class="line">      buttonStackView.heightAnchor.constraint(equalTo: heightAnchor),</span><br><span class="line">      buttonStackView.centerXAnchor.constraint(equalTo: centerXAnchor),</span><br><span class="line">      buttonStackView.centerYAnchor.constraint(equalTo: centerYAnchor),</span><br><span class="line">    ])</span><br><span class="line">    </span><br><span class="line">    buttonStackView.addArrangedSubview(firstButton)</span><br><span class="line">    buttonStackView.addArrangedSubview(secondButton)</span><br><span class="line">    buttonStackView.addArrangedSubview(threeButton)</span><br><span class="line">    buttonStackView.addArrangedSubview(vecLable)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>(coder: aDecoder)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>TabbarView에 대한 정보. 레이아웃, 디자인, addsubView, 모두 이쪽에서 해주면 된다.</li><li>카메라 버튼이 하나 있는 데, 그건 그냥 버튼일 뿐이고, 마치 탭바에 있는 것처럼 레이아웃을 잡아주면 되는 방식이다.</li><li>vecLable는 스택뷰의 tag=3에 대한 정보인데, 거의 Nil이라고보면 된다. 이 위에 카메라 버튼 이 와야하는 부분이고, 스택뷰 비율 예쁘게 맞춰야해서… 버튼 추가보다 레이블을 추가하여 맞췄다.</li></ul><h3 id="tabbar-실선-없애기?"><strong>Tabbar 실선 없애기?</strong><a title="#tabbar-실선-없애기?" href="#tabbar-실선-없애기?"></a></h3><p>여기서 좀 헤맸는데,</p><p><img src="/image/tabbar1.png" alt="" class="φcx"></p><p>일단 미리보여주자면, 위 코드로 작성되면 이렇게 나온다. (아직 탭바 콘트롤러 작성적이기 때문에 안보이실 것…)</p><p>아, 저 위에 검정 실선 너무 거슬려 해서 없애려한게 이 것의 발단…</p><p><img src="/image/tabbar2.png" alt="" class="φcx"></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">customTabBar.backgroundImage = <span class="type">UIImage</span>()</span><br><span class="line">customTabBar.shadowImage = <span class="type">UIImage</span>()</span><br><span class="line"><span class="comment">// customTabBar.barTintColor = UIColor(red: 251/255, green: 252/255, blue:157/255, alpha:1)</span></span><br></pre></td></tr></table></figure><p>navigationvar생략도 약간 비슷한 방식으로 없애서, tabbar에 적용해보았더니 되었다 ㅋㅋ 그런데??<br>옆에 애들이 날아갔다… 왜지?, ㅡㅡ;;;;</p><p>다시 부랴부랴 색을 채우려고 코드 이것저것 적용해보고… 결국 알파값을 0.5 씩 낮춰봤는데…</p><p><img src="image/tabbar3.png" alt="" class="φcx"></p><p>아… 탭바 위에 스택뷰 backgroundColor 때문에 동일하게 알파 0.5 씩 줬음에도, 탭바 부분은 0.5+0.5 가 겹쳐져 더 진하게 보인다.<br>(틴트 컬러나 백그라운드 컬러에서 알파를 낮추는게 아니라, 탭바.알파 = 0.5 로 직접 적용해야함. 주석 보면 알 수 있음!!)</p><p>그렇다면 ?</p><p><img src="image/tabbar4.png" alt="" class="φcx"></p><p>일단, 실선을 없애려면</p><p><strong>backgroundImage</strong> 와 <strong>shadowImage</strong> 를 줘야하는게 맞다.</p><p>그러면 tabbar에 대한 이미지 처리가 <strong>완전히</strong> 없어진 것이기 때문에,<br>스택뷰의 backgroundColor로 tabbar의 색을 대신해 주는 것이다.<br>그래서 노란 영역은 탭바가 아닌 스택뷰의 영역인 것…!!!</p><p>그래서 위에 vecLabel을 추가한 것이다… 간격 맞추려고… vacLable에 프레임도 주고 배경색도 동일하게 준 것 !!</p><p><img src="image/tabbar5.png" alt="" class="φcx"></p><p>눈이 아파서 일단 이 정도로 마무리…</p><p>디자인은 아직 나온게 아니니까…</p><p><s>이거하면서 느꼈다. 나 디자인 개못하구나…🐶</s></p><p>이제 마지막이다.</p><h2 id="custom-tabbar">Custom Tabbar<a title="#custom-tabbar" href="#custom-tabbar"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CustomTabbar</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> chatVC: <span class="type">ChatlistViewController?</span></span><br><span class="line">    <span class="keyword">var</span> snsVC: <span class="type">SNSViewController?</span></span><br><span class="line">    <span class="keyword">var</span> mywriteVC: <span class="type">MyWriteHistoryViewController?</span></span><br><span class="line">    <span class="keyword">var</span> vcList = [<span class="type">UIViewController</span>]()</span><br><span class="line">    <span class="keyword">var</span> prevIndex: <span class="type">Int?</span></span><br><span class="line">    </span><br><span class="line">    <span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">linkAction</span><span class="params">(<span class="number">_</span> sender: UIButton)</span></span> &#123;</span><br><span class="line">        checkView()</span><br><span class="line">        prevIndex = sender.tag</span><br><span class="line">        moveView(sender.tag)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/// 새로운 뷰를 만들기 전에 기본의 뷰가 있으면 그 뷰를 제거한다.</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">checkView</span><span class="params">()</span></span> &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> prevSelectedIndex = prevIndex <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        vcList[prevSelectedIndex].willMove(toParent: <span class="literal">nil</span>)</span><br><span class="line">        vcList[prevSelectedIndex].view.removeFromSuperview()</span><br><span class="line">        vcList[prevSelectedIndex].removeFromParent()</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/// 새로운 뷰로 이동한다.</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">moveView</span><span class="params">(<span class="number">_</span> index: Int)</span></span> &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> targetView = view <span class="keyword">as</span>? <span class="type">CustomTabbarView</span> <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">       </span><br><span class="line">        addChild(vcList[index])</span><br><span class="line">        targetView.contentView.addSubview(vcList[index].view)</span><br><span class="line">        vcList[index].view.frame = targetView.contentView.bounds</span><br><span class="line">        vcList[index].didMove(toParent: <span class="keyword">self</span>)</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">moveWriteView</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> vc = <span class="type">CameraViewController</span>()</span><br><span class="line">        present(vc,animated: <span class="literal">true</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">///각 탭바의 아이템들을 액션에 연결한다.</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">linkTargetAction</span><span class="params">()</span></span> &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> targetView = view <span class="keyword">as</span>? <span class="type">CustomTabbarView</span> <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        targetView.leftStack.firstButton.addTarget(<span class="keyword">self</span>, action: #selector(linkAction), <span class="keyword">for</span>: .touchUpInside)</span><br><span class="line">        targetView.leftStack.secondButton.addTarget(<span class="keyword">self</span>, action: #selector(linkAction), <span class="keyword">for</span>: .touchUpInside)</span><br><span class="line">        targetView.leftStack.threeButton.addTarget(<span class="keyword">self</span>, action: #selector(linkAction), <span class="keyword">for</span>: .touchUpInside)</span><br><span class="line">    </span><br><span class="line">        targetView.centerButton.addTarget(<span class="keyword">self</span>, action: #selector(moveWriteView), <span class="keyword">for</span>: .touchUpInside)</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">makeViewList</span><span class="params">()</span></span> &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">guard</span> <span class="keyword">let</span> views = [chatVC, snsVC, mywriteVC] <span class="keyword">as</span>? [<span class="type">UIViewController</span>] <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        vcList = views</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">  <span class="comment">//탭바뷰</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">loadView</span><span class="params">()</span></span> &#123;</span><br><span class="line">        view = <span class="type">CustomTabbarView</span>()</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">        </span><br><span class="line">        chatVC = <span class="type">ChatlistViewController</span>()</span><br><span class="line">        snsVC = <span class="type">SNSViewController</span>()</span><br><span class="line">        mywriteVC = <span class="type">MyWriteHistoryViewController</span>()</span><br><span class="line">        </span><br><span class="line">        makeViewList()</span><br><span class="line">        linkTargetAction()</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/// 뷰가 로딩이 다 되고 난 뒤 기본 뷰를 셋팅한다.</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidAppear</span><span class="params">(<span class="number">_</span> animated: Bool)</span></span> &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> prevIndex == <span class="literal">nil</span> &#123;</span><br><span class="line">            prevIndex = <span class="number">0</span></span><br><span class="line">            moveView(<span class="number">0</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>드디어 탭바컨트롤러!! 읽으면 대충 감은 온다… ㅎㅎ</li></ul><p>(이 부분은 포스팅 맨 위에 작성된 첫번째 방법 참고 링크를 보면 좀 더 이해가 쉽다.!!)</p><p><a href="https://milyo-codingstories.tistory.com/m/11" target="_blank">링크!</a></p><p>일단 이정도로 글을 마치고,</p><p>시간이 남으면 스크롤시 사라지는 것, tabbar아이템 클릭시의 애니매이션을 추가할 계획이다.</p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> Tabbar </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>weak self</title>
      <link href="2020/08/08/POST/weak-self/"/>
      <url>2020/08/08/POST/weak-self/</url>
      
        <content type="html"><![CDATA[<h2 id="weak-self">weak self<a title="#weak-self" href="#weak-self"></a></h2><p>클로저함수 내부에서 self를 캡쳐하는 문법인거 같다</p><p>시간날때… 정리해보자.</p><h3 id="참조">참조<a title="#참조" href="#참조"></a></h3><ul><li><p><a href="https://yagom.net/forums/topic/closure%EC%9D%98-weak-self-%EC%82%AC%EC%9A%A9%EC%97%90-%EB%8C%80%ED%95%9C-%EC%A7%88%EB%AC%B8%EC%9E%85%EB%8B%88%EB%8B%A4/" target="_blank">https://yagom.net/forums/topic/closure%EC%9D%98-weak-self-%EC%82%AC%EC%9A%A9%EC%97%90-%EB%8C%80%ED%95%9C-%EC%A7%88%EB%AC%B8%EC%9E%85%EB%8B%88%EB%8B%A4/</a></p></li><li><p><a href="https://greenchobo.tistory.com/3" target="_blank">https://greenchobo.tistory.com/3</a></p></li><li><p><a href="http://minsone.github.io/mac/ios/rules-of-weak-and-unowned-in-swift" target="_blank">http://minsone.github.io/mac/ios/rules-of-weak-and-unowned-in-swift</a></p></li></ul><p>-<a href="http://minsone.github.io/mac/ios/swift-automatic-reference-counting-summary" target="_blank">http://minsone.github.io/mac/ios/swift-automatic-reference-counting-summary</a></p>]]></content>
      
      
      <categories>
          
          <category> post </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> 공부 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]SF Symbols 정리</title>
      <link href="2020/08/07/Swift-SF-Sybols-%EC%A0%95%EB%A6%AC/"/>
      <url>2020/08/07/Swift-SF-Sybols-%EC%A0%95%EB%A6%AC/</url>
      
        <content type="html"><![CDATA[<p>개발할 때 자주 사용하는 <strong>SFSymbols</strong> !</p><p><img src="https://miro.medium.com/max/744/1*xuNseCoRcYHE4shy_arR-g.png" alt="" class="φcx"></p><p>이번 기회에 확실히 정리하고자 한다.</p><p><img src="https://www.avanderlee.com/wp-content/uploads/2019/10/sf-symbols-scales-weights.png" alt="" class="φcx"></p><p>SFSymbols은 다양한 인터페이스를 지원한다. iOS13부터.</p><h2 id="sf-symbols-사용">SF symbols 사용<a title="#sf-symbols-사용" href="#sf-symbols-사용"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">centerButton.setImage(<span class="type">UIImage</span>(systemName: <span class="string">"camera.viewfinder"</span>), <span class="keyword">for</span>: .normal)</span><br></pre></td></tr></table></figure><h2 id="size-조절">Size 조절<a title="#size-조절" href="#size-조절"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">centerButton.setPreferredSymbolConfiguration(.<span class="keyword">init</span>(scale: .large), forImageIn: .normal)</span><br></pre></td></tr></table></figure><ul><li>스몰, 미디움, 라지가 있다.</li></ul><h2 id="font-조절">Font 조절<a title="#font-조절" href="#font-조절"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">leftStack.firstButton.setImage(<span class="type">UIImage</span>(systemName: <span class="string">"bubble.left.and.bubble.right.fill"</span>, withConfiguration: <span class="type">UIImage</span>.<span class="type">SymbolConfiguration</span>(pointSize: <span class="number">24</span>, weight: .bold, scale: .large)), <span class="keyword">for</span>: .normal)</span><br></pre></td></tr></table></figure><ul><li>SymbolConfiguration에서 아래의 파라미터는 본인이 선택해서 쓰면 된다.</li></ul><p>이것저것 찾아보다가 베타버전 다운받는 것도 있어서 아래 링크 첨부…</p><p><a href="https://developer.apple.com/sf-symbols/" target="_blank">SF 기호 2베타 다운로드</a></p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> SFSymbols </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SDK와 API차이</title>
      <link href="2020/08/05/POST/SDK%EC%99%80-API%EC%B0%A8%EC%9D%B4/"/>
      <url>2020/08/05/POST/SDK%EC%99%80-API%EC%B0%A8%EC%9D%B4/</url>
      
        <content type="html"><![CDATA[<h2 id="sdk와-api차이">SDK와 API차이<a title="#sdk와-api차이" href="#sdk와-api차이"></a></h2><p>쉽게 말하면,<br>SDK는 특정 플랫폼을 대상으로하는 소프트웨어 응용 프로그램을 개발하는 데 사용할 수있는 도구 모음이다. SDK에는 프로그래머가 응용 프로그램을 개발하는 데 도움이되는 도구, 라이브러리, 설명서 및 샘플 코드가 포함되어 있다.</p><p>대부분의 SDK는 인터넷에서 다운로드 할 수 있으며 프로그래머가 SDK의 프로그래밍 언어를 사용하도록 장려하기 위해 많은 SDK가 무료로 제공되기도 한다.</p><p>예를들면,페이스북 SDK, 인스타 SDK, iOS SDK 등…</p><p>널리 사용되는 일부 SDK는 모든 라이브러리, 디버깅 유틸리티 등을 포함하는 Java SDK (JDK)로, Java에서 프로그램 작성을 훨씬 쉽게 해준다. SDK는 서로 호환되는 구성 요소 / 도구를 찾을 필요가없고 모든 패키지가 설치하기 쉬운 단일 패키지에 통합되어 있다.</p><p>그래서, API와의 가장 큰 차이는<br>SKD는 통합키트라는 개념이고, API는 소프트웨어 프로그램이 서로 상호 작용할 수있는 인터페이스라는 것이다. API는 서로 통신하기 위해 프로그램이 따라야하는 일련의 규칙을 정의하고, 일반적으로 두 응용 프로그램이 통신하기 위해 루틴, 데이터 구조 등을 정의하는 방법을 지정한다.</p><p>API이 제공하는 기능은 Java API와 같은 프로그래밍 언어의 라이브러리 기능을 제공하는 일반 API가 있고, Google Maps API와 같은 특정 기능을 제공하는 API도 있다. 언어 별 API도 있으며 이는 특정 프로그래밍 언어에서만 사용할 수 있게 된다. 또한 여러 프로그래밍 언어와 함께 사용할 수있는 언어 독립적 인 API가 있다.</p><p>이 처럼,<br>API는 필요한 기능이나 데이터 만 외부에 노출시키면서 응용 프로그램의 다른 부분에는 액세스 할 수 없도록한다. 일부 기능 및 데이터를 API를 통해 웹 외부로 허용하는 것이 매우 일반적인 사례이고, 이 기능은 사용자에게 향상된 기능을 제공하기 위해 개발자를 통해 결합 될 수 있게 된다.</p><p>정리하자면,<br>API는 소프트웨어 프로그램이 서로 상호 작용할 수있는 인터페이스 인 반면 SDK는 특정 플랫폼을 대상으로하는 소프트웨어 응용 프로그램을 개발하는 데 사용할 수있는 도구 모음이라는 것. 가장 간단한 버전의 SDK는 특정 프로그래밍 언어와 상호 작용하는 데 필요한 일부 파일이 포함 된 API 일 수 있다. 따라서 API는 모든 디버깅 지원 등이없는 간단한 SDK로 볼 수 있다.</p>]]></content>
      
      
      <categories>
          
          <category> post </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 공부 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swfit]FireBase이용하여 Google로그인 만들기</title>
      <link href="2020/08/04/Swfit-FireBase%EC%9D%B4%EC%9A%A9%ED%95%98%EC%97%AC-Google%EB%A1%9C%EA%B7%B8%EC%9D%B8-%EB%A7%8C%EB%93%A4%EA%B8%B0/"/>
      <url>2020/08/04/Swfit-FireBase%EC%9D%B4%EC%9A%A9%ED%95%98%EC%97%AC-Google%EB%A1%9C%EA%B7%B8%EC%9D%B8-%EB%A7%8C%EB%93%A4%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<p>해당 앱에</p><p>구글아이디로 로그인 할 수 있도록 구현해보자</p><h2 id="0.-사전-학습">0. 사전 학습<a title="#0.-사전-학습" href="#0.-사전-학습"></a></h2><p><img src="/image/google3.png" alt="" class="φcx"></p><p>Firebase 프로젝트를 만드는 과정에서 googleServicce를 받게 되는 데, 그것을 프로젝트로 옮긴 후 REVERSED_CLIENT_ID의 주소를 복사하여 아래의 url schemes에 붙여준다.</p><p><img src="/image/google5.png" alt="" class="φcx"></p><p>붙인 모습. 그럼 파이어베이스를 시작해보자.</p><h2 id="1.-firebase---cocoapod에-init,-install">1. FireBase - cocoapod에 init, install<a title="#1.-firebase---cocoapod에-init,-install" href="#1.-firebase---cocoapod에-init,-install"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod <span class="keyword">init</span></span><br></pre></td></tr></table></figure><p>1-1. cocoapod에 해당 프로젝트 경로로 간 후,  pod init 한다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod '<span class="type">GoogleSignIn'</span></span><br></pre></td></tr></table></figure><p>1-2. <strong>Podfile</strong>가 만들어지면, Podfile을 열어서 위 코드를 추가한다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod install</span><br></pre></td></tr></table></figure><p>1-3. pod install로 변경사항 저장.</p><p>(간단간단…)</p><h2 id="2.-appdelegate">2. AppDelegate<a title="#2.-appdelegate" href="#2.-appdelegate"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"><span class="keyword">import</span> Firebase</span><br><span class="line"><span class="keyword">import</span> GoogleSignIn</span><br><span class="line"></span><br><span class="line"><span class="meta">@UIApplicationMain</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AppDelegate</span>: <span class="title">UIResponder</span>, <span class="title">UIApplicationDelegate</span>, <span class="title">GIDSignInDelegate</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">var</span> window: <span class="type">UIWindow?</span></span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">application</span><span class="params">(<span class="number">_</span> application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: <span class="keyword">Any</span>]?)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    setupKeyWindow()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//1</span></span><br><span class="line">  <span class="meta">@available</span>(iOS <span class="number">9.0</span>, *)</span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">application</span><span class="params">(<span class="number">_</span> application: UIApplication, <span class="keyword">open</span> url: URL, options: [UIApplication.OpenURLOptionsKey : <span class="keyword">Any</span>])</span></span></span><br><span class="line">    -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="type">GIDSignIn</span>.sharedInstance().handle(url)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//2</span></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">application</span><span class="params">(<span class="number">_</span> application: UIApplication, <span class="keyword">open</span> url: URL, sourceApplication: String?, annotation: <span class="keyword">Any</span>)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">GIDSignIn</span>.sharedInstance().handle(url)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//3</span></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">sign</span><span class="params">(<span class="number">_</span> signIn: GIDSignIn!, didSignInFor user: GIDGoogleUser!, withError error: Error?)</span></span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> error = error &#123;</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">      <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> authentication = user.authentication <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    <span class="keyword">let</span> credential = <span class="type">GoogleAuthProvider</span>.credential(withIDToken: authentication.idToken,</span><br><span class="line">                                                   accessToken: authentication.accessToken)</span><br><span class="line">                                            </span><br><span class="line">                                                                </span><br><span class="line">   <span class="comment">//로그아웃 호출 추가(나중에)</span></span><br><span class="line">    <span class="keyword">let</span> firebaseAuth = <span class="type">Auth</span>.auth()</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">      <span class="keyword">try</span> firebaseAuth.signOut()</span><br><span class="line">    &#125; <span class="keyword">catch</span> <span class="keyword">let</span> signOutError <span class="keyword">as</span> <span class="type">NSError</span> &#123;</span><br><span class="line">      <span class="built_in">print</span> (<span class="string">"Error signing out: %@"</span>, signOutError)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">setupKeyWindow</span><span class="params">()</span></span> &#123;</span><br><span class="line">    window = <span class="type">UIWindow</span>(frame: <span class="type">UIScreen</span>.main.bounds)</span><br><span class="line">    window?.backgroundColor = .white</span><br><span class="line">    window?.rootViewController = <span class="type">ViewController</span>()</span><br><span class="line">    window?.makeKeyAndVisible()</span><br><span class="line">    </span><br><span class="line">    <span class="type">FirebaseApp</span>.configure()</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//4</span></span><br><span class="line">    <span class="type">GIDSignIn</span>.sharedInstance().clientID = <span class="type">FirebaseApp</span>.app()?.options.clientID</span><br><span class="line">    <span class="type">GIDSignIn</span>.sharedInstance().delegate = <span class="keyword">self</span></span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2-0. Firebase와 GoogleSignIn을 import한다.<br>2-1. <strong>FirebaseApp.configure()</strong> 는 초기화를 위한 필수 적인 메소드<br>2-2. <strong>GIDSignInDelegate</strong> 만 있어도 된다.(추가하는 것 잊지 않기)<br>2-3. 순서대로 쭉 붙여넣기 한다.</p><p>2-4. (주의)3부분에 아래에 <strong>//파이어베이스로 넘겨주는 부분</strong>의 코드도 추가해야한다.  이걸 추가 안했더니… 로그인은 된것처럼 보이는데, 아이디(메일주소) print해봤을때 nil값이 나오더라 ;;;;;…  늦게라도 발견해서 다행…</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sign</span><span class="params">(<span class="number">_</span> signIn: GIDSignIn!, didSignInFor user: GIDGoogleUser!, withError error: Error?)</span></span> &#123;</span><br><span class="line"><span class="keyword">guard</span> error == <span class="literal">nil</span> <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">let</span> error = error &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"구글로그인에 실패함 \(user)"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">guard</span> <span class="keyword">let</span> authentication = user.authentication <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line"><span class="keyword">let</span> credential = <span class="type">GoogleAuthProvider</span>.credential(withIDToken: authentication.idToken,</span><br><span class="line">                                               accessToken: authentication.accessToken)</span><br><span class="line"></span><br><span class="line"><span class="comment">//파이어베이스로 넘겨주는 부분</span></span><br><span class="line"><span class="type">Auth</span>.auth().signIn(with: credential) &#123;(user, error) <span class="keyword">in</span></span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">let</span> error = error &#123;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3.-viewcontroller">3. ViewController<a title="#3.-viewcontroller" href="#3.-viewcontroller"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"><span class="keyword">import</span> Firebase</span><br><span class="line"><span class="keyword">import</span> GoogleSignIn</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span>,<span class="title">GIDSignInDelegate</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">super</span>.viewDidLoad()</span><br><span class="line"></span><br><span class="line"><span class="type">GIDSignIn</span>.sharedInstance()?.presentingViewController = <span class="keyword">self</span></span><br><span class="line"><span class="type">GIDSignIn</span>.sharedInstance().signIn() <span class="comment">//회원가입 신청하는 코드</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3-1. viewDidLoad에 위 2줄을 추가한다.<br>3-2. 회원가입 신청하는 코드는 앞으로 구현될 “구글로그인” Buttond의 Action에 옮겨적는다. <s>위에 것은 지우고</s></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> <span class="comment">//Google Login</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">sign</span><span class="params">(<span class="number">_</span> signIn: GIDSignIn!, didSignInFor user: GIDGoogleUser!, withError error: Error?)</span></span> &#123;</span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">let</span> error = error &#123;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">guard</span> <span class="keyword">let</span> authentication = user.authentication <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">  <span class="keyword">let</span> credential = <span class="type">GoogleAuthProvider</span>.credential(withIDToken: authentication.idToken,</span><br><span class="line">                                                    accessToken: authentication.accessToken)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3-3. 위 코드는 GIDSignInDelegate에 대한 프로토콜</p><h2 id="4.view(button이-위치하는-곳)">4.View(Button이 위치하는 곳)<a title="#4.view(button이-위치하는-곳)" href="#4.view(button이-위치하는-곳)"></a></h2><p>여기서 선택사항이 있는데, Google이 로그인버튼 이미지를 <code>GIDSignInButton</code>라는 이름으로 지원을 해준다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> googleButton = <span class="type">GIDSignInButton</span>()</span><br></pre></td></tr></table></figure><p><s>그런데 직접 커스텀 하기를 추천…(안이쁨)</s></p><p>커스텀은 그냥 일반적으로 Button을 만들고 setBackgroundImage로 원하는 이미지로 로고를 주면 된다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"><span class="keyword">import</span> Firebase</span><br><span class="line"><span class="keyword">import</span> GoogleSignIn</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LoginView</span> : <span class="title">UIView</span></span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//let googleButton = GIDSignInButton()</span></span><br><span class="line">  <span class="keyword">let</span> googleButton = <span class="type">UIButton</span>()</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="keyword">init</span>(frame: <span class="type">CGRect</span>) &#123;</span><br><span class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>(frame: frame)</span><br><span class="line">    commonInit()</span><br><span class="line">    setUI()</span><br><span class="line">    constrain()</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">required</span> <span class="keyword">init</span>?(coder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>(coder: coder)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">commonInit</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">let</span> viewXib = <span class="type">Bundle</span>.main.loadNibNamed(<span class="string">"LoginView"</span>, owner: <span class="keyword">self</span>, options: <span class="literal">nil</span>)![<span class="number">0</span>] <span class="keyword">as</span>! <span class="type">UIView</span></span><br><span class="line">    viewXib.frame = <span class="keyword">self</span>.bounds</span><br><span class="line">    viewXib.backgroundColor = .white</span><br><span class="line">    viewXib.layer.cornerRadius = <span class="number">20</span></span><br><span class="line">    addSubview(viewXib)</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">setUI</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    googleButton.setBackgroundImage(<span class="type">UIImage</span>(named: <span class="string">"dd"</span>), <span class="keyword">for</span>: .normal)</span><br><span class="line">    googleButton.addTarget(<span class="keyword">self</span>, action: #selector(googleLoginAction(<span class="number">_</span> :)), <span class="keyword">for</span>: .touchUpInside)</span><br><span class="line">    addSubview(googleButton)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">googleLoginAction</span><span class="params">(<span class="number">_</span> sender: UIButton)</span></span>&#123;</span><br><span class="line">   </span><br><span class="line">    <span class="type">GIDSignIn</span>.sharedInstance().signIn() <span class="comment">//회원가입 신청하는 코드</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">constrain</span><span class="params">()</span></span>&#123;</span><br><span class="line">    googleButton.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">    </span><br><span class="line">    <span class="type">NSLayoutConstraint</span>.activate([</span><br><span class="line">      googleButton.centerXAnchor.constraint(equalTo: centerXAnchor),</span><br><span class="line">      googleButton.centerYAnchor.constraint(equalTo: centerYAnchor),</span><br><span class="line">      googleButton.widthAnchor.constraint(equalToConstant: <span class="number">47</span>),</span><br><span class="line">      googleButton.heightAnchor.constraint(equalToConstant: <span class="number">47</span>)</span><br><span class="line">    ])</span><br><span class="line">  </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4-1. 현재 Xib로 실험해 볼게 많아서 XiBView위에 버튼을 올린 꼴이라 헷깔릴 수도 있는데, 굳이 그것만 빼고 버튼 부분만 보시면 이해가 될거다…<br>4-2. ButtonAction부분으로 회원가입 신청하는 코드를 가져왔다.</p><p>그리고 빌드해보면 아래와 같은 화면을 확인할 수 있다 !</p><p><img src="/image/google0.png" alt="" class="φcx"></p><p><s>첫번째 화면의 버튼은 내가 비추천 했던 구글 디폴트 버튼이미지(<strong>GIDSignInButton</strong>)이다… ㅎㅎ</s></p><p>보고 선택…</p><p><img src="/image/google4.png" alt="" class="φcx"></p><p>엿튼, 위의 모든 과정을 마치게 되면,</p><p>firebase에 Authentication에 '이메일/비밀번호’와 '구글’에 사용설정 됨을 확인 할 수 있다.</p><p>firebase에 google로그인에 대한 공식가이드가 있으니 아래도 참고해보고 도움되길 바란다!</p><p><a href="https://firebase.google.com/docs/auth/ios/google-signin?hl=ko#swift_5" target="_blank">참고 :https://firebase.google.com/docs/auth/ios/google-signin?hl=ko#swift_5</a></p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> FireBase </tag>
            
            <tag> GoogleLogin </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[라이브러리]paper-onboarding</title>
      <link href="2020/07/31/%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-paper-onboarding/"/>
      <url>2020/07/31/%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-paper-onboarding/</url>
      
        <content type="html"><![CDATA[<h2 id="paper-onboarding"><strong>paper-onboarding</strong><a title="#paper-onboarding" href="#paper-onboarding"></a></h2><p><a href="https://github.com/Ramotion/paper-onboarding" target="_blank">https://github.com/Ramotion/paper-onboarding<br></a></p><p>예쁜 온보딩 화면을 구현해주는 라이브러리다</p><p>몬가 색깔 바뀌는 게 예뻐서 한 번 써보고 싶은 라이브러리였다!</p><p>그런데 디자이너분들이 색을 하나로 통일하자고 해서, 티가 안난당…(왜 썼,.)</p><p>이왕 쓰게 된 거 포스트 !!</p><p>나는 cocoapod을 사용하지 않고 Swift Package Manager를 사용했다.<br>SwiftPackageManager가 git 협업하기에도 좋고 파일 정리가 훨씬 깔끔해서<br>cocoapod은 지양하고 있다.</p><h2 id="1.import"><strong>1.import</strong><a title="#1.import" href="#1.import"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> paper-onboarding</span><br></pre></td></tr></table></figure><h2 id="2.선언"><strong>2.선언</strong><a title="#2.선언" href="#2.선언"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//선언</span></span><br><span class="line"><span class="keyword">let</span> onboarding = <span class="type">PaperOnboarding</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line">      </span><br><span class="line">onboarding.dataSource = <span class="keyword">self</span></span><br><span class="line">onboarding.delegate = <span class="keyword">self</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3.setup-onboarding"><strong>3.setup Onboarding</strong><a title="#3.setup-onboarding" href="#3.setup-onboarding"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//MARK: - Onboarding</span></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">setupOnboarding</span><span class="params">()</span></span>&#123;</span><br><span class="line">    view.backgroundColor = .white</span><br><span class="line">    view.addSubview(onboarding)</span><br><span class="line">    </span><br><span class="line">    onboarding.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> attribute: <span class="type">NSLayoutConstraint</span>.<span class="type">Attribute</span> <span class="keyword">in</span> [.<span class="keyword">left</span>, .<span class="keyword">right</span>, .top, .bottom] &#123;</span><br><span class="line">      <span class="keyword">let</span> constraint = <span class="type">NSLayoutConstraint</span>(item: onboarding,</span><br><span class="line">                                          attribute: attribute,</span><br><span class="line">                                          relatedBy: .<span class="built_in">equal</span>,</span><br><span class="line">                                          toItem: view,</span><br><span class="line">                                          attribute: attribute,</span><br><span class="line">                                          multiplier: <span class="number">1</span>,</span><br><span class="line">                                          constant: <span class="number">0</span>)</span><br><span class="line">      view.addConstraint(constraint)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4.-paperonboardingdatasource(기본값-지정)"><strong>4. PaperOnboardingDataSource(기본값 지정)</strong><a title="#4.-paperonboardingdatasource(기본값-지정)" href="#4.-paperonboardingdatasource(기본값-지정)"></a></h2><p><img src="image/on1.png" alt="" class="φcx"></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//MARK:-PaperOnboardingDataSource</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">OnboardingViewController</span>: <span class="title">PaperOnboardingDataSource</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">onboardingItem</span><span class="params">(at index: Int)</span></span> -&gt; <span class="type">OnboardingItemInfo</span> &#123;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> titleFont = <span class="type">UIFont</span>(name: <span class="string">"AvenirNext-Bold"</span>, size: <span class="number">24</span>)!</span><br><span class="line">    <span class="keyword">let</span> descirptionFont = <span class="type">UIFont</span>(name: <span class="string">"AvenirNext-Regular"</span>, size: <span class="number">18</span>)!</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> [<span class="type">OnboardingItemInfo</span>(informationImage: <span class="type">UIImage</span>(named:<span class="string">"back"</span>)!,</span><br><span class="line">                                 title: <span class="string">"확실한 분리수거"</span>,</span><br><span class="line">                                 description: <span class="string">"폐기물 처리 가이드를 통해\n궁금했던 분리수거 방법을 알아보세요.\n잘못된 분리수거 방법을 바로 잡아요"</span>,</span><br><span class="line">                                 pageIcon: <span class="type">UIImage</span>(named:<span class="string">"on"</span>)!,</span><br><span class="line">                                 color: <span class="type">UIColor</span>.white,</span><br><span class="line">                                 titleColor: <span class="type">UIColor</span>.black,</span><br><span class="line">                                 descriptionColor: <span class="type">UIColor</span>.black,</span><br><span class="line">                                 titleFont: titleFont,</span><br><span class="line">                                 descriptionFont: descirptionFont),</span><br><span class="line">              <span class="type">OnboardingItemInfo</span>(informationImage: <span class="type">UIImage</span>(named:<span class="string">"back"</span>)!,</span><br><span class="line">                                 title: <span class="string">"집 앞에서 픽업"</span>,</span><br><span class="line">                                 description: <span class="string">"잠들기 전, 집 문 앞에 폐기물을 놓아두고\n쓸애기 서비스를 이용해보세요.\n잠든 사이에 빠르게 수거해 갈게요."</span>,</span><br><span class="line">                                 pageIcon: <span class="type">UIImage</span>(named:<span class="string">"on"</span>)!,</span><br><span class="line">                                 color: <span class="type">UIColor</span>.white,</span><br><span class="line">                                 titleColor: <span class="type">UIColor</span>.black,</span><br><span class="line">                                 descriptionColor: <span class="type">UIColor</span>.black,</span><br><span class="line">                                 titleFont: titleFont,</span><br><span class="line">                                 descriptionFont: descirptionFont),</span><br><span class="line">              <span class="type">OnboardingItemInfo</span>(informationImage: <span class="type">UIImage</span>(named:<span class="string">"back"</span>)!,</span><br><span class="line">                                 title: <span class="string">"새롭게 재탄생!"</span>,</span><br><span class="line">                                 description: <span class="string">"정성껏 분리수거된 재활용 폐기물은\n종류별로 나눠져 재활용 업체에 넘어갑니다\n나의 작은 노력 하나로 깨끗한 지구를 만들어요!"</span>,</span><br><span class="line">                                 pageIcon: <span class="type">UIImage</span>(named:<span class="string">"on"</span>)!,</span><br><span class="line">                                 color: <span class="type">UIColor</span>.white,</span><br><span class="line">                                 titleColor: <span class="type">UIColor</span>.black,</span><br><span class="line">                                 descriptionColor: <span class="type">UIColor</span>.black,</span><br><span class="line">                                 titleFont: titleFont,</span><br><span class="line">                                 descriptionFont: descirptionFont)</span><br><span class="line">        ][index]</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">onboardingItemsCount</span><span class="params">()</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">3</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>4-1. <strong>onboardingItemsCount</strong>는 딱 봐도 온보딩페이지 갯수다. 난 3개<br>4-2. title,description,pageIcon…등 역시 화면만 보아도 매칭이 되서 딱 알것이다.<br>4-3. informationImage가 온보딩페이지의 메인 이미지라고 보면되는데, 나는 백터이미지를 넣어놓은 상태다. 왜냐면, 이게 라이브러리라서 사이즈가 이미 정해져서 나와 변경할 수가 없당…  <s>사실 gif넣을 계획이었는데 시간이 부족해서…그냥 Image로 넣기로 한것T T…</s></p><p>디자이너가 바라는 사이즈가 안나와서 해당 카테고리에는 백터이미지를 넣고, 온보딩위에 새로운 UIImageView를 올려서 그것을 처리했다… (왜썻…2…)</p><h2 id="5.-action"><strong>5. Action</strong><a title="#5.-action" href="#5.-action"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//MARK:- Action</span></span><br><span class="line"><span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">buttonClicked</span><span class="params">(<span class="number">_</span> sender: UIButton)</span></span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> adressVC = <span class="type">AddressViewController</span>()</span><br><span class="line">  <span class="keyword">let</span> adressNV = <span class="type">UINavigationController</span>(rootViewController: adressVC)</span><br><span class="line"></span><br><span class="line">  adressNV.modalPresentationStyle = .fullScreen</span><br><span class="line">  present(adressNV, animated: <span class="literal">false</span>)</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>5-1. 위 코드는 3번째 온보딩 화면에서 <strong>시작하기</strong> 버튼의 메서드이다.  누르면 앱의 주소입력 화면으로 넘어간당</p><h2 id="6.-paperonboardingdelegate"><strong>6. PaperOnboardingDelegate</strong><a title="#6.-paperonboardingdelegate" href="#6.-paperonboardingdelegate"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//MARK:-PaperOnboardingDelegate</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">OnboardingViewController</span>: <span class="title">PaperOnboardingDelegate</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">func</span> <span class="title">onboardingConfigurationItem</span><span class="params">(<span class="number">_</span>: OnboardingContentViewItem, index <span class="number">_</span>: Int)</span></span> &#123;</span><br><span class="line">      </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">onboardingWillTransitonToIndex</span><span class="params">(<span class="number">_</span> index: Int)</span></span> &#123;</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">if</span> index == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">self</span>.getButton.alpha == <span class="number">1</span> &#123;</span><br><span class="line">          <span class="type">UIView</span>.animate(withDuration: <span class="number">0.1</span>, animations: &#123;</span><br><span class="line">            <span class="keyword">self</span>.getButton.alpha = <span class="number">0</span></span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">onboardingDidTransitonToIndex</span><span class="params">(<span class="number">_</span> index: Int)</span></span> &#123;</span><br><span class="line">      <span class="keyword">if</span> index == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="type">UIView</span>.animate(withDuration: <span class="number">0.1</span>, animations: &#123;</span><br><span class="line">          <span class="keyword">self</span>.onboardingImage.alpha = <span class="number">1</span></span><br><span class="line">          <span class="keyword">self</span>.onboardingImage.image = <span class="type">UIImage</span>(named: <span class="string">"on1"</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;<span class="keyword">else</span> <span class="keyword">if</span> index == <span class="number">1</span> &#123;</span><br><span class="line">        <span class="type">UIView</span>.animate(withDuration: <span class="number">0.1</span>, animations: &#123;</span><br><span class="line">          <span class="comment">//self.onboardingImage.alpha = 0</span></span><br><span class="line">          <span class="keyword">self</span>.onboardingImage.image = <span class="type">UIImage</span>(named: <span class="string">"on2"</span>)</span><br><span class="line"></span><br><span class="line">        &#125;)</span><br><span class="line">        </span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="type">UIView</span>.animate(withDuration: <span class="number">0.2</span>, animations: &#123;</span><br><span class="line">          <span class="keyword">self</span>.onboardingImage.image = <span class="type">UIImage</span>(named: <span class="string">"on3"</span>)</span><br><span class="line">          <span class="keyword">self</span>.getButton.alpha = <span class="number">1</span></span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>6-1. PaperOnboardingDelegate에서 alpha을 이용해 Button은 3번째 화면에서만 보이도록 구현<br>6-2. 온보딩 페이지별로  onboardingImage 다르게 처리해주기 까지 하면 완성 !</p><h3 id="완성모습-영상보기"><strong>완성모습 영상보기</strong><a title="#완성모습-영상보기" href="#완성모습-영상보기"></a></h3><p><a href="https://youtu.be/LzJhSUQ_8i8" target="_blank">https://youtu.be/LzJhSUQ_8i8</a></p>]]></content>
      
      
      <categories>
          
          <category> Library </category>
          
      </categories>
      
      
        <tags>
            
            <tag> paper-onboarding </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]Xib이용예제(sb: customUI)</title>
      <link href="2020/07/26/Swift-customUIView-%EB%A7%8C%EB%93%A4%EA%B8%B0/"/>
      <url>2020/07/26/Swift-customUIView-%EB%A7%8C%EB%93%A4%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<p>Xib로 customa UIView를 구현하는 방식.</p><p>첫 발단은 기술면접 보면서 customUI만들어본적 있냐고 했을 때,</p><p>아, MVC 패턴 말하는 거냐고?? 물어봤는데, 정색하면서 아니라고 해서 공부시작…</p><p>Xib/Nib 의 존재를 알게 되었고 적용해봄.</p><p><s>결론은 내가생각 했던 커스텀</s> 이 아니라, 그냥 스토리보드 상에서 사용하는 UIView~~였음…</p><p>ㅡㅡ,</p><p>그래서 좀 실망한 부분…</p><h2 id="1.-uiview">1. UIView<a title="#1.-uiview" href="#1.-uiview"></a></h2><p>먼저, customView가 될, UIView를 하나 만든다.<br>시험삼아 레이블 1개,버튼 1개가 있는 커스텀 뷰를 만들 것이다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyView</span>: <span class="title">UIView</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> myLable = <span class="type">UILabel</span>()</span><br><span class="line">  <span class="keyword">let</span> mybutton = <span class="type">UIButton</span>()</span><br><span class="line"></span><br><span class="line">  <span class="keyword">override</span> <span class="keyword">init</span>(frame: <span class="type">CGRect</span>) &#123;</span><br><span class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>(frame: frame)</span><br><span class="line">    commonInit()</span><br><span class="line">    setUI()</span><br><span class="line">    constrain()</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">required</span> <span class="keyword">init</span>?(coder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>(coder: coder)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">commonInit</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> viewXib = <span class="type">Bundle</span>.main.loadNibNamed(<span class="string">"MyView"</span>, owner: <span class="keyword">self</span>, options: <span class="literal">nil</span>)![<span class="number">0</span>] <span class="keyword">as</span>! <span class="type">UIView</span></span><br><span class="line">    viewXib.frame = <span class="keyword">self</span>.bounds</span><br><span class="line">    viewXib.backgroundColor = .white</span><br><span class="line">    viewXib.layer.cornerRadius = <span class="number">20</span></span><br><span class="line">    addSubview(viewXib)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">setUI</span><span class="params">()</span></span>&#123;</span><br><span class="line">    myLable.text = <span class="string">"dd"</span></span><br><span class="line">    addSubview(myLable)</span><br><span class="line">    </span><br><span class="line">    mybutton.setTitle(<span class="string">"버튼"</span>, <span class="keyword">for</span>: .normal)</span><br><span class="line">    mybutton.setTitleColor(.red, <span class="keyword">for</span>: .normal)</span><br><span class="line">    addSubview(mybutton)</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">constrain</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    [myLable,mybutton].forEach &#123;</span><br><span class="line">      $<span class="number">0</span>.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">     &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">NSLayoutConstraint</span>.activate([</span><br><span class="line">      myLable.centerXAnchor.constraint(equalTo: centerXAnchor),</span><br><span class="line">      myLable.centerYAnchor.constraint(equalTo: centerYAnchor),</span><br><span class="line">  </span><br><span class="line">      mybutton.topAnchor.constraint(equalTo: myLable.bottomAnchor),</span><br><span class="line">      mybutton.centerXAnchor.constraint(equalTo: centerXAnchor),</span><br><span class="line"></span><br><span class="line">    ])</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>1-1.  override init과 required init?은 일반 MVC와 동일하다.<br>1-2. 습관처럼 view.addsubview~~ 쓰려고 했는데 이미 view라서 view쓰면 오류난다. addsubView으로 그냥으로 처리…<br>1-3.  다른점은 commonInit 부분인데,  commonInit함수가 UIview불러오는 함수다.<br>1-4. <strong>loadNibNamed</strong> 이 해당 xib파일의 클래스 이름을 가져와준다. Bundle.main으로?.. &quot;MyView&quot;는 xib클래스 이름!</p><p>xib 이 뭐야 !!😡 라고 묻는 다면 아래를 보시라.</p><p><s>늦어서 미안…</s></p><h2 id="2.-xib만들기">2. xib만들기<a title="#2.-xib만들기" href="#2.-xib만들기"></a></h2><p><img src="/image/xib.png" alt="" class="φcx"></p><p>2-1. cmd + n 으로 새로만들기 진행후 아래 View를 선택</p><p><img src="/image/xib1.png" alt="" class="φcx"></p><p>스토리보드 비스무리한 게 나올텐데 우리는 코드로 하자구, , ,</p><p>2-2. class이름만 지정하도록 한다.</p><p>(스토리 보드로 할거라면, 위의 코드에 레이블과 버튼을 모두 @IBOulet처리 하면된다. 그리고 스토리 보드에 꾸미면 됨… 이건 다른 블로그에도 많으니까…)</p><p>그런데 파일에 직접 들어가서 class이름을 하나하나 부여하는 것도 번거로운것 같은데… 아마 다른 방법이 있긴 할 것같은데…<br>다음에 더 알아보기로…<br>(지금은 궁금증해소가 먼저,)</p><p><s>알아본 결과: 그냥 애초에 스토리보드용이라서 그러는 거 같다 ㅋㅋㅋ 그런거 없음</s></p><p><img src="/image/xib3.png" alt="" class="φcx"></p><p>2-3. 파일명도 customView와 동일하게 지정해줬다면 끝! (혼돈이 오지 않게)</p><p><strong>commonInit</strong> 함수에 viewXib 가 customView가 된다.<br>viewXib.backgroundColor = .white 로 지정하여 구분!</p><h2 id="3.viewcontroller">3.ViewController<a title="#3.viewcontroller" href="#3.viewcontroller"></a></h2><p>제작한 customView(MyUIView.swift)를  ViewController에 가져오기.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> customView = <span class="type">MyView</span>(frame: <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: view.frame.width, height: view.frame.height))</span><br><span class="line">    view.backgroundColor = .yellow</span><br><span class="line">    <span class="keyword">self</span>.view.addSubview(customView)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3-1. customView의 크기는 ViewController에서 한답</p><p>일단 이정도로 해주면 ?</p><p><img src="/image/xib4.png" alt="" class="φcx"></p><p>vc위에 해당 frame 값으로 customView가 위치한 모습을 볼 수 있다.  스냅챗처럼 커스텀뷰인거 티내려고 cornerRadius = 20을 줬던건데…<br>생각해보니 일반 view에 cornerRadius가 안먹었었나 !? ㅡㅡ 문득 생각이 들어<br>vc에도 cornerRadius을 줘봤다…</p><p>결과는,?</p><p><img src="/image/xib5.png" alt="" class="φcx"></p><p>아,… 원래 되는거구나 그냥 일반 view에서도…</p><p>((((배신감))))… 난 뭘한거지… 🤔</p><p>현재 수치 ㅋ… 구분하기 쉽게…</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">view.laye.cornerRadius &#x3D; 10</span><br><span class="line">viewXib.layer.cornerRadius &#x3D; 20</span><br></pre></td></tr></table></figure><p>아니 그럼 내가 믿었던 건 뭐지 ㅠㅠ…</p><p>근데 스냅챗은 뒤에가 검정색인데 ? …!!</p><p>ㅎㅎ…</p><p>SceneDelegate가서 window 색을 black으로 바꾸어 보았다…</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">window?.backgroundColor &#x3D; .black</span><br></pre></td></tr></table></figure><p>결과는 … ? ? ?</p><p><img src="/image/xib6.png" alt="" class="φcx"></p><p>앗… 뭔가 원했던 그림이랑 비슷하게 나왔다 ㅋㅋ…</p><p>이제야 궁금증이 해소된…</p><p>하…  근데 면접자분 피셜, 현역에서도 customUI를 제대로 다루는 사람을 본적이 없다고 하셨따… (네이버10년 배민 2년경력이신…)</p><p>흠…</p><p>좀 더 연구해보기로…</p><p>일단 더 주어진 생각은</p><p>버튼에 액션도 달기</p><p>아, 액션도 그냥 달면된다… 특별할거 없다.</p><p>Xib는 그냥 이걸로 끝인거 같다 활용가능성이 별루 없습,</p><p>흐윽… 😱… 😔 ;;</p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> UIView </tag>
            
            <tag> CustomUI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]PageView(with:ScrollView)</title>
      <link href="2020/07/21/Swift-PageView-with-ScrollView/"/>
      <url>2020/07/21/Swift-PageView-with-ScrollView/</url>
      
        <content type="html"><![CDATA[<h3 id="[pageview]"><strong>[PageView]</strong><a title="#[pageview]" href="#[pageview]"></a></h3><p>ScrollView와 세트인 PageView도 구현</p><h3 id="1.선언">1.선언<a title="#1.선언" href="#1.선언"></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//페이지뷰</span></span><br><span class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> pageControl = <span class="type">UIPageControl</span>(frame: <span class="type">CGRect</span>(x: view.frame.midX - <span class="number">100</span>, y: view.frame.maxY - <span class="number">200</span>, width: <span class="number">200</span>, height: <span class="number">50</span>))</span><br></pre></td></tr></table></figure><h3 id="2.-veiw-~-constrain">2. Veiw ~ Constrain<a title="#2.-veiw-~-constrain" href="#2.-veiw-~-constrain"></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">view.addSubview(pageControl)</span><br></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pageControl.topAnchor.constraint(equalTo: scrollView.bottomAnchor, constant: <span class="number">20</span>),</span><br><span class="line">    pageControl.centerXAnchor.constraint(equalTo: guide.centerXAnchor),</span><br></pre></td></tr></table></figure><h3 id="3.-pageviewcontrol">3. pageViewControl<a title="#3.-pageviewcontrol" href="#3.-pageviewcontrol"></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//MARK:-pageView</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">pageViewControl</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">      pageControl.numberOfPages = images.<span class="built_in">count</span></span><br><span class="line">      pageControl.currentPage = <span class="number">0</span></span><br><span class="line">      pageControl.pageIndicatorTintColor = .lightGray</span><br><span class="line">      pageControl.currentPageIndicatorTintColor = <span class="type">ColorPiker</span>.customBlue</span><br><span class="line">      pageControl.addTarget(<span class="keyword">self</span>, action: #selector(handlePageControl(<span class="number">_</span>:)), <span class="keyword">for</span>: .valueChanged)</span><br><span class="line">  </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"><span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">handlePageControl</span><span class="params">(<span class="number">_</span> sender: UIPageControl)</span></span> &#123;</span><br><span class="line">            <span class="keyword">let</span> x = <span class="type">CGFloat</span>(pageControl.currentPage) * scrollView.frame.width</span><br><span class="line">            scrollView.setContentOffset(<span class="type">CGPoint</span>(x: x, y: <span class="number">0</span>), animated: <span class="literal">true</span>)</span><br><span class="line">          &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h3 id="4.scrollview와의-연동(uiscrollviewdelegate)">4.ScrollView와의 연동(UIScrollViewDelegate)<a title="#4.scrollview와의-연동(uiscrollviewdelegate)" href="#4.scrollview와의-연동(uiscrollviewdelegate)"></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//MARK:-UIScrollViewDelegate</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">DescriptionViewController</span>: <span class="title">UIScrollViewDelegate</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">scrollViewDidEndDecelerating</span><span class="params">(<span class="number">_</span> scrollView: UIScrollView)</span></span> &#123;</span><br><span class="line">        <span class="keyword">let</span> pageNumber = round(scrollView.contentOffset.x / scrollView.frame.width)</span><br><span class="line">        pageControl.currentPage = <span class="type">Int</span>(pageNumber)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> UIPageView </tag>
            
            <tag> UIScrollView </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[swift]UIScrollView 만들기</title>
      <link href="2020/07/21/swift-UIScrollView-%EB%A7%8C%EB%93%A4%EA%B8%B0/"/>
      <url>2020/07/21/swift-UIScrollView-%EB%A7%8C%EB%93%A4%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<p>앱을 이용하면서 자주접하는 scrollview를 공부해보자.</p><p>scrollview가 까다로운게, 부모뷰가 자식뷰의 크기를 따라가는 속성이라 자식뷰의 프레임과 통일성이 굉장히 중요해진다.</p><p>이것을 frame으로 잡는 방법이 있고 autolay 아웃으로 잡는 방법이 있는데</p><p>2가지 다 알아보는 걸로 ㅋㅋ</p><h1 id="[frame-이용]">[frame 이용]<a title="#[frame-이용]" href="#[frame-이용]"></a></h1><h3 id="주의점"><s>주의점</s><a title="#주의점" href="#주의점"></a></h3><p><img src="/image/scroll1.png" alt="" class="φcx"></p><ul><li>red -&gt; ScrollView</li><li>whigt -&gt; ImageView</li></ul><p>보기에 잘나온 것 같지만, 부모뷰(ScrollView)가 자식뷰(imageView)보다 더 큰 경우라서, 위처럼 구현되면 자식뷰들이 부모뷰의 영역(redView)만큼 자유자재로 움직일 수 있게 된다.</p><p>애초에 그게 구현목표였다면 상관 없겠지만…<br>스크롤뷰에서는 보통 고정되도록 구현하니까…</p><p><img src="/image/scroll4.png" alt="" class="φcx"></p><p>이런식으로 풀화면 채워야한다.<br>그리고 총 3개의 그림을 크롤 하도록…</p><h2 id="1.선언">1.선언<a title="#1.선언" href="#1.선언"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> scrollView = <span class="type">UIScrollView</span>()</span><br><span class="line"><span class="keyword">var</span> scrollFrame = <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="number">0</span>, height: <span class="number">0</span>)</span><br><span class="line"><span class="keyword">let</span> images = [<span class="string">"naver"</span>,<span class="string">"instagram"</span>,<span class="string">"naver"</span>] <span class="comment">//이미지이름</span></span><br></pre></td></tr></table></figure><h2 id="2.frame잡기">2.frame잡기<a title="#2.frame잡기" href="#2.frame잡기"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">scrollView.contentSize = <span class="type">CGSize</span>(width: <span class="number">375</span> * <span class="number">3</span>, height: scrollView.frame.height)</span><br><span class="line">   scrollView.delegate = <span class="keyword">self</span></span><br><span class="line">   scrollView.isPagingEnabled = <span class="literal">true</span></span><br><span class="line">  <span class="comment">// scrollView.backgroundColor = .red</span></span><br><span class="line">   view.addSubview(scrollView)</span><br></pre></td></tr></table></figure><p>2-1.  <strong>scrollView.contentSize</strong>는 width가 275인 이미지가 3개 들어간다는 의미로 * 3을 해주었다. height는 scrollView에 맞춤.<br>2-1. <strong>isPagingEnabled</strong>는 스크롤 할때 페이지값으로 프레임이 정확하게 이동하는 것</p><h2 id="3.-scrollview에-들어갈-이미지의-size지정.">3. ScrollView에 들어갈 이미지의 size지정.<a title="#3.-scrollview에-들어갈-이미지의-size지정." href="#3.-scrollview에-들어갈-이미지의-size지정."></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//MARK:-ScrollView</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">setScrollView</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="comment">//</span></span><br><span class="line">  <span class="keyword">for</span> index <span class="keyword">in</span> images.<span class="built_in">indices</span> &#123;</span><br><span class="line">    scrollFrame.origin.x = view.frame.width * <span class="type">CGFloat</span>(index)</span><br><span class="line">    scrollFrame.size = scrollView.frame.size</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> descriptionImage = <span class="type">UIImageView</span>()</span><br><span class="line">    descriptionImage.image = <span class="type">UIImage</span>(named: images[index])</span><br><span class="line">    descriptionImage.frame = <span class="type">CGRect</span>(x: scrollFrame.origin.x, y: <span class="number">0</span>, width: <span class="number">375</span>, height: <span class="number">430</span>)</span><br><span class="line">    scrollView.addSubview(descriptionImage)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3-1. <strong>images.indices</strong> 이미지를 순차적으로 넣는다.<br>3-2. image의 사이즈</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">descriptionImage.frame = <span class="type">CGRect</span>(x: scrollFrame.origin.x, y: <span class="number">0</span>, width: <span class="number">375</span>, height: <span class="number">430</span>)</span><br></pre></td></tr></table></figure><p>그러면 이미지가 scrollView의 크기와 맞게 잘 돌아가는 화면을 확인 할 수 있다.</p><p>스크롤 방향은 콜렉션뷰처럼 호라이즌, 버티컬로 지정해주는 게 아니라,<br>scrollview가 지정범위를 주고, 자식뷰의 크기에 따라서 스크롤 해주는 개념이다.<br>그래서 자식뷰가 width를 늘리면서 가는지, height를 늘리면서 가는지에 따라 결정된다.</p><p>fram이 정확한 값을 부여하기 쉬워서 오토레이아웃보다는 안정성 면에서 좋은 것 같지만, 나는 오토레이아웃 쟁이이니까.</p><p>그리고, 위/아래로 스크롤 되는 것이 오토레이아웃이 더 쉬울것 같아서 아래의 방법처럼 해보았다.</p><p><s>(사실 삽질 엄청 많이함.)</s></p><h1 id="[autolayout-이용]">[autoLayout 이용]<a title="#[autolayout-이용]" href="#[autolayout-이용]"></a></h1><p>구현해야할 사항은 아래와 같다.</p><p><img src="image/scroll6.png" alt="" class="φcx"></p><p>컨텐츠 크기에 맞춰 아래로 스크롤 하기!</p><p>(ImageView와 함께 설명!)</p><h2 id="1.-선언">1. 선언<a title="#1.-선언" href="#1.-선언"></a></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">let scrollView &#x3D; UIScrollView()</span><br><span class="line">let detailimageView &#x3D; UIImageView()</span><br></pre></td></tr></table></figure><h2 id="2.-ui">2. UI<a title="#2.-ui" href="#2.-ui"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">scrollView.backgroundColor = .white</span><br><span class="line">view.addSubview(scrollView)</span><br><span class="line"></span><br><span class="line">detailimageView.clipsToBounds = <span class="literal">true</span></span><br><span class="line">detailimageView.image = <span class="type">UIImage</span>(named: <span class="string">"dc1"</span>)</span><br><span class="line">scrollView.addSubview(detailimageView)</span><br></pre></td></tr></table></figure><h2 id="3.-constrain">3. Constrain<a title="#3.-constrain" href="#3.-constrain"></a></h2><ul><li>translatesAutoresizingMaskIntoConstraints</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[scrollView,detailimageView].forEach&#123;</span><br><span class="line">    $<span class="number">0</span>.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><ul><li>NSLayoutConstraint</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">NSLayoutConstraint</span>.activate([</span><br><span class="line"></span><br><span class="line">scrollView.topAnchor.constraint(equalTo: view.topAnchor, constant: -<span class="number">90</span>),</span><br><span class="line">scrollView.leadingAnchor.constraint(equalTo: view.leadingAnchor),</span><br><span class="line">scrollView.trailingAnchor.constraint(equalTo: view.trailingAnchor),</span><br><span class="line">scrollView.bottomAnchor.constraint(equalTo: view.bottomAnchor),</span><br><span class="line"></span><br><span class="line">detailimageView.topAnchor.constraint(equalTo: scrollView.topAnchor),</span><br><span class="line">detailimageView.leadingAnchor.constraint(equalTo: scrollView.leadingAnchor),</span><br><span class="line">detailimageView.trailingAnchor.constraint(equalTo: scrollView.trailingAnchor),</span><br><span class="line">detailimageView.widthAnchor.constraint(equalToConstant: <span class="type">UIScreen</span>.main.bounds.width),</span><br><span class="line">detailimageView.heightAnchor.constraint(equalToConstant: <span class="number">480</span>),</span><br></pre></td></tr></table></figure><p>3-1. scrollView.topAnchor를 constant : -90으로 잡은 이유는 **    view.safeAreaLayoutGuide** 가 아니라 View의 범위로 하고 싶어 설정한거고, topAnchor를 (equalTo: view.topAnchor)로만 잡게 되면 top부분이 고정되어 스크롤이 안된당… 그래서 고정을 주면 안되기 때문에, 임의의 값인 -90으로만 살짝 잡은것…</p><p>3-2. scrollView의 레이아웃의 기본값을 view에 맞춰줬다면, 이제 자식뷰인 detailimageView설정이 중요해진다. top은 scrollView를 따라가고, 사실 widthAnchor가 애매한 부분인데(기기마다 크기 다르니까…), **(UIScreen.main.bounds.width)**로 아예 view가 아닌 스크린 값으로 잡아버린다.<br>3-3. heightAnchor를 잡은이유는 이미지의 값이 고정값이고, 그 위로 Lable이 가득한 뷰를 이어나가야하기 때문…</p><p>그러면 가장 중요한. 유동값인 bottomAnchor는 어떻게 잡아야할까?</p><p>방법은 간단하다.</p><p>구현 이미지를 보면, 스크롤 뷰 맨 마지막에 올 컨텐츠는 “브랜드 더보기 &gt;” 버튼이다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  viewsButton.topAnchor.constraint(equalTo: comentLable3.bottomAnchor, constant: <span class="number">40</span>),</span><br><span class="line">  viewsButton.widthAnchor.constraint(equalToConstant: <span class="number">150</span>),</span><br><span class="line">  viewsButton.trailingAnchor.constraint(equalTo: detailView.trailingAnchor, constant: -<span class="number">23</span>),</span><br><span class="line">  viewsButton.bottomAnchor.constraint(equalTo: scrollView.bottomAnchor, constant: -<span class="number">20</span>),</span><br><span class="line">])</span><br></pre></td></tr></table></figure><p>3-4. 이런식으로 스크롤 마지막에올 viewsButton의 레이아웃을 <strong>scrollView.bottomAnchor</strong>으로 잡으면 된다.<br>3-4. detailView는 UIView고 그림 상의 흰영역부분 !(브랜드 설명?)</p><p><img src="/image/scroll5.png" alt="" class="φcx"></p><p>요 흰부분 !!!</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">detailView.topAnchor.constraint(equalTo: detailimageView.bottomAnchor, constant: -39),</span><br><span class="line">     detailView.leadingAnchor.constraint(equalTo: scrollView.leadingAnchor),</span><br><span class="line">     detailView.trailingAnchor.constraint(equalTo: scrollView.trailingAnchor),</span><br><span class="line">     detailView.bottomAnchor.constraint(equalTo: scrollView.bottomAnchor, constant: 20),</span><br><span class="line">     detailView.heightAnchor.constraint(equalToConstant: 830),</span><br></pre></td></tr></table></figure><p>이해를 돕기위해 detailView의 코드 올린다.</p><p>이해해보니 참 쉽다!!!</p><h1 id="scrollview-지정-장소에서-멈추기">ScrollView 지정 장소에서 멈추기<a title="#scrollview-지정-장소에서-멈추기" href="#scrollview-지정-장소에서-멈추기"></a></h1><p>위의 방법처럼 스크롤 범위를 해당 뷰의 heightAnchor로 조절가능하지만,<br>화면을 끝까지 당기는 경우 빈 화면이 조금 끌어당겨진다.<br>이것이 싫고 그냥 딱 원하는 만큼만 스크롤이 되었으면 좋겠다! 싶으면 아래를 이용하자</p><h2 id="1.self-선언">1.self 선언<a title="#1.self-선언" href="#1.self-선언"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scrollView.delegate = <span class="keyword">self</span></span><br></pre></td></tr></table></figure><h2 id="2.-extension(uiscrollviewdelegate)">2. extension(UIScrollViewDelegate)<a title="#2.-extension(uiscrollviewdelegate)" href="#2.-extension(uiscrollviewdelegate)"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">DetaileDescriotionViewController</span>: <span class="title">UIScrollViewDelegate</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">scrollViewDidScroll</span><span class="params">(<span class="number">_</span> scrollView: UIScrollView)</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> scrollView.contentOffset.y &gt; <span class="number">450</span> &#123;</span><br><span class="line">      scrollView.contentOffset.y = <span class="number">450</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">print</span>(scrollView.contentOffset.y)</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2-1. scrollView.contentOffset.y &gt; 450  값이 450 이상이면,<br>scrollView.contentOffset.y = 450을 450으로 지정하겠다는 뜻이다.<br>2-2. <strong>print(scrollView.contentOffset.y)</strong> 는 스크롤 되었을 때, contentOffset의 y좌표를 알려준다. 그 값에 따라 적당한 값으로 설정 가능!!</p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> UIScrollView </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]NavigationBar 생략</title>
      <link href="2020/07/20/Swift-%EB%84%A4%EC%9D%B4%EB%B2%A0%EC%9D%B4%EC%85%98-%EB%B0%94-%EC%83%9D%EB%9E%B5/"/>
      <url>2020/07/20/Swift-%EB%84%A4%EC%9D%B4%EB%B2%A0%EC%9D%B4%EC%85%98-%EB%B0%94-%EC%83%9D%EB%9E%B5/</url>
      
        <content type="html"><![CDATA[<p>네비게이션 바 디자인 생략할 때<br>자주 쓰는 코드다.</p><p>보통 히든으로 생각하는 것 같은데? 실선이 남는 듯하다…</p><p>이야기를 들어보면…</p><p>그런데 나는 전부터 아래코드로 써와서 ㅋㅋㅋㅋㅋㅋㅋ</p><p>다들 이 코드 보면 신박하다고 한다 ㅋㅋㅋㅋㅋㅋㅋ</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">navigationBarLess</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="comment">//네비게이션바 디자인 생략</span></span><br><span class="line">  navigationController?.navigationBar.setBackgroundImage(<span class="type">UIImage</span>(), <span class="keyword">for</span>: .<span class="keyword">default</span>)</span><br><span class="line">  navigationController?.navigationBar.shadowImage = <span class="type">UIImage</span>()</span><br><span class="line">  navigationController?.navigationBar.backgroundColor = <span class="type">UIColor</span>.clear</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>navigationBar의 setBackgroundImage로는 보통 접근안하니까…</p><p>현업에서는 어떻게 쓰일지 잘 모르겠다.</p><p>어쨌든,</p><p>navigationBar는 기본 흰색이 제공되고 color역시 커스텀 가능하지만…<br>clear로 적용만 적용하면 실선이 보이게 된다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">navigationController?.navigationBar.setBackgroundImage(<span class="type">UIImage</span>(), <span class="keyword">for</span>: .<span class="keyword">default</span>)</span><br><span class="line">navigationController?.navigationBar.shadowImage = <span class="type">UIImage</span>()</span><br></pre></td></tr></table></figure><p>이 코드가 실선을 없애고</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">navigationController?.navigationBar.backgroundColor = <span class="type">UIColor</span>.clear</span><br></pre></td></tr></table></figure><p>이것은 color를 투명으로 주겠다는 뜻.</p><p>그러면 navigartionBar 영역이 해당 view의 background color를 따라가게 된다.</p><p><img src="image/naviless2.png" alt="" class="φcx"></p><p>이미지가 있다면 이미지를 그대로 보여준다. 스크롤해도 문제없음 !!</p><p>아래의 링크를 보면 히든으로 주는 방법 , 실선없애기, 바아이템 색면경, 타이틀 색변경에 대한 내용이 있다 . 참고해보아도 좋을 듯.</p><p><a href="https://zeddios.tistory.com/574" target="_blank">[dd]</a></p><p>아마 보통은 히든~실선없애기를 사용하거나, 애초에 통일감있게 모든 vc에대해 네비바 설정을 지정하는 방법도 있는 것 같다</p><p>달리해야할때는 fales를 줘야하는 방식으로…</p><p>공부해야지</p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> NavigationBar </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[라이브러리]Kingfisher로 gif이미지 삽입</title>
      <link href="2020/07/20/Swift-Kingfisher/"/>
      <url>2020/07/20/Swift-Kingfisher/</url>
      
        <content type="html"><![CDATA[<p>Kingfisher 라이브러리를 이용하여 gif이미지를 삽입해보자 !</p><h3 id="삽입할-gif-파일"><strong>삽입할 gif 파일</strong><a title="#삽입할-gif-파일" href="#삽입할-gif-파일"></a></h3><p><img src="/image/PET.gif" alt="" class="φcx"></p><h2 id="1.-swiftpackagemanager-에-kingfisher불러오기"><strong>1. SwiftPackageManager 에 Kingfisher불러오기</strong><a title="#1.-swiftpackagemanager-에-kingfisher불러오기" href="#1.-swiftpackagemanager-에-kingfisher불러오기"></a></h2><p><img src="/image/king2.png" alt="" class="φcx"></p><h2 id="2.-gif파일을-프로젝트-안에-넣는다"><strong>2. gif파일을 프로젝트 안에 넣는다</strong><a title="#2.-gif파일을-프로젝트-안에-넣는다" href="#2.-gif파일을-프로젝트-안에-넣는다"></a></h2><p><img src="/image/king1.png" alt="" class="φcx"></p><p>에셋에 넣으면 안된다!!</p><h2 id="3.-code"><strong>3. code</strong><a title="#3.-code" href="#3.-code"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Kingfisher</span><br></pre></td></tr></table></figure><p>3-1. 임포트 !</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//MARK: -kf</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidAppear</span><span class="params">(<span class="number">_</span> animated: Bool)</span></span> &#123;</span><br><span class="line">  <span class="keyword">super</span>.viewDidAppear(<span class="literal">true</span>)</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="keyword">self</span>.guideimage.kf.indicatorType = .activity</span><br><span class="line">  <span class="keyword">let</span> gifs = [<span class="string">"https://qussk.github.io/image/PET.gif"</span>]</span><br><span class="line">  <span class="keyword">self</span>.guideimage.kf.setImage(with: <span class="type">URL</span>(string: gifs[<span class="number">0</span>])!)</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3-2. 화면 켤때마다 동작되길 원해서 viewDidAppear에 넣어준다.</p><h3 id="여러개-넣고-싶을-경우-아래의-코드를-참고한다.">여러개 넣고 싶을 경우 아래의 코드를 참고한다.<a title="#여러개-넣고-싶을-경우-아래의-코드를-참고한다." href="#여러개-넣고-싶을-경우-아래의-코드를-참고한다."></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">let</span> gifs = [<span class="string">"https://qussk.github.io/image/PET.gif"</span>, <span class="string">"https://~~~~"</span>]</span><br><span class="line"><span class="keyword">self</span>.guideimage.kf.setImage(with: <span class="type">URL</span>(string: gifs[<span class="number">0</span>])!)</span><br><span class="line"><span class="keyword">self</span>.guideimage.kf.setImage(with: <span class="type">URL</span>(string: gifs[<span class="number">1</span>])!)</span><br></pre></td></tr></table></figure><h2 id="완성"><strong>완성</strong><a title="#완성" href="#완성"></a></h2><p><a href="https://youtu.be/QOBeANP6unI" target="_blank"><strong>[완성영상보기]</strong></a></p><p>귀엽게 잘들어갔따.</p><p><s>만약, gif가 아닌 mp4파일을 넣게 되면 아래 처럼 된다…</s></p><p><a href="https://youtu.be/1_2gnypJcH0" target="_blank"><strong>[mp4영상보기]</strong></a></p><p>gif로 변환해서 넣은 이유…</p><p>-.-;;;  매우 당황…</p>]]></content>
      
      
      <categories>
          
          <category> Library </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Kingfisher </tag>
            
            <tag> gif </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[기타]gifs</title>
      <link href="2020/07/19/%EA%B8%B0%ED%83%80-gifs/"/>
      <url>2020/07/19/%EA%B8%B0%ED%83%80-gifs/</url>
      
        <content type="html"><![CDATA[<h2 id="angel">angel<a title="#angel" href="#angel"></a></h2><p><img src="image/PET.gif" alt="" class="φcx"></p><h2 id="yogiyo_clone">Yogiyo_clone<a title="#yogiyo_clone" href="#yogiyo_clone"></a></h2><p><img src="image/gif/yogi1.gif" alt="" class="φcx"></p><p><img src="image/gif/yogi2.gif" alt="" class="φcx"></p><p><img src="image/gif/yogi3.gif" alt="" class="φcx"></p><p><img src="image/gif/yogi4.gif" alt="" class="φcx"></p><p><img src="image/gif/yogi5.gif" alt="" class="φcx"></p><p><img src="image/gif/yogi6.gif" alt="" class="φcx"></p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> gif </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swfit] UITextfield의 모든 것(모음)</title>
      <link href="2020/07/17/Swfit-UITextfield%EC%9D%98-%EB%AA%A8%EB%93%A0-%EA%B2%83-%EB%AA%A8%EC%9D%8C/"/>
      <url>2020/07/17/Swfit-UITextfield%EC%9D%98-%EB%AA%A8%EB%93%A0-%EA%B2%83-%EB%AA%A8%EC%9D%8C/</url>
      
        <content type="html"><![CDATA[<h1 id="textfield">Textfield<a title="#textfield" href="#textfield"></a></h1><p><strong>placeholder</strong> == hint<br><strong>clearButton</strong> : text 적은 것 지워줄 것인지 선택하는 부분<br><strong>clear when editing begins</strong> : 누를때 마다 지워짐.<br><strong>Min Font Size</strong> : 일정량 이상 text 늘어날 경우 정해진 크기만큼 text 작아짐<br><strong>Keyboard Type</strong>: 키보드 타입 설정(emial.number…)<br><strong>Secure Text Entry</strong> : Password 타입<br><strong>placeholder</strong> : 내부의 안내 문구</p><h1 id="uikeyboardtype-종류">UIKeyboardType 종류<a title="#uikeyboardtype-종류" href="#uikeyboardtype-종류"></a></h1><ul><li>UIKeyboardTypeDefault :  기본적인 키보드</li><li>UIKeyboardTypeASCIICapable : 영문만 표시</li><li>UIKeyboardTypeNumbersAndPunctuation : 숫자 + 특수문자</li><li>UIKeyboardTypeURL : URL입력할 수있도록 .과 .com이 기본으로 추가됨</li><li>UIKeyboardTypeNumberPad : 숫자만 입력</li><li>UIKeyboardTypePhonePad : 전화번호를 입력</li><li>UIKeyboardTypeNamePhonePad : 대문자를 지원하지 않는 키보드</li><li>UIKeyboardTypeEmailAddress : 이메일주소를 입력할 수 있도록 @와 .이 기본으로 추가됨</li><li>UIKeyboardTypeDecimalPad : 소숫점 입력할 수 있도록 지원</li><li>UIKeyboardTypeTwitter : 트위터 입력을 빠르게 도와주도록 @,#지원</li><li>UIKeyboardTypeWebSearch : URL 및 검색어 입력에 최적화되도록 공백 및 .지원</li><li>UIKeyboardTypeAlphabet : =UIKeyboardTypeASCIICapable. 더이상 지원하지 않음.</li></ul><h1 id="sent-events">Sent Events<a title="#sent-events" href="#sent-events"></a></h1><p><img src="image/textfield0.png" alt="" class="φcx"></p><p>예시 그림</p><p><strong>textFieldEditingDidBegin</strong> : 텍스트 필드 터치했을 때.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">textFieldEditingDidBegin</span><span class="params">(<span class="number">_</span> sender: UITextField)</span></span>&#123;</span><br><span class="line">       <span class="built_in">print</span>(<span class="string">"textFieldEditingDidBegin"</span>) </span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p><strong>textFieldEditingChanged</strong> : 어떤 값 변경될 때마다. (실시간으로)</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">textFieldEditingChanged</span><span class="params">(<span class="number">_</span> sender: UITextField)</span></span> &#123;</span><br><span class="line">       <span class="built_in">print</span>(sender.text ?? <span class="string">""</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>textFieldDidEndExit</strong> : textField 선택해제</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">textFieldDidEndExit</span><span class="params">(<span class="number">_</span> sender: Anu)</span></span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>textFieldPrimaryActionTriggerd</strong> :<br>enter 눌렀을 때 호출, 입력 값 잘못됬을 때 다시 입력하는 행위등에서 사용</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">txtFPrimaryActionTriggerd</span><span class="params">(<span class="number">_</span> sender: UITextField)</span></span>&#123;</span><br><span class="line"> <span class="keyword">if</span> <span class="literal">true</span>&#123;</span><br><span class="line">        sender.resignFirstResponder()<span class="comment">//키보드 행위에서사용</span></span><br><span class="line">  &#125;</span><br><span class="line"> <span class="built_in">print</span>(<span class="string">"PrimaryActionTriggerd"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>textFieldDidEndOnExit</strong> :  return 호출시 이 설정이 되어있으면 return시 무조건 내려감</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">txtFDidOnExit</span><span class="params">(<span class="number">_</span> sender: <span class="keyword">Any</span>)</span></span>&#123;</span><br><span class="line"> <span class="built_in">print</span>(<span class="string">"DidEndOnExit"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>여러개의 textField가 위같은 것들 하나에 여러개 연결 가능하다.</p><p><strong>idTextField.becomeFirstResponder()</strong> : idTextField가 첫번째 포커스 이자, 키보드 바 로 떠서 입력받음</p><p><strong>resignFirstResponder()</strong></p><p>키보드 내리거나 못내리게 하는 상황에서 사용.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> sender.text!.<span class="built_in">count</span> &gt; <span class="number">6</span>&#123;</span><br><span class="line">  sender.resignFirstResponer()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">view.endEditing(<span class="literal">true</span>)</span><br></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">textFieldEditingChanged</span><span class="params">(<span class="number">_</span> sender: UITextField)</span></span>&#123;</span><br><span class="line"> <span class="keyword">if</span> sender == idTextField&#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"> <span class="built_in">print</span>(sender.text ?? <span class="string">""</span>)</span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> sender.text!.<span class="built_in">count</span> &gt; <span class="number">6</span>&#123;</span><br><span class="line">  sender.resignFirstResponder()</span><br><span class="line"> &#125;</span><br><span class="line"> view.endEditing(<span class="literal">true</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="uitextfielddelegate">UITextFieldDelegate<a title="#uitextfielddelegate" href="#uitextfielddelegate"></a></h1><h2 id="글자수-제한하기">글자수 제한하기<a title="#글자수-제한하기" href="#글자수-제한하기"></a></h2><ul><li><strong>shouldChangeCharactersIn()</strong></li></ul><p><a href="https://qussk.github.io/2020/05/21/Swift-TextField-%EA%B8%80%EC%9E%90%EC%88%98-%EC%A0%9C%ED%95%9C%ED%95%98%EA%B8%B0" target="_blank">https://qussk.github.io/2020/05/21/Swift-TextField</a></p><h2 id="밑줄-긋기">밑줄 긋기<a title="#밑줄-긋기" href="#밑줄-긋기"></a></h2><ul><li><strong>borderStyle을 .non으로 지정하고 CALayer를 적용하는 방식</strong></li></ul><p><a href="https://qussk.github.io/2020/05/21/Swift-textField%EC%97%90-%EB%B0%91%EC%A4%84-%EA%B8%8B%EA%B8%B0" target="_blank">https://qussk.github.io/2020/05/21/Swift-textField</a></p><h2 id="textfield-가려짐-문제해결">Textfield 가려짐 문제해결<a title="#textfield-가려짐-문제해결" href="#textfield-가려짐-문제해결"></a></h2><p><a href="https://qussk.github.io/2020/05/19/Swift-TextField-%ED%82%A4%EB%B3%B4%EB%93%9C%EC%97%90-%EA%B0%80%EB%A0%A4%EC%A7%90-%EB%AC%B8%EC%A0%9C%ED%95%B4%EA%B2%B0" target="_blank">https://qussk.github.io/2020/05/19/Swift</a></p><h2 id="화면-터치시-키보드내리기,-리턴시-커서이동">화면 터치시 키보드내리기, 리턴시 커서이동<a title="#화면-터치시-키보드내리기,-리턴시-커서이동" href="#화면-터치시-키보드내리기,-리턴시-커서이동"></a></h2><p><a href="https://qussk.github.io/2020/08/09/Swift-Textfield-%ED%84%B0%EC%B9%98%EC%8B%9C-%ED%82%A4%EB%B3%B4%EB%93%9C%EB%82%B4%EB%A6%AC%EA%B8%B0-%EB%A6%AC%ED%84%B4%EC%8B%9C-%EC%BB%A4%EC%84%9C%EC%9D%B4%EB%8F%99" target="_blank">https://qussk.github.io/2020/08/09/Swift-Textfield</a></p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Textfield </tag>
            
            <tag> Swift </tag>
            
            <tag> UIKeyboardType </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]navigationBar title 변경(다양한 문제들)</title>
      <link href="2020/07/15/Swift-navigationBar-title-%EB%B3%80%EA%B2%BD-%EB%8B%A4%EC%96%91%ED%95%9C-%EB%AC%B8%EC%A0%9C%EB%93%A4/"/>
      <url>2020/07/15/Swift-navigationBar-title-%EB%B3%80%EA%B2%BD-%EB%8B%A4%EC%96%91%ED%95%9C-%EB%AC%B8%EC%A0%9C%EB%93%A4/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]상업용 UIFont변경</title>
      <link href="2020/07/15/Swift-%EC%83%81%EC%97%85%EC%9A%A9-Font%EB%B3%80%EA%B2%BD/"/>
      <url>2020/07/15/Swift-%EC%83%81%EC%97%85%EC%9A%A9-Font%EB%B3%80%EA%B2%BD/</url>
      
        <content type="html"><![CDATA[<p><img src="/image/font1.png" alt="" class="φcx"></p><p><img src="/image/font4.png" alt="" class="φcx"></p><p><img src="/image/font3.png" alt="" class="φcx"></p><p><img src="/image/font2.png" alt="" class="φcx"></p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> UIFont </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]UISearchController ?? searchController : searchBar</title>
      <link href="2020/07/12/Swift-UISearchController/"/>
      <url>2020/07/12/Swift-UISearchController/</url>
      
        <content type="html"><![CDATA[<h2 id="navigationbar에-uisearchbar달기">navigationBar에 UISearchBar달기<a title="#navigationbar에-uisearchbar달기" href="#navigationbar에-uisearchbar달기"></a></h2><p><img src="/image/seach1.png" alt="" class="φcx"></p><p>위와 같은 그림처럼 navigationBar에 searchBar를 넣는 식으로 구현하고자 한다면 아래의 코드를 참고하자. (ios11부터 생긴듯?)</p><h3 id="선언">선언<a title="#선언" href="#선언"></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> searchBar = <span class="type">UISearchBar</span>()</span><br></pre></td></tr></table></figure><h3 id="코드">코드<a title="#코드" href="#코드"></a></h3><p><strong>navigationItem.titleView = searchBar</strong></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">navigationBar</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="comment">//BarItem</span></span><br><span class="line">   navigationItem.rightBarButtonItem = <span class="type">UIBarButtonItem</span>(barButtonSystemItem: .search, target: <span class="keyword">self</span>, action: #selector(seachButton))</span><br><span class="line">   navigationItem.rightBarButtonItem?.tintColor = .darkGray</span><br><span class="line">   </span><br><span class="line">   <span class="comment">//navi in searchBar</span></span><br><span class="line">   navigationItem.titleView = searchBar</span><br><span class="line">   </span><br><span class="line"> &#125;</span><br><span class="line"> <span class="meta">@objc</span> <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">seachButton</span><span class="params">(<span class="number">_</span> sender : UIButton)</span></span>&#123;</span><br><span class="line">   <span class="comment">//print("search", searchBar.text! as Any)</span></span><br><span class="line">   </span><br><span class="line">   searchBar.becomeFirstResponder()</span><br><span class="line">   </span><br><span class="line">   <span class="comment">//getAdress()</span></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h3 id="setui">setUI<a title="#setui" href="#setui"></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">searchBar.sizeToFit()</span><br></pre></td></tr></table></figure><ul><li><strong>navigationItem.titleView = seachBar</strong> 를 보면, navigationItem의 <strong>titleView</strong>에 searchBar를 넣는 것을 확인 할 수 있다.</li></ul><p>navigationBar에 seachBar를 고정으로 달아 놓는 경우가 많아 seachBar는 이정도만 알고 있었는데… 😹</p><p>!!</p><p>하필 아래의 그림 처럼 구현해야할 일이 닥쳤다…</p><p><img src="/image/seach4.png" alt="" class="φcx"></p><p>ㅎㅎ…</p><h2 id="uisearchbarcontroller-이용하여-navigationbar하단에-searchbar달기.-(witfh:-스크롤시-사라짐)">UISearchBarController 이용하여 navigationBar하단에 searchBar달기. (witfh: 스크롤시 사라짐)<a title="#uisearchbarcontroller-이용하여-navigationbar하단에-searchbar달기.-(witfh:-스크롤시-사라짐)" href="#uisearchbarcontroller-이용하여-navigationbar하단에-searchbar달기.-(witfh:-스크롤시-사라짐)"></a></h2><h3 id="선언-1">선언<a title="#선언-1" href="#선언-1"></a></h3><p><strong>UISearchController</strong></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> searchBarController = <span class="type">UISearchController</span>(searchResultsController: <span class="literal">nil</span>)</span><br></pre></td></tr></table></figure><ul><li>searchResultsController를 nil값으로 주면, UISearchController 초기화 시, searchcontroller에게 검색중인 동일한 뷰를 사용하여 결과를 표시하도록 지시한다.</li></ul><h3 id="코드-1">코드<a title="#코드-1" href="#코드-1"></a></h3><p><strong>searchController</strong></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">navigationBar</span><span class="params">()</span></span>&#123;</span><br><span class="line">       </span><br><span class="line">   navigationItem.rightBarButtonItem = <span class="type">UIBarButtonItem</span>(barButtonSystemItem: .search, target: <span class="keyword">self</span>, action: #selector(seachButton))</span><br><span class="line">   navigationItem.rightBarButtonItem?.tintColor = .darkGray</span><br><span class="line">   navigationItem.title = <span class="string">"Cafe Spot"</span></span><br><span class="line">   navigationItem.searchController = searchBarController</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="meta">@objc</span> <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">seachButton</span><span class="params">(<span class="number">_</span> sender : UIButton)</span></span>&#123;</span><br><span class="line"></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><ul><li>위의 titleView에 올린 것과 다르게, SearchController를 직접이용하여, navigationItem에 UISearchBarController를 불러왔다.</li><li>그런데 신기한 건, rightBarButtonItem(돋보기 모양버튼)과 navigationItem.title(타이틀)을 없애도, SearchController는 네비게이션바 아래에 달린 모습이었다… 훔… 몬가 씹어 삼킬줄 알았는데</li><li>그리고 스크롤에 따라 SearchBar가 알아서 사라지니 참고하도록 하자.</li><li>위에는 쓰이지 않았지만, UISearchController가 활성화되어있는 동안 다른 뷰 이동시 이동한 뷰에 searchBar가 화면에 남아있지 않도록 설정도 해주자.</li></ul><p><a href="https://devmjun.github.io/archive/SearchController" target="_blank">[참고링크]</a></p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> SeachBar </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]Json파일 가져오기(with: decoder)</title>
      <link href="2020/07/12/Swift-Json%ED%8C%8C%EC%9D%BC-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0-with-decoder/"/>
      <url>2020/07/12/Swift-Json%ED%8C%8C%EC%9D%BC-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0-with-decoder/</url>
      
        <content type="html"><![CDATA[<h2 id="json란?">JSON란?<a title="#json란?" href="#json란?"></a></h2><ul><li>name: Value의 형태의 쌍을 이루는 콜렉션 타입(Dictionary)</li><li>XML에 비해 기능이 적고 구조가 단순하여 파싱이 쉽고 빠르다.</li><li>적은 용량으로 저장가능</li><li>사람뿐 아니라, 기계가 분석하고 생성하는 것도 용이</li><li>contents type --&gt; application/json</li><li>기본 인코딩 UTF-8</li></ul><p><a href="https://github.com/Qussk/Swift-5/blob/master/JSON.md" target="_blank">JSON 깊게 이해하기</a></p><h2 id="json-실제">JSON 실제<a title="#json-실제" href="#json-실제"></a></h2><p><img src="/image/json1.png" alt="" class="φcx"></p><p>위의 json 형식 파일을 데이터로 불러오는 경우.</p><h3 id="1.구조체-만들기">1.구조체 만들기<a title="#1.구조체-만들기" href="#1.구조체-만들기"></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Cafe</span>: <span class="title">Decodable</span> </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> title: <span class="type">String</span></span><br><span class="line">  <span class="keyword">let</span> description: <span class="type">String</span></span><br><span class="line">  <span class="keyword">let</span> location: <span class="type">Location</span></span><br><span class="line">  <span class="keyword">let</span> isFavorite: <span class="type">Bool</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Location</span>: <span class="title">Decodable</span> </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> address: <span class="type">String</span></span><br><span class="line">  <span class="keyword">let</span> lat: <span class="type">Double</span></span><br><span class="line">  <span class="keyword">let</span> lng: <span class="type">Double</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>Key이름과 실제 사용할 Key이름이 다를 경우, CodingKey를 사용(enum:열거형) 하지만, 현재 key값이 동일하므로 Decode만 해줘도 된답.</li></ul><h3 id="2.-데이타-불러주기(해당-viewcontroller로-이동)">2. 데이타 불러주기(해당 ViewController로 이동)<a title="#2.-데이타-불러주기(해당-viewcontroller로-이동)" href="#2.-데이타-불러주기(해당-viewcontroller로-이동)"></a></h3><p><strong>Bundle이용하여 리소스 가져오기</strong></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> path = <span class="type">Bundle</span>.main.path(forResorce: <span class="string">"CafeList"</span>, ofType: <span class="string">"json"</span>)</span><br></pre></td></tr></table></figure><ul><li>리소스 : “CafeList”, 데이터 타입 : “json”</li></ul><p><strong>URL이용</strong></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> url = <span class="type">URL</span>(fileURLWithPath: path!)</span><br></pre></td></tr></table></figure><ul><li>새로만든 NSURL객체를 지정된 경로를 가진 파일 URL(let path)로 초기화하고 반환. (파일에서 바로 가져오므로 utf-8이용안함)</li></ul><p><strong>Data try!</strong></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">lazy</span> <span class="keyword">var</span> data = <span class="keyword">try</span>! <span class="type">Data</span>(contentsOf: url)</span><br></pre></td></tr></table></figure><p><strong>구조체 담을 변수선언 (타입: [Cafe], 값:빈배열)</strong></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> cageData : [<span class="type">Cafe</span>] = []</span><br></pre></td></tr></table></figure><h3 id="3.json가져오기">3.JSON가져오기<a title="#3.json가져오기" href="#3.json가져오기"></a></h3><p><strong>JSONDecoder</strong></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">super</span>.viewDidLoad()</span><br><span class="line"></span><br><span class="line">   <span class="keyword">if</span> <span class="keyword">let</span> json = <span class="keyword">try</span>? <span class="type">JSONDecoder</span>().decode([<span class="type">Cafe</span>].<span class="keyword">self</span>, from: data) &#123;</span><br><span class="line">     <span class="built_in">print</span>(json)</span><br><span class="line">     <span class="comment">//제이슨을 배열에 담아주기</span></span><br><span class="line">    cafeData.append(contentsOf: json)</span><br><span class="line">     </span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><ul><li>data로부터, [Cafe].self(배열) decode하기</li><li>데이터 못 가져온 경우,  do ~cashe 이용하여 print(error)로 애러사항 확인 가능.</li><li>성공했다면 아래와 같은 값이 디버깅에 확인됨<br><img src="image/json3.png" alt=""></li></ul><h3 id="4.-데이터-불러오기(셋팅?)">4. 데이터 불러오기(셋팅?)<a title="#4.-데이터-불러오기(셋팅?)" href="#4.-데이터-불러오기(셋팅?)"></a></h3><p><strong>CollectionViewCell</strong></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">configureCell</span><span class="params">(data: Cafe)</span></span> &#123;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> title = data.title</span><br><span class="line">  <span class="keyword">let</span> description = data.description</span><br><span class="line">  </span><br><span class="line">  cafeImageView.image = <span class="type">UIImage</span>(named: title)</span><br><span class="line">  cafeTitle.text = title</span><br><span class="line">  cafeComent.text = description</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>data는 cafe라는 (타입/값)을 가진 Key임</li></ul><p><strong>CollectionViewDataSource</strong></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cell.configureCell(data: cafeData[indexPath.item])</span><br></pre></td></tr></table></figure><ul><li>cellForItemAt에 CollectionViewCell에서 만들어준 configureCell 값 붙이기.</li></ul><h2 id="결과">결과<a title="#결과" href="#결과"></a></h2><p><img src="/image/json2.png" alt="" class="φcx"></p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> JSON </tag>
            
            <tag> Bundle </tag>
            
            <tag> Path </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]UIView에 shadow주기</title>
      <link href="2020/07/10/Swift-UIView%EC%97%90-shadow%EC%A3%BC%EA%B8%B0/"/>
      <url>2020/07/10/Swift-UIView%EC%97%90-shadow%EC%A3%BC%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<p>shadowColor에 black을 주는 것으로 시작 ~ !</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">self</span>.containView.layer.shadowColor = <span class="type">UIColor</span>.black.cgColor <span class="comment">// 검정색</span></span><br><span class="line">   <span class="keyword">self</span>.containView.layer.masksToBounds = <span class="literal">false</span></span><br><span class="line">   <span class="keyword">self</span>.containView.layer.shadowOffset = <span class="type">CGSize</span>(width: <span class="number">0</span>, height: <span class="number">4</span>) <span class="comment">// 그림자 시작위치</span></span><br><span class="line">   <span class="keyword">self</span>.containView.layer.shadowRadius = <span class="number">8</span> <span class="comment">// 그림자크기(범위)</span></span><br><span class="line">   <span class="keyword">self</span>.containView.layer.shadowOpacity = <span class="number">0.3</span> <span class="comment">//그림자 불투명도 [1이 기준 - 완전 불투명]</span></span><br></pre></td></tr></table></figure><ul><li>shadowPath 를 이용하면 그림자의 크기와 방향을 한꺼번에 잡을 수 있다. (베젤크기?)</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">view.layer.shadowPath = <span class="type">UIBezierPath</span>(rest: <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="number">10</span>, height: view.bounds.height)).cgPath</span><br></pre></td></tr></table></figure><ul><li>그림자를 사용하면 자원이 많이 드는 일? 이라고 한다. 그래서 그림자를 캐시에 저장해서 재활용하는 방법도 있다.</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">view.layer.shouldRasterize = <span class="literal">true</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> Shadow </tag>
            
            <tag> UIView </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[라이브러리]SnapKit으로 오토레이아웃 잡기</title>
      <link href="2020/07/10/%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-SnapKit%EC%9C%BC%EB%A1%9C-%EC%98%A4%ED%86%A0%EB%A0%88%EC%9D%B4%EC%95%84%EC%9B%83-%EC%9E%A1%EA%B8%B0/"/>
      <url>2020/07/10/%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-SnapKit%EC%9C%BC%EB%A1%9C-%EC%98%A4%ED%86%A0%EB%A0%88%EC%9D%B4%EC%95%84%EC%9B%83-%EC%9E%A1%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<h3 id="snapkit-링크">SnapKit 링크<a title="#snapkit-링크" href="#snapkit-링크"></a></h3><p><a href="https://cocoapods.org/pods/SnapKit" target="_blank"></a></p><h2 id="snapkit-사용">SnapKit 사용<a title="#snapkit-사용" href="#snapkit-사용"></a></h2><p><strong>[snapKit]</strong></p><ul><li>makeConstraints - 최초 제약설정</li><li>updateConstraint -이미 설정한 특정 값을 다른 것으로 바꿀 때</li><li>remakeConstraints - 기존의 연결을 모두 제거하고 완전히 새로 설정</li></ul><p>아래 코드는 makeConstraints를 바탕으로 짰다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//snp - 스냅킷</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">makeConstraints</span><span class="params">()</span></span> &#123;<span class="comment">//makeConstraints오토레이아웃을 잡겠다.</span></span><br><span class="line">    squareView.snp.makeConstraints &#123;</span><br><span class="line">    $<span class="number">0</span>.centerX.equalToSuperview()</span><br><span class="line">    $<span class="number">0</span>.centerY.equalToSuperview().offset(<span class="number">40</span>)</span><br><span class="line">    $<span class="number">0</span>.width.equalToSuperview().multipliedBy(<span class="number">0.7</span>)</span><br><span class="line">    $<span class="number">0</span>.height.equalToSuperview().multipliedBy(<span class="number">0.4</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  topView.snp.makeConstraints&#123;</span><br><span class="line">    $<span class="number">0</span>.leading.trailing.top.equalToSuperview().inset(<span class="number">20</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  bottomView.snp.makeConstraints&#123;</span><br><span class="line">    $<span class="number">0</span>.top.equalTo(topView.snp.bottom)</span><br><span class="line">    $<span class="number">0</span>.height.equalTo(topView)</span><br><span class="line">    $<span class="number">0</span>.leading.bottom.trailing.equalToSuperview().inset(<span class="number">20</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  topLabel.snp.makeConstraints&#123;</span><br><span class="line">    $<span class="number">0</span>.edges.equalToSuperview()</span><br><span class="line">  &#125;</span><br><span class="line">  bottomLabel.snp.makeConstraints&#123;</span><br><span class="line">  <span class="comment">//  $0.width.height.equalTo(topLabel) 아래와 동일</span></span><br><span class="line">    $<span class="number">0</span>.size.equalTo(topLabel)</span><br><span class="line">    $<span class="number">0</span>.leading.bottom.equalToSuperview()</span><br><span class="line">  &#125;</span><br><span class="line">  bottomCircleView.snp.makeConstraints&#123;</span><br><span class="line">    $<span class="number">0</span>.top.equalTo(squareView.snp.bottom)</span><br><span class="line">    $<span class="number">0</span>.centerX.equalTo(squareView)</span><br><span class="line">    $<span class="number">0</span>.width.height.equalTo(squareView.snp.width).dividedBy(<span class="number">2</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/image/snapkit1.png" alt="" class="φcx"></p><h2 id="snapkit을-이용하여-로그인화면-만들기">SnapKit을 이용하여 로그인화면 만들기<a title="#snapkit을-이용하여-로그인화면-만들기" href="#snapkit을-이용하여-로그인화면-만들기"></a></h2><p><img src="/image/snapkit.png" alt="" class="φcx"></p><p>위 화면을 만들어보자 !!</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"><span class="keyword">import</span> SnapKit</span><br><span class="line"></span><br><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">FloatingLabelViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> containView = <span class="type">UIView</span>()</span><br><span class="line">  <span class="keyword">let</span> idTextfield = <span class="type">UITextField</span>()</span><br><span class="line">  <span class="keyword">let</span> pwTextfield = <span class="type">UITextField</span>()</span><br><span class="line">  <span class="keyword">let</span> loginButton = <span class="type">UIButton</span>()</span><br><span class="line">  <span class="keyword">let</span> signUpButton = <span class="type">UIButton</span>()</span><br><span class="line">  <span class="keyword">let</span> naverUpButton = <span class="type">UIButton</span>()</span><br><span class="line">  <span class="keyword">let</span> naverLogoImage = <span class="type">UIImageView</span>()</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line"> </span><br><span class="line">    setupView()</span><br><span class="line">    makeConstraints()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidAppear</span><span class="params">(<span class="number">_</span> animated: Bool)</span></span> &#123;</span><br><span class="line">    containView.alpha = <span class="number">0</span></span><br><span class="line">    viewAni()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">setupView</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    containView.backgroundColor = .white</span><br><span class="line">    view.addSubview(containView)</span><br><span class="line">    </span><br><span class="line">    idTextfield.backgroundColor = .white</span><br><span class="line">    idTextfield.placeholder</span><br><span class="line">      = <span class="string">"아이디를 입력해주세요."</span></span><br><span class="line">    containView.addSubview(idTextfield)</span><br><span class="line">    </span><br><span class="line">    pwTextfield.backgroundColor = .white</span><br><span class="line">    pwTextfield.isSecureTextEntry = <span class="literal">true</span></span><br><span class="line">    pwTextfield.placeholder</span><br><span class="line">    = <span class="string">"비밀번호를 입력해주세요."</span></span><br><span class="line">    containView.addSubview(pwTextfield)</span><br><span class="line">    </span><br><span class="line">    loginButton.backgroundColor = .systemGray</span><br><span class="line">    loginButton.setTitle(<span class="string">"로그인"</span>, <span class="keyword">for</span>: .normal)</span><br><span class="line">    loginButton.setTitleColor(.white, <span class="keyword">for</span>: .normal)</span><br><span class="line">    <span class="comment">//loginButton.layer.cornerRadius = 8</span></span><br><span class="line">    containView.addSubview(loginButton)</span><br><span class="line">    </span><br><span class="line">    signUpButton.backgroundColor = .systemBlue</span><br><span class="line">    signUpButton.setTitle(<span class="string">"회원가입"</span>, <span class="keyword">for</span>: .normal)</span><br><span class="line">    signUpButton.setTitleColor(.white, <span class="keyword">for</span>: .normal)</span><br><span class="line">    containView.addSubview(signUpButton)</span><br><span class="line">    </span><br><span class="line">    naverUpButton.backgroundColor = .systemGreen</span><br><span class="line">    naverUpButton.setTitle(<span class="string">"네이버 로그인"</span>, <span class="keyword">for</span>: .normal)</span><br><span class="line">    naverUpButton.setTitleColor(.white, <span class="keyword">for</span>: .normal)</span><br><span class="line">    containView.addSubview(naverUpButton)</span><br><span class="line">    </span><br><span class="line">    naverLogoImage.image = <span class="type">UIImage</span>(named: <span class="string">"naver"</span>)</span><br><span class="line">    containView.addSubview(naverLogoImage)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">self</span>.containView.layer.shadowColor = <span class="type">UIColor</span>.black.cgColor <span class="comment">// 검정색 사용</span></span><br><span class="line">    <span class="keyword">self</span>.containView.layer.masksToBounds = <span class="literal">false</span></span><br><span class="line">    <span class="keyword">self</span>.containView.layer.shadowOffset = <span class="type">CGSize</span>(width: <span class="number">0</span>, height: <span class="number">4</span>) <span class="comment">// 반경에 대해서 너무 적용이 되어서 4point 정도 내림.</span></span><br><span class="line">    <span class="keyword">self</span>.containView.layer.shadowRadius = <span class="number">8</span> <span class="comment">// 반경?</span></span><br><span class="line">    <span class="keyword">self</span>.containView.layer.shadowOpacity = <span class="number">0.3</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">makeConstraints</span><span class="params">()</span></span>&#123;</span><br><span class="line">    containView.snp.makeConstraints&#123;</span><br><span class="line">      $<span class="number">0</span>.centerX.equalToSuperview()</span><br><span class="line">      $<span class="number">0</span>.centerY.equalToSuperview()</span><br><span class="line">      $<span class="number">0</span>.width.equalToSuperview().multipliedBy(<span class="number">0.9</span>)</span><br><span class="line">      $<span class="number">0</span>.height.equalToSuperview().multipliedBy(<span class="number">0.3</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    idTextfield.snp.makeConstraints&#123;</span><br><span class="line">      $<span class="number">0</span>.leading.top.equalToSuperview().inset(<span class="number">20</span>)</span><br><span class="line">      $<span class="number">0</span>.bottom.equalTo(pwTextfield.snp.top).inset(-<span class="number">10</span>)</span><br><span class="line">      $<span class="number">0</span>.trailing.equalToSuperview().inset(<span class="number">100</span>)</span><br><span class="line">      $<span class="number">0</span>.height.equalTo(pwTextfield.snp.height)</span><br><span class="line">    &#125;</span><br><span class="line">    loginButton.snp.makeConstraints&#123;</span><br><span class="line">      $<span class="number">0</span>.leading.equalTo(idTextfield.snp.trailing).inset(-<span class="number">10</span>)</span><br><span class="line">      $<span class="number">0</span>.top.trailing.equalToSuperview().inset(<span class="number">20</span>)</span><br><span class="line">      $<span class="number">0</span>.bottom.equalTo(signUpButton.snp.top).inset(-<span class="number">10</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    pwTextfield.snp.makeConstraints&#123;</span><br><span class="line">      $<span class="number">0</span>.top.equalTo(idTextfield.snp.bottom).inset(-<span class="number">8</span>)</span><br><span class="line">      $<span class="number">0</span>.leading.equalToSuperview().inset(<span class="number">20</span>)</span><br><span class="line">      $<span class="number">0</span>.bottom.equalTo(signUpButton.snp.top).inset(-<span class="number">10</span>)</span><br><span class="line">      $<span class="number">0</span>.trailing.equalToSuperview().inset(<span class="number">100</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    signUpButton.snp.makeConstraints&#123;</span><br><span class="line">      $<span class="number">0</span>.top.equalTo(pwTextfield.snp.bottom).inset(-<span class="number">10</span>)</span><br><span class="line">      $<span class="number">0</span>.leading.trailing.equalToSuperview().inset(<span class="number">20</span>)</span><br><span class="line">      $<span class="number">0</span>.height.equalToSuperview().multipliedBy(<span class="number">0.2</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    naverUpButton.snp.makeConstraints&#123;</span><br><span class="line">      $<span class="number">0</span>.top.equalTo(signUpButton.snp.bottom).inset(-<span class="number">10</span>)</span><br><span class="line">      $<span class="number">0</span>.leading.trailing.equalToSuperview().inset(<span class="number">20</span>)</span><br><span class="line">      $<span class="number">0</span>.height.equalToSuperview().multipliedBy(<span class="number">0.2</span>)</span><br><span class="line">      $<span class="number">0</span>.bottom.equalToSuperview().inset(<span class="number">20</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    naverLogoImage.snp.makeConstraints&#123;</span><br><span class="line">      $<span class="number">0</span>.top.bottom.equalTo(naverUpButton).inset(<span class="number">10</span>)</span><br><span class="line">      $<span class="number">0</span>.leading.equalTo(naverUpButton.snp.leading).inset(<span class="number">40</span>)</span><br><span class="line">      $<span class="number">0</span>.trailing.equalTo(naverUpButton.snp.trailing).inset(<span class="number">225</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">viewAni</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">UIView</span>.animate(withDuration: <span class="number">1</span>)&#123;</span><br><span class="line">      <span class="keyword">self</span>.containView.alpha = <span class="number">1</span></span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>viewDidAppear에 alpha 값을 주어 좀더 있어 보이게 했다. ㅋ</li></ul><p>아래 링크 확인</p><p><a href="https://youtu.be/ML0afiexlTQ" target="_blank">[동영상보기]</a></p><p>😸</p>]]></content>
      
      
      <categories>
          
          <category> Library </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> 라이브러리 </tag>
            
            <tag> SnapKit </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]Text 줄바꿈(n,t,r)</title>
      <link href="2020/07/08/Swift-Text-%EC%A4%84%EB%B0%94%EA%BF%88-n-t-r/"/>
      <url>2020/07/08/Swift-Text-%EC%A4%84%EB%B0%94%EA%BF%88-n-t-r/</url>
      
        <content type="html"><![CDATA[<p>TextView, Lable등을 이용하면서, 줄바꿈이 필요할 때…</p><p>제어문자인 \n, \t, \r을 활용하면 된다.</p><p><strong>\n</strong> : 줄바꿈 문자(다음 줄 처음으로 이동)<br><strong>\t</strong> : 탭(제일 뒤로 가서 탭)<br><strong>\r</strong> : 커서를 그 줄의 맨 앞으로 이동시킴</p><ul><li>\n과 \r은 거의 구분이 없다.</li></ul><p>어쨌든, 제어 문자를 활용하게 되면?</p><p><img src="/image/ntr1.png" alt="" class="φcx"></p><p>이런 식으로 줄바꿈이 가능해져서 text가 예쁘게 정렬된 모습을 볼 수 있다.</p><h3 id="data-코드">Data 코드<a title="#data-코드" href="#data-코드"></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="comment">//StartViewController</span></span><br><span class="line"><span class="keyword">var</span> images = [<span class="string">"1"</span>,<span class="string">"2"</span>,<span class="string">"3"</span>,<span class="string">"4-2"</span>,<span class="string">"5"</span>]</span><br><span class="line"><span class="keyword">var</span> titleData = [<span class="string">"텔레파시"</span>,<span class="string">"복불복"</span>,<span class="string">"받아라 폭탄"</span>,<span class="string">"낚시게임"</span>,<span class="string">"현재 준비중인 화면입니다"</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> labelData = [<span class="string">"상대방의 카드를 맞춰주세요!\r1. 카드를 선택한다.\r2. 카드를 섞는다.\r3. 상대방이 카드를 맞춘다."</span>,<span class="string">"나의 당첨은??\r1. 인원수를 선택한다.\r2. 제비에 벌칙,상금등의 값을 입력 한다.\n3. 함께 제비를 뽑는다."</span>,<span class="string">"상대방에게 폭탄을 선물하자!\r1.폭탄의 타이머를 설정한다.\r2. 서로에게 폭탄을 넘긴다. \r3. 받는 동안 폭탄이 터지면 OUT!"</span>,<span class="string">"대어를 낚아라!\r1.낚시장소를 선택한다.\r2.제한시간동안 최대한 많은 물고기를 낚는다\r(중간에 쓰레기도 있으니 조심!)"</span>,<span class="string">""</span>]</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> Text </tag>
            
            <tag> 제어문자 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]Launch screen 애니메이션 바(CAGradientLayer)</title>
      <link href="2020/07/08/Swift-Launch-screen-%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98-%EB%B0%94/"/>
      <url>2020/07/08/Swift-Launch-screen-%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98-%EB%B0%94/</url>
      
        <content type="html"><![CDATA[<p>프로젝트중 LaunchScreen이 필요 했는데,</p><p>스토리보드로 해야할 것 처럼 생겼고,</p><p>swift 파일 만들어서 @IBOulet연결 해도 코드가 적용안되는 모습이고,</p><p>알아보니,</p><p>Xcode에서 지원하는 LaunchScreen을 쓰기보다 보통  ViewController을 이용하여 LaunchScreen을 직접 만들어 쓴다고 한다!</p><p>🤔</p><p>그래서 vc를 만들고</p><p>animation을 주면 좋을 것 같아 찾아 보았다!</p><p><a href="https://m.blog.naver.com/hjloveu012/221586596920" target="_blank">[참고한 사이트 - 왕복바]</a></p><p>위 사이트에서는 왕복으로 왔다갔다하는 바지만,</p><p>나는 로딩이 되는 것처럼 보이기 위해 한 방향으로만 가도록 고쳤다 ㅎㅎ !</p><h3 id="horizontalmarqueeview.swift">HorizontalMarqueeView.swift<a title="#horizontalmarqueeview.swift" href="#horizontalmarqueeview.swift"></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HorizontalMarqueeView</span>: <span class="title">UIView</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">var</span> barView: <span class="type">UIView!</span></span><br><span class="line">  <span class="keyword">var</span> backgroundGradientLayer: <span class="type">CAGradientLayer!</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">var</span> grdientDelay: <span class="type">CFTimeInterval</span> = <span class="number">0.7</span></span><br><span class="line">  <span class="keyword">var</span> grdientDuration: <span class="type">CFTimeInterval</span> = <span class="number">0.3</span></span><br><span class="line">  <span class="keyword">var</span> moveDelay: <span class="type">TimeInterval</span> = <span class="number">0.3</span></span><br><span class="line">  <span class="keyword">var</span> moveDuration: <span class="type">TimeInterval</span> = <span class="number">1</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">public</span> <span class="function"><span class="keyword">func</span> <span class="title">initBar</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">self</span>.clipsToBounds = <span class="literal">true</span></span><br><span class="line">    <span class="keyword">self</span>.backgroundColor = <span class="type">UIColor</span>.clear</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> barW = <span class="keyword">self</span>.frame.size.width / <span class="number">2</span></span><br><span class="line">    <span class="keyword">let</span> barH = <span class="keyword">self</span>.frame.size.height</span><br><span class="line">    </span><br><span class="line">    barView = <span class="type">UIView</span>.<span class="keyword">init</span>(frame: <span class="type">CGRect</span>.<span class="keyword">init</span>(x: <span class="keyword">self</span>.frame.size.width, y: <span class="number">0</span>, width: barW, height: barH))</span><br><span class="line">    barView.backgroundColor = <span class="type">UIColor</span>.clear</span><br><span class="line">    <span class="keyword">self</span>.addSubview(barView)</span><br><span class="line">    </span><br><span class="line">    backgroundGradientLayer = <span class="type">CAGradientLayer</span>()</span><br><span class="line">    backgroundGradientLayer.frame = barView.bounds</span><br><span class="line">    backgroundGradientLayer.startPoint = <span class="type">CGPoint</span>.<span class="keyword">init</span>(x: <span class="number">0.0</span>, y: <span class="number">0.5</span>)</span><br><span class="line">    backgroundGradientLayer.endPoint = <span class="type">CGPoint</span>.<span class="keyword">init</span>(x: <span class="number">1.0</span>, y: <span class="number">0.5</span>)</span><br><span class="line">    <span class="comment">//166, 177, 225</span></span><br><span class="line">    backgroundGradientLayer.colors = [<span class="type">UIColor</span>(red: <span class="number">166</span>/<span class="number">255</span>, green: <span class="number">177</span>/<span class="number">255</span>, blue: <span class="number">225</span>/<span class="number">255</span>, alpha: <span class="number">1</span>).cgColor, <span class="type">UIColor</span>.clear.cgColor]</span><br><span class="line">    backgroundGradientLayer.locations = [<span class="number">1.0</span>, <span class="number">1.0</span>]</span><br><span class="line">    barView.layer.addSublayer(backgroundGradientLayer)</span><br><span class="line">    </span><br><span class="line">    moveBarToLeft()</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">moveBarToLeft</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="comment">// 1.reset</span></span><br><span class="line">    barView.frame = <span class="type">CGRect</span>.<span class="keyword">init</span>(x: <span class="keyword">self</span>.frame.size.width, y: <span class="number">0</span>, width: barView.frame.size.width, height: barView.frame.size.height)</span><br><span class="line">    backgroundGradientLayer.colors = [<span class="type">UIColor</span>(red: <span class="number">166</span>/<span class="number">255</span>, green: <span class="number">177</span>/<span class="number">255</span>, blue: <span class="number">225</span>/<span class="number">255</span>, alpha: <span class="number">1</span>).cgColor, <span class="type">UIColor</span>.clear.cgColor]</span><br><span class="line">    backgroundGradientLayer.locations = [<span class="number">1.0</span>, <span class="number">1.0</span>]</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 2.anim gradient</span></span><br><span class="line">    <span class="keyword">let</span> gradientChangeLocation = <span class="type">CABasicAnimation</span>(keyPath: <span class="string">"locations"</span>)</span><br><span class="line">    gradientChangeLocation.beginTime = <span class="type">CACurrentMediaTime</span>() + grdientDelay</span><br><span class="line">    gradientChangeLocation.duration = grdientDuration</span><br><span class="line">    gradientChangeLocation.toValue = [-<span class="number">1.0</span>, <span class="number">1.0</span>]</span><br><span class="line">    gradientChangeLocation.fillMode = <span class="type">CAMediaTimingFillMode</span>.forwards</span><br><span class="line">    gradientChangeLocation.isRemovedOnCompletion = <span class="literal">false</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">self</span>.backgroundGradientLayer.add(gradientChangeLocation, forKey: <span class="string">"locationsChange"</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 3. anim move</span></span><br><span class="line">    <span class="type">UIView</span>.animate(withDuration: moveDuration, delay: moveDelay, options: <span class="type">UIView</span>.<span class="type">AnimationOptions</span>.curveLinear, animations: &#123;</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">self</span>.barView.frame = <span class="type">CGRect</span>.<span class="keyword">init</span>(x: -<span class="keyword">self</span>.barView.frame.size.width, y: <span class="number">0</span>, width: <span class="keyword">self</span>.barView.frame.size.width, height: <span class="keyword">self</span>.barView.frame.size.height)</span><br><span class="line">      </span><br><span class="line">    &#125;) &#123; (isFinish) <span class="keyword">in</span></span><br><span class="line">      </span><br><span class="line">      <span class="keyword">self</span>.moveBarToLeft()</span><br><span class="line">      </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>1. reset</strong></p><ul><li>바 뷰 부분에 <strong>CAGradientLayer</strong>를 이용하였다. background color위에 color gradient를 그려서 layer의 shape을 채우는 layer라고 생각하면 될 듯.</li><li>startPoint와 endPoint 는 view위에 그려질 그라데이션의 시작과 끝점.</li><li><strong>backgroundGradientLayer</strong> 은 그라데이션의 비율. 기본적으로 [1,0]이 1:1 모습.<br><strong>2. anim gradient</strong></li><li>anim gradient의 부분은 CABasicAnimation을 이용하여 그라데이션 주는 부분.</li><li>gradientChangeLocation의 시작 시간(beginTime)은 CACurrentMediaTime(현재 절대 시간을 초 단위로 반환) + grdientDelay이다. let grdientDelay = 0.7</li><li>coloer는 커스텀 하여 사용<br><strong>3. anim move</strong></li><li>일반적인 animation을 사용</li></ul><p>CAGradientLayer에 대한 자세한 내용은 아래의 블로그를 참고하면 된다!</p><p>(매우 쉽게 설명 되어있음!)</p><p><a href="https://zeddios.tistory.com/948" target="_blank">CAGradientLayer 참고 - Zedd 블로그</a></p><h3 id="launch-screen-vc에-horizontalmarqueeview코드-넣어-주기.">Launch Screen VC에 HorizontalMarqueeView코드 넣어 주기.<a title="#launch-screen-vc에-horizontalmarqueeview코드-넣어-주기." href="#launch-screen-vc에-horizontalmarqueeview코드-넣어-주기."></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">var</span> marqueeView: <span class="type">HorizontalMarqueeView!</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> timerArr : [<span class="type">IndexPath</span>] = []</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line">    view.backgroundColor = .white</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    marqueeView = <span class="type">HorizontalMarqueeView</span>.<span class="keyword">init</span>(frame: <span class="type">CGRect</span>.<span class="keyword">init</span>(x: <span class="type">UIScreen</span>.main.bounds.size.width/<span class="number">10</span>, y: <span class="number">400</span>, width: <span class="type">UIScreen</span>.main.bounds.size.width/<span class="number">1.2</span>, height: <span class="number">5</span>))</span><br><span class="line">    <span class="keyword">self</span>.view.addSubview(marqueeView)</span><br><span class="line"></span><br><span class="line">   <span class="type">DispatchQueue</span>.main.asyncAfter(deadline: .now() + <span class="number">3</span>) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> startVC = <span class="type">StartViewController</span>()</span><br><span class="line">        startVC.delegate = <span class="keyword">self</span></span><br><span class="line">        startVC.modalPresentationStyle = .fullScreen</span><br><span class="line">        <span class="keyword">self</span>.present(startVC, animated: <span class="literal">true</span>)</span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line">    marqueeView.initBar()</span><br><span class="line">    setupLaunchImage()</span><br><span class="line">  </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">setupLaunchImage</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> launchImage = <span class="type">UIImageView</span>()</span><br><span class="line">    launchImage.image = <span class="type">UIImage</span>(named: <span class="string">"Dadam4"</span>)</span><br><span class="line">    </span><br><span class="line">    view.addSubview(launchImage)</span><br><span class="line">    </span><br><span class="line">    launchImage.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">    </span><br><span class="line">    launchImage.topAnchor.constraint(equalTo: view.topAnchor, constant: view.frame.width/<span class="number">2.8</span>).isActive = <span class="literal">true</span></span><br><span class="line">    launchImage.leadingAnchor.constraint(equalTo: view.leadingAnchor, constant: view.frame.width/<span class="number">3</span>).isActive = <span class="literal">true</span></span><br><span class="line">    launchImage.trailingAnchor.constraint(equalTo: view.trailingAnchor, constant: -(view.frame.width/<span class="number">3</span>)).isActive = <span class="literal">true</span></span><br><span class="line">    launchImage.bottomAnchor.constraint(equalTo: view.bottomAnchor, constant: -(view.frame.width/<span class="number">0.7</span>)).isActive = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">ViewController</span>: <span class="title">StartViewControllerDelegate</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">handleDismiss</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="type">MainVC</span> = <span class="type">MainViewController</span>()</span><br><span class="line">  <span class="comment">//  let navi = UINavigationController(rootViewController: MainVC)</span></span><br><span class="line">    <span class="type">MainVC</span>.modalPresentationStyle = .fullScreen</span><br><span class="line">    <span class="keyword">self</span>.present(<span class="type">MainVC</span>, animated: <span class="literal">false</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><strong>DispatchQueue.main.asyncAfter(deadline: .now() + 3) {</strong> 을 이용하여, 해당 Launch화면이 main으로부터 3초뒤에 종료되도록 하였다.</li></ul><h3 id="완성된-모습">완성된 모습<a title="#완성된-모습" href="#완성된-모습"></a></h3><p><a href="https://www.youtube.com/watch?v=f2uHaIQeQYw&amp;lc=UgzvZkYN3GBFMesltn94AaABAg" target="_blank">[영상보기]</a></p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> Launch Screen </tag>
            
            <tag> animation </tag>
            
            <tag> CAGradientLayer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]Cell에 shadow주기</title>
      <link href="2020/07/08/Swift-Cell%EC%97%90-shadow%EC%A3%BC%EA%B8%B0/"/>
      <url>2020/07/08/Swift-Cell%EC%97%90-shadow%EC%A3%BC%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<h3 id="간단하게-cell에-그림자-주기-👻">간단하게 Cell에 그림자 주기 👻<a title="#간단하게-cell에-그림자-주기-👻" href="#간단하게-cell에-그림자-주기-👻"></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">setupView</span><span class="params">()</span></span>&#123;</span><br><span class="line">  mainImageView.clipsToBounds = <span class="literal">true</span></span><br><span class="line">  mainTitleImage.clipsToBounds = <span class="literal">true</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">//쉐도우</span></span><br><span class="line">  <span class="keyword">let</span> shadowPath2 = <span class="type">UIBezierPath</span>(rect: bounds)</span><br><span class="line">  layer.masksToBounds = <span class="literal">false</span></span><br><span class="line">  layer.shadowColor = <span class="type">UIColor</span>.black.cgColor</span><br><span class="line">  layer.shadowOffset = <span class="type">CGSize</span>(width: <span class="type">CGFloat</span>(<span class="number">2.0</span>), height: <span class="type">CGFloat</span>(<span class="number">3.0</span>))</span><br><span class="line">  layer.shadowOpacity = <span class="number">0.6</span></span><br><span class="line">  layer.shadowRadius = <span class="number">4</span></span><br><span class="line">  layer.shadowPath = shadowPath2.cgPath</span><br></pre></td></tr></table></figure><p>🎃🙌🏻</p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> Shadow </tag>
            
            <tag> layr </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]CollectionViewCell에 애니메이션 주기(CAAnimation)</title>
      <link href="2020/07/08/Swift-CollectionViewCell%EC%97%90-%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98-%EC%A3%BC%EA%B8%B0/"/>
      <url>2020/07/08/Swift-CollectionViewCell%EC%97%90-%EC%95%A0%EB%8B%88%EB%A9%94%EC%9D%B4%EC%85%98-%EC%A3%BC%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<p>Cell에는 애니메이션 못주나?</p><p>라는 생각하나로…</p><p>CollectionViewCell에 animation을 주는 방법을 찾다가,</p><p>레이어 상태 간의 애니메이션 전환을 주는 CATransition을 발견했다!</p><p>🥺</p><p>바로 구현 고고</p><h3 id="animationutility.swift">AnimationUtility.swift<a title="#animationutility.swift" href="#animationutility.swift"></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AnimationUtility</span>: <span class="title">UIViewController</span>, <span class="title">CAAnimationDelegate</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">let</span> kSlideAnimationDuration: <span class="type">CFTimeInterval</span> = <span class="number">0.5</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">viewSlideInFromRight</span><span class="params">(toLeft views: UIView)</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> transition: <span class="type">CATransition?</span> = <span class="literal">nil</span></span><br><span class="line">    transition = <span class="type">CATransition</span>.<span class="keyword">init</span>()</span><br><span class="line">    transition?.duration = kSlideAnimationDuration</span><br><span class="line">    transition?.timingFunction = <span class="type">CAMediaTimingFunction</span>(name: <span class="type">CAMediaTimingFunctionName</span>.easeInEaseOut)</span><br><span class="line">    transition?.type = <span class="type">CATransitionType</span>.push</span><br><span class="line">    transition?.subtype = <span class="type">CATransitionSubtype</span>.fromRight</span><br><span class="line">    <span class="comment">//transition?.delegate = (self as! CAAnimationDelegate)</span></span><br><span class="line">    views.layer.add(transition!, forKey: <span class="literal">nil</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">viewSlideInFromLeft</span><span class="params">(toRight views: UIView)</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> transition: <span class="type">CATransition?</span> = <span class="literal">nil</span></span><br><span class="line">    transition = <span class="type">CATransition</span>.<span class="keyword">init</span>()</span><br><span class="line">    transition?.duration = kSlideAnimationDuration</span><br><span class="line">    transition?.timingFunction = <span class="type">CAMediaTimingFunction</span>(name: <span class="type">CAMediaTimingFunctionName</span>.easeInEaseOut)</span><br><span class="line">    transition?.type = <span class="type">CATransitionType</span>.push</span><br><span class="line">    transition?.subtype = <span class="type">CATransitionSubtype</span>.fromLeft</span><br><span class="line"> <span class="comment">//   transition?.delegate = (self as! CAAnimationDelegate)</span></span><br><span class="line">    views.layer.add(transition!, forKey: <span class="literal">nil</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">viewSlideInFromTop</span><span class="params">(toBottom views: UIView)</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> transition: <span class="type">CATransition?</span> = <span class="literal">nil</span></span><br><span class="line">    transition = <span class="type">CATransition</span>.<span class="keyword">init</span>()</span><br><span class="line">    transition?.duration = kSlideAnimationDuration</span><br><span class="line">    transition?.timingFunction = <span class="type">CAMediaTimingFunction</span>(name: <span class="type">CAMediaTimingFunctionName</span>.easeInEaseOut)</span><br><span class="line">    transition?.type = <span class="type">CATransitionType</span>.push</span><br><span class="line">    transition?.subtype = <span class="type">CATransitionSubtype</span>.fromBottom</span><br><span class="line"><span class="comment">//transition?.delegate = (self as! CAAnimationDelegate)</span></span><br><span class="line">    views.layer.add(transition!, forKey: <span class="literal">nil</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">viewSlideInFromBottom</span><span class="params">(toTop views: UIView)</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> transition: <span class="type">CATransition?</span> = <span class="literal">nil</span></span><br><span class="line">    transition = <span class="type">CATransition</span>.<span class="keyword">init</span>()</span><br><span class="line">    transition?.duration = kSlideAnimationDuration</span><br><span class="line">    transition?.timingFunction = <span class="type">CAMediaTimingFunction</span>(name: <span class="type">CAMediaTimingFunctionName</span>.easeInEaseOut)</span><br><span class="line">    transition?.type = <span class="type">CATransitionType</span>.push</span><br><span class="line">    transition?.subtype = <span class="type">CATransitionSubtype</span>.fromTop</span><br><span class="line">  <span class="comment">//  transition?.delegate = (self as! CAAnimationDelegate)</span></span><br><span class="line">    views.layer.add(transition!, forKey: <span class="literal">nil</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>CATransition : 레이어 상태 간 애니메이션 전환을 제공하는 객체. 기본 전환은 크로스 페이드이지만 사전 정의 된 전환 세트와 다른 효과를 지정할 수 있다.</li><li>CAMediaTimingFunction : 애니메이션의 간격의 타이밍 기능. 곡선으로 정의하는 함수의 한 세그먼트를 나타낸다. 이 함수는 범위 [0,1]과 출력 시간에 매핑 [0,1].</li><li>easeInEaseOut :  애니메이션이 느리게 시작하고 지속 시간 동안 가속 된 다음 완료하기 전에 다시 느리게함 (아래 그림 참고)</li><li>subtype은 어디로부터? 올지 설정하는 것 같다. (아니면 기존 레이아웃 위치?)</li></ul><p><img src="/image/easeInEaseOut.png" alt="" class="φcx"></p><h3 id="cellforitemat에-animate-코드추가">cellForItemAt에 animate 코드추가<a title="#cellforitemat에-animate-코드추가" href="#cellforitemat에-animate-코드추가"></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MARK: UICollectionViewDataSource</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">MainViewController</span>: <span class="title">UICollectionViewDataSource</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(<span class="number">_</span> collectionView: UICollectionView, numberOfItemsInSection section: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="number">4</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(<span class="number">_</span> collectionView: UICollectionView, cellForItemAt indexPath: IndexPath)</span></span> -&gt; <span class="type">UICollectionViewCell</span> &#123;</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">let</span> cell = collectionView.dequeueReusableCell(withReuseIdentifier: <span class="string">"CollectionCell"</span>, <span class="keyword">for</span>: indexPath) <span class="keyword">as</span>! <span class="type">MainCollectionViewCell</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> !cell.isAnimated &#123;</span><br><span class="line">      </span><br><span class="line">      <span class="type">UIView</span>.animate(withDuration: <span class="number">0.5</span>, delay: <span class="number">0.5</span> * <span class="type">Double</span>(indexPath.row), usingSpringWithDamping: <span class="number">1</span>, initialSpringVelocity: <span class="number">0.5</span>, options: indexPath.row % <span class="number">2</span> == <span class="number">0</span> ? .transitionFlipFromLeft : .transitionFlipFromRight, animations: &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> indexPath.row % <span class="number">2</span> == <span class="number">0</span> &#123;</span><br><span class="line">          <span class="type">AnimationUtility</span>.viewSlideInFromLeft(toRight: cell)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="type">AnimationUtility</span>.viewSlideInFromRight(toLeft: cell)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">      &#125;, completion: &#123; (done) <span class="keyword">in</span></span><br><span class="line">        cell.isAnimated = <span class="literal">true</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    cell.backgroundColor = .clear</span><br><span class="line">    cell.mainImageView.image = <span class="type">UIImage</span>(named: images[indexPath.item])</span><br><span class="line">    cell.mainTitleImage.image = <span class="type">UIImage</span>(named: <span class="string">"cardShadow"</span>)</span><br><span class="line">    cell.titlteLable.text = titleData[indexPath.item]</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> cell</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>코드는 stackoverflow를 참고 했다!</p><p>옛날 코드라서 바뀐 게 좀 있었지만 문제 없는 정도였다!..</p><p><a href="https://stackoverflow.com/questions/49387620/animate-collection-view-cells" target="_blank">참고링크 - stackoverflow</a></p><h3 id="완성된-모습">완성된 모습<a title="#완성된-모습" href="#완성된-모습"></a></h3><p>4가지 게임이 보이는 메인화면에 적용!</p><p><a href="https://www.youtube.com/watch?v=f2uHaIQeQYw&amp;lc=UgzvZkYN3GBFMesltn94AaABAg" target="_blank">[영상보기]</a></p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> UICollectionView </tag>
            
            <tag> CAAnimation </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]Gesture 이해하기</title>
      <link href="2020/06/26/Swift-Gesture-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0-2/"/>
      <url>2020/06/26/Swift-Gesture-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0-2/</url>
      
        <content type="html"><![CDATA[<h2 id="0.-제스처?(uitapgesturerecognizer)">0. 제스처?(UITapGestureRecognizer)<a title="#0.-제스처?(uitapgesturerecognizer)" href="#0.-제스처?(uitapgesturerecognizer)"></a></h2><p>0-0. UITapGestureRecognizer을 상속받아 사용할 수 있는 7가지 제스처,</p><ul><li>Tap gesture recognizer</li><li>Swipe gesture recognizer</li><li>Pan gesture recognizer</li><li>Pinch gesture recognizer</li><li>Rotation gesture recognizer</li><li>Screen gesture recognizer</li><li>LongPress gesture recognizer</li></ul><h2 id="1.-tap제스처,-rotation제스처,-swipe제스처-연결.">1. Tap제스처, Rotation제스처, Swipe제스처 연결.<a title="#1.-tap제스처,-rotation제스처,-swipe제스처-연결." href="#1.-tap제스처,-rotation제스처,-swipe제스처-연결."></a></h2><p><img src="/image/Gesture12.png" alt="" class="φcx"></p><p>제스처 아이템을 검색하여 해당되는 제스처를 @IBAction에 연결한다.</p><p>저는 (Tap, Rotation, Swipe)을 사용했다.</p><p><img src="/image/gesture11.png" alt="" class="φcx"></p><p>스토리 보드상으로 보면 이런 식으로 된다.</p><h2 id="2.-tap제스처-구현(더블-클릭시-이미지-크기-4배-증가)">2. Tap제스처 구현(더블 클릭시 이미지 크기 4배 증가)<a title="#2.-tap제스처-구현(더블-클릭시-이미지-크기-4배-증가)" href="#2.-tap제스처-구현(더블-클릭시-이미지-크기-4배-증가)"></a></h2><p><img src="/image/gesture10.png" alt="" class="φcx"></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">GestureViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">private</span> <span class="keyword">weak</span> <span class="keyword">var</span> imageView: <span class="type">UIImageView!</span>&#123;</span><br><span class="line"> </span><br><span class="line"> <span class="comment">//0.제스처 대상 만들기(이미지뷰).</span></span><br><span class="line">  <span class="keyword">didSet</span> &#123;</span><br><span class="line">      imageView.layer.cornerRadius = imageView.frame.width / <span class="number">2</span></span><br><span class="line">      imageView.clipsToBounds = <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line"><span class="comment">//tap1-1.</span></span><br><span class="line">  <span class="keyword">var</span> isQuadruple = <span class="literal">false</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">//더블탭 하면 이미지가 원본의 4배 크기로 &lt;-&gt; 원본으로</span></span><br><span class="line">  <span class="meta">@IBAction</span> <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">handleTapGesture</span><span class="params">(<span class="number">_</span> sender: UITapGestureRecognizer)</span></span>&#123;</span><br><span class="line">    <span class="keyword">guard</span> sender.state == .ended <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">      </span><br><span class="line">    <span class="comment">//tap1-3.</span></span><br><span class="line">      <span class="keyword">if</span> !isQuadruple &#123;</span><br><span class="line">        imageView.transform = imageView.transform.scaledBy(x: <span class="number">2</span>, y: <span class="number">2</span>)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        imageView.transform = .identity</span><br><span class="line">      &#125;</span><br><span class="line">      isQuadruple = !isQuadruple</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>2-1. identity는 초기화상태로 되돌리기. (다시 더블 클릭시 원래상태로 복구)</p><h2 id="3.-rotation시-회전">3. Rotation시 회전<a title="#3.-rotation시-회전" href="#3.-rotation시-회전"></a></h2><p><img src="/image/Gesture15.png" alt="" class="φcx"></p>  <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MARK: Rotation</span></span><br><span class="line"><span class="meta">@IBAction</span> <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">handleRotationGesture</span><span class="params">(<span class="number">_</span> sender: UIRotationGestureRecognizer)</span></span>&#123;</span><br><span class="line">   <span class="keyword">guard</span> sender.state == .began || sender.state == .changed <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    imageView.transform = imageView.transform.rotated(by: sender.rotation)</span><br><span class="line">    sender.rotation = <span class="number">0</span> <span class="comment">//회전수 </span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p><img src="/image/Gesture17.png" alt="" class="φcx"></p><h2 id="4.-swipe-방향에-따른-이미지변경">4. Swipe 방향에 따른 이미지변경<a title="#4.-swipe-방향에-따른-이미지변경" href="#4.-swipe-방향에-따른-이미지변경"></a></h2><p><img src="/image/Gesture16.png" alt="" class="φcx"></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MARK: Swipe</span></span><br><span class="line"><span class="comment">//으론쪽으로 밀면(스와이프) = cat2</span></span><br><span class="line"><span class="comment">//왼쪽으로 밀면(스와이프) = cat1</span></span><br><span class="line"><span class="meta">@IBAction</span> <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">handleSwipeGesture</span><span class="params">(<span class="number">_</span> sender: UISwipeGestureRecognizer)</span></span>&#123;</span><br><span class="line">  <span class="keyword">guard</span> sender.state == .ended <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> sender.direction == .<span class="keyword">left</span> &#123;</span><br><span class="line">      imageView.image = <span class="type">UIImage</span>(named: <span class="string">"cat1"</span>)</span><br><span class="line">      sender.direction = .<span class="keyword">right</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      imageView.image = <span class="type">UIImage</span>(named: <span class="string">"cat2"</span>)</span><br><span class="line">      sender.direction = .<span class="keyword">left</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/image/gesture25.png" alt="" class="φcx"></p><h2 id="전체코드">전체코드<a title="#전체코드" href="#전체코드"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  GestureViewController.swift</span></span><br><span class="line"><span class="comment">//  GestureRecognizerExample</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Copyright © 2020 Giftbot. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">GestureViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">private</span> <span class="keyword">weak</span> <span class="keyword">var</span> imageView: <span class="type">UIImageView!</span>&#123;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//tap1-1.</span></span><br><span class="line">  <span class="keyword">didSet</span> &#123;</span><br><span class="line">      imageView.layer.cornerRadius = imageView.frame.width / <span class="number">2</span></span><br><span class="line">      imageView.clipsToBounds = <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"><span class="comment">//tap1-2.</span></span><br><span class="line">  <span class="keyword">var</span> isQuadruple = <span class="literal">false</span></span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="comment">// MARK: Tap</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">//더블탭 하면 이미지가 원본의 4배 크기로 &lt;-&gt; 원본으로</span></span><br><span class="line">  <span class="meta">@IBAction</span> <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">handleTapGesture</span><span class="params">(<span class="number">_</span> sender: UITapGestureRecognizer)</span></span>&#123;</span><br><span class="line">    <span class="keyword">guard</span> sender.state == .ended <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">      </span><br><span class="line">    <span class="comment">//tap1-3.</span></span><br><span class="line">      <span class="keyword">if</span> !isQuadruple &#123;</span><br><span class="line">        imageView.transform = imageView.transform.scaledBy(x: <span class="number">2</span>, y: <span class="number">2</span>)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        imageView.transform = .identity</span><br><span class="line">      &#125;</span><br><span class="line">      isQuadruple = !isQuadruple</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line"> <span class="comment">// MARK: Rotation</span></span><br><span class="line">  <span class="meta">@IBAction</span> <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">handleRotationGesture</span><span class="params">(<span class="number">_</span> sender: UIRotationGestureRecognizer)</span></span>&#123;</span><br><span class="line">     <span class="keyword">guard</span> sender.state == .began || sender.state == .changed <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">      imageView.transform = imageView.transform.rotated(by: sender.rotation)</span><br><span class="line">      sender.rotation = <span class="number">0</span> <span class="comment">//회전수</span></span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// MARK: Swipe</span></span><br><span class="line">  <span class="comment">//오른쪽 스와이프 = cat2</span></span><br><span class="line">  <span class="comment">//왼쪽 스와이프 = cat1</span></span><br><span class="line">  <span class="meta">@IBAction</span> <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">handleSwipeGesture</span><span class="params">(<span class="number">_</span> sender: UISwipeGestureRecognizer)</span></span>&#123;</span><br><span class="line">    <span class="keyword">guard</span> sender.state == .ended <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">if</span> sender.direction == .<span class="keyword">left</span> &#123;</span><br><span class="line">        imageView.image = <span class="type">UIImage</span>(named: <span class="string">"cat1"</span>)</span><br><span class="line">        sender.direction = .<span class="keyword">right</span></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        imageView.image = <span class="type">UIImage</span>(named: <span class="string">"cat2"</span>)</span><br><span class="line">        sender.direction = .<span class="keyword">left</span></span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="http://minsone.github.io/mac/ios/uigesturerecognizer" target="_blank">보충링크 : (http://minsone.github.io/mac/ios/uigesturerecognizer)</a></p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> Gesture </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]Tuch 이해하기(touch로 이미지 끌어오기)</title>
      <link href="2020/06/25/Swift-touch-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0/"/>
      <url>2020/06/25/Swift-touch-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="0.-터치를-적용할-이미지뷰-준비">0. 터치를 적용할 이미지뷰 준비<a title="#0.-터치를-적용할-이미지뷰-준비" href="#0.-터치를-적용할-이미지뷰-준비"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">private</span> <span class="keyword">weak</span> <span class="keyword">var</span> imageView: <span class="type">UIImageView!</span>&#123;</span><br><span class="line">  <span class="keyword">didSet</span> &#123;</span><br><span class="line">    imageView.layer.cornerRadius = imageView.bounds.width / <span class="number">2</span></span><br><span class="line">    imageView.clipsToBounds = <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="1.-touch-메소드">1. touch 메소드<a title="#1.-touch-메소드" href="#1.-touch-메소드"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//터치 시작</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">touchesBegan</span><span class="params">(<span class="number">_</span> touches: Set&lt;UITouch&gt;, with event: UIEvent?)</span></span> &#123;</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//터치중</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">touchesMoved</span><span class="params">(<span class="number">_</span> touches: Set&lt;UITouch&gt;, with event: UIEvent?)</span></span> &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//터치종료</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">touchesEnded</span><span class="params">(<span class="number">_</span> touches: Set&lt;UITouch&gt;, with event: UIEvent?)</span></span> &#123;</span><br><span class="line">    &lt;#code#&gt;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//터치취소, 시스템 인터렙션, inactive상태, 터치중인 뷰가 제거될 떄</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">touchesCancelled</span><span class="params">(<span class="number">_</span> touches: Set&lt;UITouch&gt;, with event: UIEvent?)</span></span> &#123;</span><br><span class="line">    &lt;#code#&gt;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>1-1. 이름만봐도 대충 느낌을 알 수 있다… ㅋ</p><h2 id="2.-touch적용해보기">2. touch적용해보기<a title="#2.-touch적용해보기" href="#2.-touch적용해보기"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//터치 시작</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">touchesBegan</span><span class="params">(<span class="number">_</span> touches: Set&lt;UITouch&gt;, with event: UIEvent?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.touchesBegan(touches, with: event)</span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> touch = touches.first <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    <span class="built_in">print</span>(touch)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> touchPoint = touch.location(<span class="keyword">in</span>: touch.view) <span class="comment">//정확하게 어디(터치포인트)를 터치했는지.</span></span><br><span class="line">    <span class="built_in">print</span>(touchPoint)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    imageView.image = <span class="type">UIImage</span>(named: <span class="string">"cat2"</span>)</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//터치중</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">touchesMoved</span><span class="params">(<span class="number">_</span> touches: Set&lt;UITouch&gt;, with event: UIEvent?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.touchesMoved(touches, with: event)</span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> touch = touches.first <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"----touchesMoved----"</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> touchPoint = touch.location(<span class="keyword">in</span>: touch.view) <span class="comment">//정확하게 어디(터치포인트)를 터치했는지.</span></span><br><span class="line">    <span class="built_in">print</span>(touchPoint)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//터치종료</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">touchesEnded</span><span class="params">(<span class="number">_</span> touches: Set&lt;UITouch&gt;, with event: UIEvent?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.touchesEnded(touches, with: event)</span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> touch = touches.first <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"----touchesEnded----"</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> touchPoint = touch.location(<span class="keyword">in</span>: touch.view) <span class="comment">//정확하게 어디(터치포인트)를 터치했는지.</span></span><br><span class="line">    <span class="built_in">print</span>(touchPoint)</span><br><span class="line">    </span><br><span class="line">    imageView.image = <span class="type">UIImage</span>(named: <span class="string">"cat2"</span>)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//터치취소, 시스템 인터렙션, inactive상태, 터치중인 뷰가 제거될 떄</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">touchesCancelled</span><span class="params">(<span class="number">_</span> touches: Set&lt;UITouch&gt;, with event: UIEvent?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.touchesCancelled(touches, with: event)</span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> touch = touches.first <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"----touchesCancelled---"</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> touchPoint = touch.location(<span class="keyword">in</span>: touch.view) <span class="comment">//정확하게 어디(터치포인트)를 터치했는지.</span></span><br><span class="line">    <span class="built_in">print</span>(touchPoint)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2-1. 터치 상태에 print를 주어 확인했다. 디버깅이 위치에 따라 프린팅 된다.</p><h2 id="3.-이미지-반응-구현-(클릭,-움직임에-따라-이미지뷰-이동---touchpoint와-toggle이용)">3. 이미지 반응 구현 (클릭, 움직임에 따라 이미지뷰 이동 - touchPoint와 toggle이용)<a title="#3.-이미지-반응-구현-(클릭,-움직임에-따라-이미지뷰-이동---touchpoint와-toggle이용)" href="#3.-이미지-반응-구현-(클릭,-움직임에-따라-이미지뷰-이동---touchpoint와-toggle이용)"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. - 클릭시 이미지 변환(제스처 메서드 이용)</span></span><br><span class="line"><span class="comment">// 1.5 - 마우스 움직임을 따라서 이미지뷰가 함께 움직이도록 구현</span></span><br><span class="line"><span class="comment">// 2.- 이미지를 클릭했을 경우에만 마우스 움직임을 따라 이미지뷰가 반응하도록 구현</span></span><br><span class="line"><span class="comment">// 3. 다른 방법?</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">TouchViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">private</span> <span class="keyword">weak</span> <span class="keyword">var</span> imageView: <span class="type">UIImageView!</span>&#123;</span><br><span class="line">  <span class="keyword">didSet</span> &#123;</span><br><span class="line">    imageView.layer.cornerRadius = imageView.bounds.width / <span class="number">2</span></span><br><span class="line">    imageView.clipsToBounds = <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">  <span class="comment">//2-1. 눌렀는지 안눌렀는지에 대한 정보</span></span><br><span class="line">  <span class="keyword">var</span> isHoldingImage = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// MARK:  - Touch</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//터치 시작</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">touchesBegan</span><span class="params">(<span class="number">_</span> touches: Set&lt;UITouch&gt;, with event: UIEvent?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.touchesBegan(touches, with: event)</span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> touch = touches.first <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    <span class="built_in">print</span>(touch)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> touchPoint = touch.location(<span class="keyword">in</span>: touch.view) <span class="comment">//정확하게 어디(터치포인트)를 터치했는지.</span></span><br><span class="line">    <span class="built_in">print</span>(touchPoint)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//이미지뷰 원점 + 크기를 구하는 방법도 있지만 더 쉽게 제공되는 메서드 있음</span></span><br><span class="line">       <span class="comment">// if imageView.frame.contains(touchPoint)</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> imageView.frame.<span class="built_in">contains</span>(touchPoint) &#123;</span><br><span class="line">    </span><br><span class="line">      <span class="comment">//1-1. 이미지반응 (클릭시 cat2이미지)</span></span><br><span class="line">      imageView.image = <span class="type">UIImage</span>(named: <span class="string">"cat2"</span>)</span><br><span class="line">    </span><br><span class="line">      <span class="comment">//2-2.</span></span><br><span class="line">      isHoldingImage = <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//터치중</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">touchesMoved</span><span class="params">(<span class="number">_</span> touches: Set&lt;UITouch&gt;, with event: UIEvent?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.touchesMoved(touches, with: event)</span><br><span class="line">    <span class="keyword">guard</span> isHoldingImage, <span class="keyword">let</span> touch = touches.first <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    <span class="keyword">let</span> touchPoint = touch.location(<span class="keyword">in</span>: touch.view)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> imageView.frame.<span class="built_in">contains</span>(touchPoint) &#123;</span><br><span class="line">   </span><br><span class="line">      <span class="comment">//2-0. 이미지 이동 (이것만하면 뚝뚝 끊김)</span></span><br><span class="line">    imageView.center = touchPoint</span><br><span class="line">      <span class="comment">//2-3. 트루일때만 동작하도록</span></span><br><span class="line">      isHoldingImage = <span class="literal">true</span></span><br><span class="line">      </span><br><span class="line">  &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//터치종료</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">touchesEnded</span><span class="params">(<span class="number">_</span> touches: Set&lt;UITouch&gt;, with event: UIEvent?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.touchesEnded(touches, with: event)</span><br><span class="line">    <span class="keyword">guard</span> isHoldingImage <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">   </span><br><span class="line">    <span class="comment">//2-4. 끄기 (토클로 꺼도 무관)</span></span><br><span class="line">    isHoldingImage.toggle() <span class="comment">//초기화로 펄스상태 만듦.</span></span><br><span class="line">    <span class="comment">//1-2. 종료시 다시 cat1이미지</span></span><br><span class="line">    imageView.image = <span class="type">UIImage</span>(named: <span class="string">"cat1"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//터치취소, 시스템 인터렙션, inactive상태, 터치중인 뷰가 제거될 떄</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">touchesCancelled</span><span class="params">(<span class="number">_</span> touches: Set&lt;UITouch&gt;, with event: UIEvent?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.touchesCancelled(touches, with: event)</span><br><span class="line">       <span class="keyword">guard</span> isHoldingImage <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">       isHoldingImage.toggle() <span class="comment">//2-4.</span></span><br><span class="line">       imageView.image = <span class="type">UIImage</span>(named: <span class="string">"cat1"</span>) <span class="comment">//1-2.</span></span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3-1. 이미지 이동할 수 있도록 center에 touchPoint를 준다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">imageView.center = touchPoint</span><br></pre></td></tr></table></figure><p>하지만, 이렇게만 주면 뚝뚝 끊긴다. (위 코드중 2-0 ~ 2-4 참고.)</p><p>3-1. <strong>touchesBegan(터치시작)</strong> 했을 때, 이미지 변경.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">imageView.image = <span class="type">UIImage</span>(named: <span class="string">"cat2"</span>)</span><br></pre></td></tr></table></figure><p>3-2. <strong>touchesBegan(터치시작)</strong> 했을때,</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> imageView.frame.<span class="built_in">contains</span>(touchPoint) &#123;</span><br></pre></td></tr></table></figure><p>touchPoint 에 접근했을 때</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">isHoldingImage = <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>을 주어 끊김현상 방지.</p><h2 id="4.-이미지-반응-구현-(클릭,-움직임에-따라-이미지뷰-이동---lasttouchpoint,-previouslocation이용)">4. 이미지 반응 구현 (클릭, 움직임에 따라 이미지뷰 이동 - lastTouchPoint, previousLocation이용)<a title="#4.-이미지-반응-구현-(클릭,-움직임에-따라-이미지뷰-이동---lasttouchpoint,-previouslocation이용)" href="#4.-이미지-반응-구현-(클릭,-움직임에-따라-이미지뷰-이동---lasttouchpoint,-previouslocation이용)"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. - 클릭시 이미지 변환(제스처 메서드 이용)</span></span><br><span class="line"><span class="comment">// 1.5 - 마우스 움직임을 따라서 이미지뷰가 함께 움직이도록 구현</span></span><br><span class="line"><span class="comment">// 2.- 이미지를 클릭했을 경우에만 마우스 움직임을 따라 이미지뷰가 반응하도록 구현</span></span><br><span class="line"><span class="comment">// 3. 다른 방법?</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">TouchViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">private</span> <span class="keyword">weak</span> <span class="keyword">var</span> imageView: <span class="type">UIImageView!</span>&#123;</span><br><span class="line">  <span class="keyword">didSet</span> &#123;</span><br><span class="line">    imageView.layer.cornerRadius = imageView.bounds.width / <span class="number">2</span></span><br><span class="line">    imageView.clipsToBounds = <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">  <span class="comment">//2-1. 눌렀는지 안눌렀는지에 대한 정보</span></span><br><span class="line">  <span class="keyword">var</span> isHoldingImage = <span class="literal">false</span></span><br><span class="line">  <span class="comment">//3-1. 라스트 터치포인트 기억시키기</span></span><br><span class="line">  <span class="keyword">var</span> lastTouchPoint = <span class="type">CGPoint</span>.zero</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="comment">// MARK:  - Touch</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//터치 시작</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">touchesBegan</span><span class="params">(<span class="number">_</span> touches: Set&lt;UITouch&gt;, with event: UIEvent?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.touchesBegan(touches, with: event)</span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> touch = touches.first <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    <span class="built_in">print</span>(touch)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> touchPoint = touch.location(<span class="keyword">in</span>: touch.view) <span class="comment">//정확하게 어디(터치포인트)를 터치했는지.</span></span><br><span class="line">    <span class="built_in">print</span>(touchPoint)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//이미지뷰 원점 + 크기를 구하는 방법도 있지만 더 쉽게 제공되는 메서드 있음</span></span><br><span class="line">       <span class="comment">// if imageView.frame.contains(touchPoint)</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> imageView.frame.<span class="built_in">contains</span>(touchPoint) &#123;</span><br><span class="line">    </span><br><span class="line">      <span class="comment">//1-1. 이미지반응 (클릭시 cat2이미지)</span></span><br><span class="line">      imageView.image = <span class="type">UIImage</span>(named: <span class="string">"cat2"</span>)</span><br><span class="line">    </span><br><span class="line">      <span class="comment">//2-2.</span></span><br><span class="line">      isHoldingImage = <span class="literal">true</span></span><br><span class="line">      </span><br><span class="line">      <span class="comment">//3-2.</span></span><br><span class="line">      lastTouchPoint = touchPoint</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//터치중</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">touchesMoved</span><span class="params">(<span class="number">_</span> touches: Set&lt;UITouch&gt;, with event: UIEvent?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.touchesMoved(touches, with: event)</span><br><span class="line">    <span class="keyword">guard</span> isHoldingImage, <span class="keyword">let</span> touch = touches.first <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    <span class="keyword">let</span> touchPoint = touch.location(<span class="keyword">in</span>: touch.view)</span><br><span class="line">    </span><br><span class="line">      </span><br><span class="line">      <span class="comment">//3-3.</span></span><br><span class="line">      <span class="comment">// currenTouchPoint = 100 (움직인위치)</span></span><br><span class="line">      <span class="comment">// lastTouchPoint = 150 (시작위치)</span></span><br><span class="line">      <span class="comment">// 100 - 150 = -50 (이동거리)</span></span><br><span class="line">      </span><br><span class="line">      </span><br><span class="line">     <span class="comment">//방법1.3-3. lastTouchPoint이용</span></span><br><span class="line">    <span class="comment">//x의 이동거리, y의 이동거리를 센터x랑 센터y에게 더해준 것.</span></span><br><span class="line">    <span class="comment">//    imageView.center.x = imageView.center.x + (touchPoint.x - lastTouchPoint.x)</span></span><br><span class="line">    <span class="comment">//    imageView.center.y = imageView.center.y + (touchPoint.y - lastTouchPoint.y)</span></span><br><span class="line">    <span class="comment">//    lastTouchPoint = touchPoint</span></span><br><span class="line">      <span class="comment">//lastTouchPoint처음위치부터 계산됨.</span></span><br><span class="line">      </span><br><span class="line">     </span><br><span class="line">    <span class="comment">//방법2.3-3.previousLocation이용 (lastTouchPoint와 비슷)</span></span><br><span class="line">      touch.previousLocation: 직전의 터치포인트를 기억했다가 알려주는것.</span><br><span class="line">      <span class="keyword">let</span> prevTouchPoint = touch.previousLocation(<span class="keyword">in</span>: touch.view)</span><br><span class="line">      imageView.center.x = imageView.center.x + (touchPoint.x - prevTouchPoint.x)</span><br><span class="line">      imageView.center.y = imageView.center.y + (touchPoint.y - prevTouchPoint.y)</span><br><span class="line"> </span><br><span class="line">      <span class="comment">//점에서 점으로 이동했을때, 센터x랑,y한테 그 이동거리만큼 움직여라</span></span><br><span class="line">  </span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="comment">//터치종료</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">touchesEnded</span><span class="params">(<span class="number">_</span> touches: Set&lt;UITouch&gt;, with event: UIEvent?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.touchesEnded(touches, with: event)</span><br><span class="line">    <span class="keyword">guard</span> isHoldingImage <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">   </span><br><span class="line">    <span class="comment">//2-4. 끄기 (토클로 꺼도 무관)</span></span><br><span class="line">    isHoldingImage.toggle() <span class="comment">//초기화로 펄스상태 만듦.</span></span><br><span class="line">    <span class="comment">//1-2. 종료시 다시 cat1이미지</span></span><br><span class="line">    imageView.image = <span class="type">UIImage</span>(named: <span class="string">"cat1"</span>)</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//터치취소, 시스템 인터렙션, inactive상태, 터치중인 뷰가 제거될 떄</span></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">touchesCancelled</span><span class="params">(<span class="number">_</span> touches: Set&lt;UITouch&gt;, with event: UIEvent?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.touchesCancelled(touches, with: event)</span><br><span class="line">       <span class="keyword">guard</span> isHoldingImage <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">       isHoldingImage.toggle() <span class="comment">//2-4.</span></span><br><span class="line">       imageView.image = <span class="type">UIImage</span>(named: <span class="string">"cat1"</span>) <span class="comment">//1-2.</span></span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4-1. 둘의 차이가 있다면, lastTouchPoint는 개발자가 저장한 값, previousLocation는 프레임워크에서 지원하는 값.<br>4-2. 3의 방법보다 lastTouchPoint와 previousLocation를 이용하는게 훨씬 깔끔? 할 것 같다는 개인적인 생각.</p><h2 id="5.-shack-모션달기(bonus)">5. shack 모션달기(Bonus)<a title="#5.-shack-모션달기(bonus)" href="#5.-shack-모션달기(bonus)"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MARK: Motion</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">motionBegan</span><span class="params">(<span class="number">_</span> motion: UIEvent.EventSubtype, with event: UIEvent?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.motionBegan(motion, with: event)</span><br><span class="line">    <span class="keyword">if</span> motion == .motionShake &#123;</span><br><span class="line">      imageView.image = <span class="type">UIImage</span>(named: <span class="string">"cat2"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">motionEnded</span><span class="params">(<span class="number">_</span> motion: UIEvent.EventSubtype, with event: UIEvent?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.motionEnded(motion, with: event)</span><br><span class="line">    <span class="keyword">if</span> motion == .motionShake &#123;</span><br><span class="line">      imageView.image = <span class="type">UIImage</span>(named: <span class="string">"cat1"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">motionCancelled</span><span class="params">(<span class="number">_</span> motion: UIEvent.EventSubtype, with event: UIEvent?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.motionCancelled(motion, with: event)</span><br><span class="line">    <span class="keyword">if</span> motion == .motionShake &#123;</span><br><span class="line">      imageView.image = <span class="type">UIImage</span>(named: <span class="string">"cat1"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="전체코드">전체코드<a title="#전체코드" href="#전체코드"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  TouchViewController.swift</span></span><br><span class="line"><span class="comment">//  GestureRecognizerExample</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  Copyright © 2020 giftbot. All rights reserved.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">TouchViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">private</span> <span class="keyword">weak</span> <span class="keyword">var</span> imageView: <span class="type">UIImageView!</span> &#123;</span><br><span class="line">    <span class="keyword">didSet</span> &#123;</span><br><span class="line">      imageView.layer.cornerRadius = imageView.frame.width / <span class="number">2</span></span><br><span class="line">      imageView.clipsToBounds = <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> isHoldingImage = <span class="literal">false</span></span><br><span class="line">  <span class="keyword">var</span> lastTouchPoint = <span class="type">CGPoint</span>.zero</span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">  <span class="comment">// MARK: Touch</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">touchesBegan</span><span class="params">(<span class="number">_</span> touches: Set&lt;UITouch&gt;, with event: UIEvent?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.touchesBegan(touches, with: event)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> touch = touches.first <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    <span class="keyword">let</span> touchPoint = touch.location(<span class="keyword">in</span>: touch.view)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> imageView.frame.<span class="built_in">contains</span>(touchPoint) &#123;</span><br><span class="line">      imageView.image = <span class="type">UIImage</span>(named: <span class="string">"cat2"</span>)</span><br><span class="line">      isHoldingImage = <span class="literal">true</span></span><br><span class="line">      lastTouchPoint = touchPoint</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">touchesMoved</span><span class="params">(<span class="number">_</span> touches: Set&lt;UITouch&gt;, with event: UIEvent?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.touchesMoved(touches, with: event)</span><br><span class="line">    <span class="keyword">guard</span> isHoldingImage, <span class="keyword">let</span> touch = touches.first <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    <span class="keyword">let</span> touchPoint = touch.location(<span class="keyword">in</span>: touch.view)</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    imageView.center.x = imageView.center.x + (touchPoint.x - lastTouchPoint.x)</span></span><br><span class="line"><span class="comment">//    imageView.center.y = imageView.center.y + (touchPoint.y - lastTouchPoint.y)</span></span><br><span class="line"><span class="comment">//    lastTouchPoint = touchPoint</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> prevTouchPoint = touch.previousLocation(<span class="keyword">in</span>: touch.view)</span><br><span class="line">    imageView.center.x = imageView.center.x + (touchPoint.x - prevTouchPoint.x)</span><br><span class="line">    imageView.center.y = imageView.center.y + (touchPoint.y - prevTouchPoint.y)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">touchesEnded</span><span class="params">(<span class="number">_</span> touches: Set&lt;UITouch&gt;, with event: UIEvent?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.touchesEnded(touches, with: event)</span><br><span class="line">    <span class="keyword">guard</span> isHoldingImage <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    isHoldingImage.toggle()</span><br><span class="line">    imageView.image = <span class="type">UIImage</span>(named: <span class="string">"cat1"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">touchesCancelled</span><span class="params">(<span class="number">_</span> touches: Set&lt;UITouch&gt;, with event: UIEvent?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.touchesCancelled(touches, with: event)</span><br><span class="line">    <span class="keyword">guard</span> isHoldingImage <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    isHoldingImage.toggle()</span><br><span class="line">    imageView.image = <span class="type">UIImage</span>(named: <span class="string">"cat1"</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">// MARK: Motion</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">motionBegan</span><span class="params">(<span class="number">_</span> motion: UIEvent.EventSubtype, with event: UIEvent?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.motionBegan(motion, with: event)</span><br><span class="line">    <span class="keyword">if</span> motion == .motionShake &#123;</span><br><span class="line">      imageView.image = <span class="type">UIImage</span>(named: <span class="string">"cat2"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">motionEnded</span><span class="params">(<span class="number">_</span> motion: UIEvent.EventSubtype, with event: UIEvent?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.motionEnded(motion, with: event)</span><br><span class="line">    <span class="keyword">if</span> motion == .motionShake &#123;</span><br><span class="line">      imageView.image = <span class="type">UIImage</span>(named: <span class="string">"cat1"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">motionCancelled</span><span class="params">(<span class="number">_</span> motion: UIEvent.EventSubtype, with event: UIEvent?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.motionCancelled(motion, with: event)</span><br><span class="line">    <span class="keyword">if</span> motion == .motionShake &#123;</span><br><span class="line">      imageView.image = <span class="type">UIImage</span>(named: <span class="string">"cat1"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> ImageView </tag>
            
            <tag> Touch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]MapKit 이해하기-4(with: MKOverlayRenderer)</title>
      <link href="2020/06/24/Swift-MapKit-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0-4/"/>
      <url>2020/06/24/Swift-MapKit-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0-4/</url>
      
        <content type="html"><![CDATA[<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> MapKit</span><br></pre></td></tr></table></figure><p>맵킷 가져오기</p><h2 id="1.-'원'그림으로-반경-추가하기.(mkcircle)">1. '원’그림으로 반경 추가하기.(MKCircle)<a title="#1.-'원'그림으로-반경-추가하기.(mkcircle)" href="#1.-'원'그림으로-반경-추가하기.(mkcircle)"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">addCircle</span><span class="params">(<span class="number">_</span> sender: <span class="keyword">Any</span>)</span></span> &#123;</span><br><span class="line">  <span class="keyword">let</span> center = mapView.centerCoordinate</span><br><span class="line">     <span class="comment">// 44000m = 44km</span></span><br><span class="line">     <span class="keyword">let</span> circle = <span class="type">MKCircle</span>(center: center, radius: <span class="number">44000</span>)</span><br><span class="line">     mapView.addOverlay(circle)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>1-1.  원 = center 화면 중앙,  radius: 44000은 44km값.</p><p><img src="/image/map17.png" alt="" class="φcx"></p><h2 id="2.-'별그림'으로-반경-추가하기.(mkpolyline)">2. '별그림’으로 반경 추가하기.(MKPolyline)<a title="#2.-'별그림'으로-반경-추가하기.(mkpolyline)" href="#2.-'별그림'으로-반경-추가하기.(mkpolyline)"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">addStar</span><span class="params">(<span class="number">_</span> sender: <span class="keyword">Any</span>)</span></span> &#123;</span><br><span class="line">  <span class="comment">//별 컬러 및 굵기 지정</span></span><br><span class="line">  <span class="keyword">let</span> center = mapView.centerCoordinate</span><br><span class="line">     </span><br><span class="line">     <span class="keyword">var</span> point1 = center; point1.latitude += <span class="number">0.4</span></span><br><span class="line">     <span class="keyword">var</span> point2 = center; point2.longitude += <span class="number">0.32</span>;   point2.latitude -= <span class="number">0.30</span></span><br><span class="line">     <span class="keyword">var</span> point3 = center; point3.longitude -= <span class="number">0.45</span>;  point3.latitude += <span class="number">0.15</span></span><br><span class="line">     <span class="keyword">var</span> point4 = center; point4.longitude += <span class="number">0.45</span>;  point4.latitude += <span class="number">0.15</span></span><br><span class="line">     <span class="keyword">var</span> point5 = center; point5.longitude -= <span class="number">0.32</span>;   point5.latitude -= <span class="number">0.30</span></span><br><span class="line">     </span><br><span class="line">     <span class="keyword">let</span> points: [<span class="type">CLLocationCoordinate2D</span>] = [point1, point2, point3, point4, point5, point1] <span class="comment">//2-1.</span></span><br><span class="line">     <span class="keyword">let</span> polyline = <span class="type">MKPolyline</span>(coordinates: points, <span class="built_in">count</span>: points.<span class="built_in">count</span>)<span class="comment">//2-2</span></span><br><span class="line">    </span><br><span class="line">    mapView.addOverlay(polyline)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2-1. 마지막 배열 왜 point1을 넣었을까?  point1로 돌아와야하기 때문.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> points: [<span class="type">CLLocationCoordinate2D</span>] = [point1, point2, point3, point4, point5, point1]</span><br></pre></td></tr></table></figure><p>2-2. points: 특정 점들의 count: 카운트만큼.</p><p><img src="/image/map18.png" alt="" class="φcx"></p><h2 id="3.-mkmapviewdelegate(mkcircle,polyline)">3. MKMapViewDelegate(MKCircle,polyline)<a title="#3.-mkmapviewdelegate(mkcircle,polyline)" href="#3.-mkmapviewdelegate(mkcircle,polyline)"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MARK: - MKMapViewDelegate</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">RendererOverlayViewController</span>: <span class="title">MKMapViewDelegate</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">mapView</span><span class="params">(<span class="number">_</span> mapView: MKMapView, rendererFor overlay: MKOverlay)</span></span> -&gt; <span class="type">MKOverlayRenderer</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> circle = overlay <span class="keyword">as</span>? <span class="type">MKCircle</span> &#123; <span class="comment">//MKCircle일때 작성.</span></span><br><span class="line">      <span class="keyword">let</span> renderer = <span class="type">MKCircleRenderer</span>(circle: circle)</span><br><span class="line">      renderer.strokeColor = <span class="type">UIColor</span>.blue</span><br><span class="line">      renderer.lineWidth = <span class="number">2</span></span><br><span class="line">      <span class="keyword">return</span> renderer</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> polyline = overlay <span class="keyword">as</span>? <span class="type">MKPolyline</span> &#123; <span class="comment">//아니면, MKPolyline을 반환</span></span><br><span class="line">      <span class="keyword">let</span> renderer = <span class="type">MKPolylineRenderer</span>(polyline: polyline)</span><br><span class="line">      renderer.lineWidth = <span class="number">2</span></span><br><span class="line">      renderer.strokeColor = .red</span><br><span class="line">      <span class="keyword">return</span> renderer</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">MKOverlayRenderer</span>(overlay: overlay)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3-1. MKCircled일때 작성, MKCircled이 아니면, MKPolyline을 반환.</p><h2 id="4.-overlays-지우기">4. overlays 지우기<a title="#4.-overlays-지우기" href="#4.-overlays-지우기"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@IBAction</span> <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">removeOverlays</span><span class="params">(<span class="number">_</span> sender: <span class="keyword">Any</span>)</span></span> &#123;</span><br><span class="line">  mapView.removeOverlays(mapView.overlays)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/image/map19.png" alt="" class="φcx"></p><p>추가로, 아래에 확대하면 별이 커진 것처럼<br>제스처로 화면을 최대한 작게하면 별이 작아진다 !!!</p><p><img src="/image/map20.png" alt="" class="φcx"></p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> MapKit </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]MapKit 이해하기-3</title>
      <link href="2020/06/23/Swift-MapKit-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0-3/"/>
      <url>2020/06/23/Swift-MapKit-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0-3/</url>
      
        <content type="html"><![CDATA[<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> MapKit</span><br></pre></td></tr></table></figure><h2 id="1.-cllocationcoordinate2dmake">1. CLLocationCoordinate2DMake<a title="#1.-cllocationcoordinate2dmake" href="#1.-cllocationcoordinate2dmake"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidAppear</span><span class="params">(<span class="number">_</span> animated: Bool)</span></span> &#123;</span><br><span class="line">   <span class="keyword">super</span>.viewDidAppear(animated)</span><br><span class="line">   <span class="comment">// 시청 위치</span></span><br><span class="line">      <span class="keyword">let</span> center = <span class="type">CLLocationCoordinate2DMake</span>(<span class="number">37.566308</span>, <span class="number">126.977948</span>)</span><br><span class="line">      setRegion(coordinate: center)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>1-1. app켜질때 시청위치 기본값으로 가져옴.</p><h2 id="2.-위치-핀-사용하여-추가.-(mkpointannotation)">2. 위치 핀 사용하여 추가. (MKPointAnnotation)<a title="#2.-위치-핀-사용하여-추가.-(mkpointannotation)" href="#2.-위치-핀-사용하여-추가.-(mkpointannotation)"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//내가 원하는 위경도값 가져옴.</span></span><br><span class="line"> <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">setRegion</span><span class="params">(coordinate: CLLocationCoordinate2D)</span></span> &#123;</span><br><span class="line">    <span class="keyword">let</span> span = <span class="type">MKCoordinateSpan</span>(latitudeDelta: <span class="number">0.1</span>, longitudeDelta: <span class="number">0.1</span>)</span><br><span class="line">    <span class="keyword">let</span> region = <span class="type">MKCoordinateRegion</span>(center: coordinate, span: span)</span><br><span class="line">    mapView.setRegion(region, animated: <span class="literal">true</span>)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>2-1. 내가 원하는 위경도값 가져오기.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//위치추가</span></span><br><span class="line"><span class="meta">@IBAction</span> <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">addAnnotation</span><span class="params">(<span class="number">_</span> sender: <span class="keyword">Any</span>)</span></span> &#123;</span><br><span class="line">  <span class="keyword">let</span> cityHall = <span class="type">MKPointAnnotation</span>()</span><br><span class="line">     cityHall.title = <span class="string">"시청"</span></span><br><span class="line">     cityHall.subtitle = <span class="string">"서울특별시"</span></span><br><span class="line">     cityHall.coordinate = <span class="type">CLLocationCoordinate2DMake</span>(<span class="number">37.566308</span>, <span class="number">126.977948</span>)</span><br><span class="line">     mapView.addAnnotation(cityHall)</span><br><span class="line">     </span><br><span class="line">     <span class="keyword">let</span> namsan = <span class="type">MKPointAnnotation</span>()</span><br><span class="line">     namsan.title = <span class="string">"남산"</span></span><br><span class="line">     namsan.coordinate = <span class="type">CLLocationCoordinate2DMake</span>(<span class="number">37.551416</span>, <span class="number">126.988194</span>)</span><br><span class="line">     mapView.addAnnotation(namsan)</span><br><span class="line"></span><br><span class="line">     <span class="keyword">let</span> gimpoAirport = <span class="type">MKPointAnnotation</span>()</span><br><span class="line">     gimpoAirport.title = <span class="string">"김포공항"</span></span><br><span class="line">     gimpoAirport.coordinate = <span class="type">CLLocationCoordinate2DMake</span>(<span class="number">37.559670</span>, <span class="number">126.794320</span>)</span><br><span class="line">     mapView.addAnnotation(gimpoAirport)</span><br><span class="line">     </span><br><span class="line">     <span class="keyword">let</span> gangnam = <span class="type">MKPointAnnotation</span>()</span><br><span class="line">     gangnam.title = <span class="string">"강남역"</span></span><br><span class="line">     gangnam.coordinate = <span class="type">CLLocationCoordinate2DMake</span>(<span class="number">37.498149</span>, <span class="number">127.027623</span>)</span><br><span class="line">     mapView.addAnnotation(gangnam)</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>2-2. “핀추가” 눌렀을 때, 해당 위,경도에 대한 위치에 핀 꽂기</p><p><img src="/image/map15.png" alt="" class="φcx"></p><h2 id="3.-랜덤-핀으로-이동">3. 랜덤 핀으로 이동<a title="#3.-랜덤-핀으로-이동" href="#3.-랜덤-핀으로-이동"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@IBAction</span> <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">moveToRandomPin</span><span class="params">(<span class="number">_</span> sender: <span class="keyword">Any</span>)</span></span> &#123;</span><br><span class="line">   <span class="keyword">guard</span> mapView.annotations.<span class="built_in">count</span> &gt; <span class="number">0</span> <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">      <span class="keyword">let</span> random = <span class="type">Int</span>.random(<span class="keyword">in</span>: <span class="number">0</span>..&lt;mapView.annotations.<span class="built_in">count</span>) <span class="comment">//0 이상이면</span></span><br><span class="line">      <span class="keyword">let</span> annotation = mapView.annotations[random] <span class="comment">//랜덤값 가져오기.</span></span><br><span class="line">      setRegion(coordinate: annotation.coordinate) <span class="comment">//그 위치로 이동하도록</span></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>3-1. 0개 이상이면, 랜덤으로 핀으로 위치 이동하기</p><h2 id="4.-핀-제거하기">4. 핀 제거하기<a title="#4.-핀-제거하기" href="#4.-핀-제거하기"></a></h2> <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@IBAction</span> <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">removeAnnotation</span><span class="params">(<span class="number">_</span> sender: <span class="keyword">Any</span>)</span></span> &#123;</span><br><span class="line">   mapView.removeAnnotations(mapView.annotations)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>4-1. removeAnnotations 이용</p><h2 id="5.-카메라로-보기">5. 카메라로 보기<a title="#5.-카메라로-보기" href="#5.-카메라로-보기"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@IBAction</span> <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">setupCamera</span><span class="params">(<span class="number">_</span> sender: <span class="keyword">Any</span>)</span></span> &#123;</span><br><span class="line">  <span class="keyword">let</span> camera = <span class="type">MKMapCamera</span>()</span><br><span class="line">     <span class="keyword">let</span> coordinate = <span class="type">CLLocationCoordinate2DMake</span>(<span class="number">37.551416</span>, <span class="number">126.988194</span>)</span><br><span class="line">     camera.centerCoordinate = coordinate</span><br><span class="line">     camera.centerCoordinateDistance = <span class="number">200</span>  <span class="comment">// 고도      </span></span><br><span class="line">     camera.pitch = <span class="number">70.0</span>  <span class="comment">// 카메라 각도 (0일 때 수직으로 내려다보는 형태)</span></span><br><span class="line">     camera.heading = <span class="number">0</span>   <span class="comment">// 카메라 방향 </span></span><br><span class="line">     mapView.setCamera(camera, animated: <span class="literal">true</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>5-1. centerCoordinateDistance 고도는 <strong>m단위</strong>임<br>5-2. <strong>camera.heading</strong> 카메라 방향 0 ~ 360 (맵을 바라보는 방향)</p><p><img src="/image/map16.png" alt="" class="φcx"></p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> MapKit </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]MapKit이해하기-2(with: Geocoding)</title>
      <link href="2020/06/23/Swift-MapKit%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0-2-with-Geocoding/"/>
      <url>2020/06/23/Swift-MapKit%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0-2-with-Geocoding/</url>
      
        <content type="html"><![CDATA[<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> MapKit</span><br></pre></td></tr></table></figure><h2 id="1.-제스처를-이용-(gesture:-uitapgesturerecognizer)">1. 제스처를 이용 (gesture: UITapGestureRecognizer)<a title="#1.-제스처를-이용-(gesture:-uitapgesturerecognizer)" href="#1.-제스처를-이용-(gesture:-uitapgesturerecognizer)"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//내가 터치한 위치가 위경도 값의 어디에 해당되는지</span></span><br><span class="line"> <span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">recognizeTap</span><span class="params">(gesture: UITapGestureRecognizer)</span></span> &#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">let</span> touchPoint = gesture.location(<span class="keyword">in</span>: gesture.view) <span class="comment">//제스처.터치포인트</span></span><br><span class="line">   <span class="keyword">let</span> coordinate = mapView.convert(touchPoint, toCoordinateFrom: mapView)</span><br><span class="line">   <span class="keyword">let</span> location = <span class="type">CLLocation</span>(latitude: coordinate.latitude, longitude: coordinate.longitude)</span><br><span class="line">   </span><br><span class="line">   <span class="comment">//2.참고 </span></span><br><span class="line">   reverseGeocode(location: location)</span><br></pre></td></tr></table></figure><h2 id="2.-eversegeocodelocation(위경도-값에서-주소값-가져오기)">2. everseGeocodeLocation(위경도 값에서 주소값 가져오기)<a title="#2.-eversegeocodelocation(위경도-값에서-주소값-가져오기)" href="#2.-eversegeocodelocation(위경도-값에서-주소값-가져오기)"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">reverseGeocode</span><span class="params">(location: CLLocation)</span></span> &#123;</span><br><span class="line">  <span class="keyword">let</span> geocoder = <span class="type">CLGeocoder</span>()</span><br><span class="line"></span><br><span class="line">  <span class="comment">//reverseGeocodeLocation: 위경도값에서 주소값가져오기.</span></span><br><span class="line">  geocoder.reverseGeocodeLocation(location) &#123; placeMark, error <span class="keyword">in</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"\n---------- [ 위경도 -&gt; 주소 ] ----------"</span>)</span><br><span class="line">    <span class="keyword">if</span> error != <span class="literal">nil</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">print</span>(error!.localizedDescription)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 국가별 주소체계에 따라 어떤 속성 값을 가질지 다름</span></span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> address = placeMark?.first,</span><br><span class="line">      <span class="keyword">let</span> country = address.country, <span class="comment">//대한민국</span></span><br><span class="line">      <span class="keyword">let</span> administrativeArea = address.administrativeArea, <span class="comment">//서울특별시 (시/도)</span></span><br><span class="line">      <span class="keyword">let</span> locality = address.locality, <span class="comment">//서초구, 고령군, 광명시, 용산구 (시/군/구)</span></span><br><span class="line">      <span class="keyword">let</span> name = address.name <span class="comment">//방배동 2902, 신림동 1428-12 (읍/면/동)</span></span><br><span class="line">      <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> addr = <span class="string">"\(country) \(administrativeArea) \(locality) \(name)"</span></span><br><span class="line">    <span class="built_in">print</span>(addr)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2-1. 위경도 -&gt; 주소로 값 가져오기(print)</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">geocodeAddressString</span><span class="params">(<span class="number">_</span> addressString: String)</span></span>&#123;</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">"[주소-&gt; 위경도]"</span>)</span><br><span class="line">  <span class="keyword">let</span> geocoder = <span class="type">CLGeocoder</span>()</span><br><span class="line">  geocoder.geocodeAddressString(addressString) &#123; (placeMark, error) <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">if</span> error != <span class="literal">nil</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">print</span>(error!.localizedDescription)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">guard</span> <span class="keyword">let</span> place = placeMark?.first <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">  <span class="built_in">print</span>(place.location?.coordinate)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2-2. 주소 -&gt; 위경도로 값 가져오기(print)</p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> MapKit </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]MapKit 이해하기</title>
      <link href="2020/06/23/Swift-MapKit-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0/"/>
      <url>2020/06/23/Swift-MapKit-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="0.-import-mapkit">0. import MapKit<a title="#0.-import-mapkit" href="#0.-import-mapkit"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> MapKit</span><br></pre></td></tr></table></figure><p><img src="/image/map9.png" alt="" class="φcx"></p><p>0-1. 임포트를 하게되면 일단 기본적인 맵킷이 나온다.</p><h2 id="1.-권한요청">1. 권한요청<a title="#1.-권한요청" href="#1.-권한요청"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">checkAuthorizationStatus</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">switch</span> <span class="type">CLLocationManager</span>.authorizationStatus() &#123;</span><br><span class="line"><span class="keyword">case</span> .notDetermined:</span><br><span class="line">  locationManager.requestWhenInUseAuthorization()</span><br><span class="line"><span class="keyword">case</span> .restricted, .denied: <span class="keyword">break</span></span><br><span class="line"><span class="keyword">case</span> .authorizedWhenInUse:</span><br><span class="line">  <span class="keyword">fallthrough</span></span><br><span class="line"><span class="keyword">case</span> .authorizedAlways:</span><br><span class="line">  startUpdatingLocation()</span><br><span class="line">@unknown <span class="keyword">default</span>: <span class="built_in">fatalError</span>()</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>1-1. info.plist에서 권한요청하기. (Privacy - Location When In Use Usage Description)<br>1-2. @컴파일러가 별도의 키워드로 인식하기 위해 필요한 것. (Attribut)</p><h2 id="2.-cllocationmanager">2. CLLocationManager<a title="#2.-cllocationmanager" href="#2.-cllocationmanager"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">startUpdatingLocation</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="keyword">let</span> status = <span class="type">CLLocationManager</span>.authorizationStatus() </span><br><span class="line">  <span class="keyword">guard</span> status == .authorizedAlways || status == .authorizedWhenInUse,</span><br><span class="line">    <span class="type">CLLocationManager</span>.locationServicesEnabled()</span><br><span class="line">    <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">  locationManager.desiredAccuracy = kCLLocationAccuracyBest</span><br><span class="line">  locationManager.distanceFilter = kCLHeadingFilterNone</span><br><span class="line">  locationManager.startUpdatingLocation()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2-1. <strong>status</strong> 사용자가 위치정보 서비스를 허용했는지 안했는지 체크<br>2-2. <strong>kCLLocationAccuracyNearestTenMeters</strong> 10미터 단위로 (기본값은 <strong>kCLLocationAccuracyBest</strong>) 단, 너무 짧을 경우 베터리 소진량 늘어남<br>2-3. <strong>startUpdatingLocation</strong> 실제로 update를 요청하는 값</p><h2 id="3.--cllocationmanagerdelegate">3.  CLLocationManagerDelegate<a title="#3.--cllocationmanagerdelegate" href="#3.--cllocationmanagerdelegate"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">locationManager.delegate = <span class="keyword">self</span></span><br></pre></td></tr></table></figure><p>3-1. delegate self선언</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">MyLocationViewController</span>: <span class="title">CLLocationManagerDelegate</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">locationManager</span><span class="params">(<span class="number">_</span> manager: CLLocationManager, didChangeAuthorization status: CLAuthorizationStatus)</span></span> &#123;</span><br><span class="line">  <span class="keyword">switch</span> status &#123;</span><br><span class="line">  <span class="keyword">case</span> .authorizedWhenInUse, .authorizedAlways:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Authorized"</span>)</span><br><span class="line">  <span class="keyword">default</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Unauthorized"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">locationManager</span><span class="params">(<span class="number">_</span> manager: CLLocationManager, didUpdateLocations locations: [CLLocation])</span></span> &#123;</span><br><span class="line">  <span class="keyword">let</span> current = locations.last! <span class="comment">//라스트 값을 가져옴.</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">abs</span>(current.timestamp.timeIntervalSinceNow) &lt; <span class="number">10</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> coordinate = current.coordinate</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Span 단위는 1도</span></span><br><span class="line">    <span class="comment">// 경도 1도는 약 111킬로미터. 위도 1도는 위도에 따라 변함.</span></span><br><span class="line">    <span class="comment">// 적도 (약 111 Km) ~ 극지방 (0 Km)</span></span><br><span class="line">    <span class="keyword">let</span> span = <span class="type">MKCoordinateSpan</span>(latitudeDelta: <span class="number">0.002</span>, longitudeDelta: <span class="number">0.002</span>)</span><br><span class="line">    <span class="keyword">let</span> region = <span class="type">MKCoordinateRegion</span>(center: coordinate, span: span)</span><br><span class="line">    mapView.setRegion(region, animated: <span class="literal">true</span>)</span><br><span class="line">    </span><br><span class="line">    addAnnotation(location: current)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">addAnnotation</span><span class="params">(location: CLLocation)</span></span> &#123;</span><br><span class="line">   <span class="keyword">let</span> annotation = <span class="type">MKPointAnnotation</span>()</span><br><span class="line">   annotation.title = <span class="string">"MyLocation"</span></span><br><span class="line">   annotation.coordinate = location.coordinate</span><br><span class="line">   mapView.addAnnotation(annotation)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>3-2. <strong>didChangeAuthorization</strong> 권한 확인(1.의 checkAuthorizationStatus부분.)<br>3-3. <strong>didUpdateLocations</strong>   로케이션(위치)의 정보를 받는곳<br>3-4. <strong>addAnnotation</strong>는 위치 라벨(네임) 가져오기.<br>3-5. <strong>span</strong>값 넓힐 수록 가까이됨. 뷰디드로드에 ( mapView.showsUserLocation = true)로 지정</p><h2 id="4.-showsuserlocation">4. showsUserLocation<a title="#4.-showsuserlocation" href="#4.-showsuserlocation"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mapView.showsUserLocation = <span class="literal">true</span></span><br><span class="line">mapView.mapType = .satellite</span><br></pre></td></tr></table></figure><p>4-1. 뷰디드로드에 showsUserLocation = true</p><h2 id="5.-방향-추가">5. 방향 추가<a title="#5.-방향-추가" href="#5.-방향-추가"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">//방향모니터값 가져오기</span></span><br><span class="line">  <span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">mornitoringHeading</span><span class="params">(<span class="number">_</span> sender: <span class="keyword">Any</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">guard</span> <span class="type">CLLocationManager</span>.headingAvailable() <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    locationManager.startUpdatingHeading()</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">stopMornitoring</span><span class="params">(<span class="number">_</span> sender: <span class="keyword">Any</span>)</span></span> &#123;</span><br><span class="line">    locationManager.stopUpdatingHeading()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>5-1. “방향모니터링”, “방향모니터링중단” Button의 모니터 방향값 가져오기.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//방향불러오는 함수</span></span><br><span class="line"> <span class="function"><span class="keyword">func</span> <span class="title">locationManager</span><span class="params">(<span class="number">_</span> manager: CLLocationManager, didUpdateHeading newHeading: CLHeading)</span></span> &#123;</span><br><span class="line">   <span class="built_in">print</span>(<span class="string">"trueHeading :"</span>, newHeading.trueHeading)  <span class="comment">// 진북(어디에서든 북쪽 고정)</span></span><br><span class="line">   <span class="built_in">print</span>(<span class="string">"magneticHeading :"</span>, newHeading.magneticHeading)  <span class="comment">// 자북 (자기장)</span></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>5-2. didUpdateHeading 이용</p><h2 id="6.기타">6.기타<a title="#6.기타" href="#6.기타"></a></h2><p><img src="/image/map10.png" alt="" class="φcx"></p><p>시뮬레이터에서 해당값을 지정하면, 달리는 모션으로 지도를 볼 수 있음.</p><p><img src="/image/map12.png" alt="" class="φcx"></p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> MapKit </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]HeaderView와 FooterView 이용예제</title>
      <link href="2020/06/21/Swift-HeaderView%EC%99%80-FooterView-%EC%9D%B4%EC%9A%A9%EC%98%88%EC%A0%9C/"/>
      <url>2020/06/21/Swift-HeaderView%EC%99%80-FooterView-%EC%9D%B4%EC%9A%A9%EC%98%88%EC%A0%9C/</url>
      
        <content type="html"><![CDATA[<p>오늘은 해더뷰와 푸터뷰 이용예제에 대해 알아보자 !</p><p>구현사항</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[ 문제 ]</span><br><span class="line">셀 크기 &#x3D; (80, 80) &#x2F; 아이템과 라인 간격 &#x3D; 4 &#x2F; 인셋 &#x3D; (25, 5, 25, 5)</span><br><span class="line">헤더 높이 50, 푸터 높이 3</span><br></pre></td></tr></table></figure><p>CollectionView와, 레이아웃 잡는 것, CollectionCell 크기 inset값 등은 생략 !</p><p>맨 아래 전체코드로 확인하기 !</p><h1 id="headerview적용-(with:collectionview)">HeaderView적용 (with:CollectionView)<a title="#headerview적용-(with:collectionview)" href="#headerview적용-(with:collectionview)"></a></h1><h2 id="1.-sectionheaderview-class만들기">1. SectionHeaderView class만들기<a title="#1.-sectionheaderview-class만들기" href="#1.-sectionheaderview-class만들기"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">SectionHeaderView</span>: <span class="title">UICollectionReusableView</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">let</span> identifier = <span class="string">"SectionHeaderView"</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">let</span> titleLabel = <span class="type">UILabel</span>()</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">    <span class="built_in">fatalError</span>(<span class="string">"init(coder:) has not been implemented"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="keyword">init</span>(frame: <span class="type">CGRect</span>) &#123;</span><br><span class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>(frame: frame)</span><br><span class="line">    setupView()</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">setupView</span><span class="params">()</span></span> &#123;</span><br><span class="line">    titleLabel.textColor = .darkText</span><br><span class="line">    titleLabel.textAlignment = .<span class="keyword">left</span></span><br><span class="line">    titleLabel.font = <span class="type">UIFont</span>.preferredFont(forTextStyle: .title1)</span><br><span class="line">    addSubview(titleLabel)</span><br><span class="line">    </span><br><span class="line">    titleLabel.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">    <span class="type">NSLayoutConstraint</span>.activate([</span><br><span class="line">      titleLabel.centerYAnchor.constraint(equalTo: <span class="keyword">self</span>.centerYAnchor),</span><br><span class="line">      titleLabel.centerXAnchor.constraint(equalTo: <span class="keyword">self</span>.centerXAnchor)</span><br><span class="line">    ])</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="comment">// MARK: Configure</span></span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">configure</span><span class="params">(title: String)</span></span> &#123;</span><br><span class="line">    titleLabel.text = title</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>1-1. 일단, 헤더뷰든 푸터뷰든 UICollectionReusableView를 만들어야한다. 헤더뷰에 대한 swift파일을 하나 만들어 class만들기.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">class SectionHeaderView: UICollectionReusableView &#123;</span><br></pre></td></tr></table></figure><p>1-2. 헤더뷰의 identifier이름과, 헤더뷰에 들어갈 titleLable을 선언.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">let</span> identifier = <span class="string">"SectionHeaderView"</span></span><br><span class="line"> <span class="keyword">private</span> <span class="keyword">let</span> titleLabel = <span class="type">UILabel</span>()</span><br></pre></td></tr></table></figure><p>1-3.  override init 부분은 titleLable의 frame에 대한 함수호출.</p> <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="keyword">init</span>(frame: <span class="type">CGRect</span>) &#123;</span><br><span class="line">   <span class="keyword">super</span>.<span class="keyword">init</span>(frame: frame)</span><br><span class="line">   setupView()</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h2 id="2.-layout">2. layout<a title="#2.-layout" href="#2.-layout"></a></h2><p>HeaderView 에 대한 설정은 끝났고, 메인 viewController로 돌아와,<br>컬렉션뷰 레이아웃 잡는 위치(레이아웃을 리턴하는 곳. return layout )에 해더뷰의 레이아웃도 함께 지정해준다. 헤더뷰는 어쨌든 컬렉션뷰 위에 놓는 거니까…</p><p>2-1 헤더뷰 레이아웃</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">layout.headerReferenceSize = <span class="type">CGSize</span>(width: <span class="number">50</span>, height: <span class="number">50</span>)</span><br></pre></td></tr></table></figure><p>2-2. 스크롤중 해당 해더뷰의 섹션값과 가까워질 때, 헤더뷰가 투명해지는 옵션 !</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">layout.sectionHeadersPinToVisibleBounds = <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>2-3. 리턴</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> layout</span><br></pre></td></tr></table></figure><h2 id="3.-register-지정">3. register 지정<a title="#3.-register-지정" href="#3.-register-지정"></a></h2><p>3-1. collectionView의 register를 지정했던 곳 아래에 register을 지정해준다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">collectionView.register(<span class="type">SectionHeaderView</span>.<span class="keyword">self</span>, forSupplementaryViewOfKind: <span class="type">UICollectionView</span>.elementKindSectionHeader, withReuseIdentifier: <span class="type">SectionHeaderView</span>.identifier)</span><br></pre></td></tr></table></figure><p>3-2. 첫번째, 해더뷰의 이름을 줄러준다. SectionHeaderView.self(1-2부분 참고.) 두번째, UICollectionView.elementKindSectionHeader, (UICollectionView에 elementKindSectionHeader을 둔다는 뜻. 아래 5-1부분 참고.) 세번째, withReuseIdentifier: SectionHeaderView.identifier. identifier 이름 넣기.</p><h2 id="4.-numberofsections-지정.">4. numberOfSections 지정.<a title="#4.-numberofsections-지정." href="#4.-numberofsections-지정."></a></h2><p>4-1. 알다시피, 우리는 collectionView 위에 헤더뷰를 놓는 거니까, UICollectionViewDataSource 부분에 numberOfSections(섹션 갯수)함수를 불러 지정.<br>(collectionView의 numberOfItemsInSection과 다르다 !!!😡 )</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// MARK: - UICollectionViewDataSource</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">SupplementaryViewController</span>: <span class="title">UICollectionViewDataSource</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">numberOfSections</span><span class="params">(<span class="keyword">in</span> collectionView: UICollectionView)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    sections.<span class="built_in">count</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>4-2.  sections.count는 아래의 데이터 부분을 참고하자.</p><p><img src="/image/header3.png" alt="" class="φcx"></p><p>대충 이해가 가죠??</p><h2 id="5.-header을-리턴..">5. header을 리턴…<a title="#5.-header을-리턴.." href="#5.-header을-리턴.."></a></h2><p><strong>집중!</strong></p><p>5-1. UICollectionReusableView를 리턴하는 함수가 있다!</p><p><strong>viewForSupplementaryElementOfKind</strong></p><p>헤더뷰와 푸터뷰를 리턴할 때 모두 사용.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(<span class="number">_</span> collectionView: UICollectionView, viewForSupplementaryElementOfKind kind: String, at indexPath: IndexPath)</span></span> -&gt; <span class="type">UICollectionReusableView</span> &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> header = collectionView.dequeueReusableSupplementaryView(ofKind: kind, withReuseIdentifier: <span class="string">"SectionHeaderView"</span>, <span class="keyword">for</span>: indexPath) <span class="keyword">as</span>! <span class="type">SectionHeaderView</span></span><br><span class="line">  </span><br><span class="line">  header.configure(title: <span class="string">"sections:\(indexPath.section + 1)"</span>)</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> header</span><br></pre></td></tr></table></figure><p>5-2. cellforrowitem에서 하는 것처럼 비슷하게 타입캐스팅 해주면 된다. ofKind는 kind 넣어주고, withReuseIdentifier는 해더뷰의 Identifier이름.<br>5-3.  header.configure(title: “sections:(indexPath.section + 1)”)은 indexPath.section만 할경우 섹션 0 부터 시작하므로, 1부터 시작하기 위해 +1해줬다.</p><p>그러면. ? 해더뷰에 대한 <strong>할일</strong>은 모두 했으니 빌드해보자.,</p><p><img src="/image/header1.png" alt=""> 짠…</p><p>아래로 내리면…?</p><p><img src="/image/header2.png" alt="" class="φcx"></p><p>2-2 에서 적용했던 layout.sectionHeadersPinToVisibleBounds = true 으로 투명해지는 모습까지 확인할 수 있다. 🤤</p><p>해더 뷰를 끝냈으니, 빨간색 점선의 FooterView도 적용해 보자!</p><h1 id="footerview적용-(with:collectionview)">FooterView적용 (with:CollectionView)<a title="#footerview적용-(with:collectionview)" href="#footerview적용-(with:collectionview)"></a></h1><p>사실, 과정은 headerview와 거의 동일하다 ㅋㅋ</p><p>위를 참고하며 보기 !</p><h2 id="class-sectionfooterview">Class SectionFooterView<a title="#class-sectionfooterview" href="#class-sectionfooterview"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SectionFoorterView</span>: <span class="title">UICollectionReusableView</span> </span>&#123;</span><br><span class="line"> </span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">let</span> identifire = <span class="string">"SectionFoorterView"</span></span><br><span class="line">  <span class="keyword">let</span> foorterLable = <span class="type">UILabel</span>()</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">    <span class="built_in">fatalError</span>(<span class="string">"init(coder:) has not been implemented"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="keyword">init</span>(frame: <span class="type">CGRect</span>) &#123;</span><br><span class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>(frame: frame)</span><br><span class="line">   setupView()</span><br><span class="line"> </span><br><span class="line">  &#125;</span><br><span class="line"> </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">setupView</span><span class="params">()</span></span> &#123;</span><br><span class="line">    </span><br><span class="line">    foorterLable.backgroundColor = .systemGray</span><br><span class="line">    foorterLable.textColor = .black</span><br><span class="line">    foorterLable.textAlignment = .<span class="keyword">right</span></span><br><span class="line">   <span class="comment">// foorterLable.font = UIFont.boldSystemFont(ofSize: 17)</span></span><br><span class="line">    addSubview(foorterLable)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    foorterLable.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">    foorterLable.topAnchor.constraint(equalTo: <span class="keyword">self</span>.topAnchor).isActive = <span class="literal">true</span></span><br><span class="line">    foorterLable.leadingAnchor.constraint(equalTo: <span class="keyword">self</span>.leadingAnchor).isActive = <span class="literal">true</span></span><br><span class="line">    foorterLable.bottomAnchor.constraint(equalTo: <span class="keyword">self</span>.bottomAnchor).isActive = <span class="literal">true</span></span><br><span class="line">    foorterLable.trailingAnchor.constraint(equalTo: <span class="keyword">self</span>.trailingAnchor).isActive = <span class="literal">true</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">configure</span><span class="params">(title: String)</span></span> &#123;</span><br><span class="line">    foorterLable.text = title</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> CollectionView </tag>
            
            <tag> HeaderView </tag>
            
            <tag> FooterView </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]Slider 이용예제(with: CollectionView)</title>
      <link href="2020/06/18/Swift-Slider-%EC%9D%B4%EC%9A%A9%EC%98%88%EC%A0%9C/"/>
      <url>2020/06/18/Swift-Slider-%EC%9D%B4%EC%9A%A9%EC%98%88%EC%A0%9C/</url>
      
        <content type="html"><![CDATA[<h2 id="1.-slider-만들기">1. Slider 만들기<a title="#1.-slider-만들기" href="#1.-slider-만들기"></a></h2><p><img src="/image/slider5.png" alt="" class="φcx"></p><p>흔히 이용하는 sliderBar를 만들어보자 !</p><p><a href="https://developer.apple.com/documentation/uikit/uislider" target="_blank">[애플문서 바로가기&gt;&gt;]</a></p><p>sliderBar에 대해 깊게 공부하고 싶다면 아래 링크의 애플문서를 참고하자 !</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">BasicCodeViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="comment">// MARK: LifeCycle</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line">    setupSliders()</span><br><span class="line">    setupNavigationItem()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// MARK: Setup Views</span></span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">setupSliders</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">// 셀 크기 조절</span></span><br><span class="line">    <span class="keyword">let</span> sizeSlider = <span class="type">UISlider</span>()</span><br><span class="line">    sizeSlider.minimumValue = <span class="number">10</span></span><br><span class="line">    sizeSlider.maximumValue = <span class="number">200</span></span><br><span class="line">    sizeSlider.value = <span class="number">50</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 셀 간격 조절</span></span><br><span class="line">    <span class="keyword">let</span> spacingSlider = <span class="type">UISlider</span>()</span><br><span class="line">    spacingSlider.minimumValue = <span class="number">0</span></span><br><span class="line">    spacingSlider.maximumValue = <span class="number">50</span></span><br><span class="line">    spacingSlider.value = <span class="number">10</span></span><br><span class="line">    spacingSlider.tag = <span class="number">1</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 셀 외부여백 조절 </span></span><br><span class="line">    <span class="keyword">let</span> edgeSlider = <span class="type">UISlider</span>()</span><br><span class="line">    edgeSlider.minimumValue = <span class="number">0</span></span><br><span class="line">    edgeSlider.maximumValue = <span class="number">50</span></span><br><span class="line">    edgeSlider.value = <span class="number">10</span></span><br><span class="line">    edgeSlider.tag = <span class="number">2</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> sliders = [sizeSlider, spacingSlider, edgeSlider]</span><br><span class="line">    sliders.forEach &#123;</span><br><span class="line">      $<span class="number">0</span>.addTarget(<span class="keyword">self</span>, action: #selector(editLayout), <span class="keyword">for</span>: .valueChanged)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//스택뷰</span></span><br><span class="line">      <span class="keyword">let</span> stackView = <span class="type">UIStackView</span>(arrangedSubviews: sliders)</span><br><span class="line">      view.addSubview(stackView)</span><br><span class="line">      stackView.axis = .vertical <span class="comment">//가로.세로</span></span><br><span class="line">      stackView.alignment = .fill <span class="comment">//정렬</span></span><br><span class="line">      stackView.spacing = <span class="number">10</span> <span class="comment">//슬라이더간의 간격</span></span><br><span class="line">      </span><br><span class="line">      <span class="comment">//스택뷰 오토레이아웃</span></span><br><span class="line">      stackView.translatesAutoresizingMaskIntoConstraints = <span class="literal">false</span></span><br><span class="line">      <span class="type">NSLayoutConstraint</span>.activate([</span><br><span class="line">        stackView.centerXAnchor.constraint(equalTo: view.centerXAnchor),</span><br><span class="line">        stackView.topAnchor.constraint(equalTo: view.safeAreaLayoutGuide.topAnchor, constant: <span class="number">10</span>),</span><br><span class="line">        stackView.widthAnchor.constraint(equalToConstant: <span class="number">300</span>)</span><br><span class="line">      ])</span><br><span class="line">      controllerStackView = stackView</span><br><span class="line"> </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>1-1.     <code>let sizeSlider = UISlider()</code> 로 Slider를 만들어준다.<br>1-2. Slider의 minimumValue 는 최소값, maximumValue 최대값이다.<br>1-3. Slider의 현재값(value)을 지정해 놓을 수 있다.<br>1-4. 여러개가 필요한 경우 tag로 구분해준다.<br>1-5. addTarget을 해준다. 슬라이더에 따라 값 변경이 필요한 경우 .valueChanged를 이용한다. (여러개인 경우 forEach를 활용하여 코드 수를 줄이자!)<br>1-6. 아래 스택뷰는, slider의 위치를 stackView로 잡고, stackView의 오토레이아웃까지 잡아준 모습.</p><h2 id="2.-slider-value지정">2. Slider value지정<a title="#2.-slider-value지정" href="#2.-slider-value지정"></a></h2><p>1-5. 의 addTarget시 이용한 editLayout을 보자.<br>.valueChanged값을 변경하는 것으로 지정한건데, '무엇을?'을 지정해주지 않았다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//에디팅 레이아웃</span></span><br><span class="line"><span class="meta">@objc</span> <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">editLayout</span><span class="params">(<span class="number">_</span> sender: UISlider)</span></span> &#123;</span><br><span class="line">  <span class="keyword">let</span> layout = collectionView.collectionViewLayout <span class="keyword">as</span>! <span class="type">UICollectionViewFlowLayout</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> sender.tag == <span class="number">0</span> &#123; <span class="comment">//셀크기</span></span><br><span class="line">    <span class="keyword">let</span> size = <span class="type">CGFloat</span>(sender.value)</span><br><span class="line">    layout.itemSize = <span class="type">CGSize</span>(width: size, height: size)</span><br><span class="line">  &#125;<span class="keyword">else</span> <span class="keyword">if</span> sender.tag == <span class="number">1</span> &#123; <span class="comment">//셀간격</span></span><br><span class="line">    layout.minimumLineSpacing = <span class="type">CGFloat</span>(sender.value) <span class="comment">//value?</span></span><br><span class="line">    layout.minimumInteritemSpacing = <span class="type">CGFloat</span>(sender.value)</span><br><span class="line">  &#125;<span class="keyword">else</span> &#123; <span class="comment">//외부여백</span></span><br><span class="line">    <span class="keyword">let</span> v = <span class="type">CGFloat</span>(sender.value)</span><br><span class="line">    <span class="keyword">let</span> inset = <span class="type">UIEdgeInsets</span>(top: v, <span class="keyword">left</span>: v, bottom: v, <span class="keyword">right</span>: v)</span><br><span class="line">    layout.sectionInset = inset</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2-1. 먼저, Slider값에 따라 CollectionView의 layout값을 바꿔줄 것이기 때문에 layout을 불러온다.</p><figure class="highlight plain"><figcaption><span>layout </span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">2-2. 조건문을 이용하여, 첫번째 Slider의 경우, 두번째 Slider의 경우, 세번째 Slider의 경우, 값변경을 어떻게 줄건지 선언한다. </span><br><span class="line">2-3. tag &#x3D;&#x3D; 0의 경우, 셀 크기를 달리하는 영역이다. </span><br><span class="line"></span><br><span class="line">&#96;&#96;&#96;let size &#x3D; CGFloat(sender.value)</span><br></pre></td></tr></table></figure><p>로 선언하고, 이 후  layout의 itemSize가 CGSize(width: size, height: size)<br>value값에 따라 CGSize가 유동적으로 바뀌도록 한다.<br>tag == 1 은 셀의 간격, tag == 2(else로 처리)는 외부 여백을 뜻한다.</p><p>2-4. sectionInset은 섹션 안에 여백을 얼마나 줄 것인가. 에 대한 문제.</p><p>그러면 ?</p><p><img src="/image/slider1.png" alt="" class="φcx"></p><p>여기까지는 나온다.<br>그런데 Slider를 조절하려하면 팅긴다.<br>그리고 Cell은 어디갔지? 할 수 있는데</p><p>우리, 애초에 Cell을 안만들어 줬자냐, 😅🤪 !!</p><p>Cell 만들러 고고 !</p><h2 id="3.-cell-만들고-layout잡기">3. Cell 만들고 layout잡기<a title="#3.-cell-만들고-layout잡기" href="#3.-cell-만들고-layout잡기"></a></h2><p>셀을 호다닥 만든다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">BasicCodeViewController</span>: <span class="title">UICollectionViewDataSource</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(<span class="number">_</span> collectionView: UICollectionView, numberOfItemsInSection section: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> itemCount</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(<span class="number">_</span> collectionView: UICollectionView, cellForItemAt indexPath: IndexPath)</span></span> -&gt; <span class="type">UICollectionViewCell</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> cell = collectionView.dequeueReusableCell(withReuseIdentifier: <span class="string">"Cell"</span>, <span class="keyword">for</span>: indexPath)</span><br><span class="line">    cell.backgroundColor = [.red, .green, .blue, .magenta, .gray, .cyan ].randomElement()</span><br><span class="line">    <span class="keyword">return</span> cell</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3-1. UICollectionViewDataSource에 numberOfItemsInSection와 cellForItemAt 코드 구성.</p><p>3-2. itemCount = 100 이다.</p><p>3-3. Cell의 backgroundColor는 베열중 랜덤으로 실행 되도록 .randomElement 이용.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">setupCollectionView</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">let</span> layout = <span class="type">UICollectionViewFlowLayout</span>()</span><br><span class="line">  layout.itemSize = <span class="type">CGSize</span>(width: <span class="number">60</span>, height: <span class="number">60</span>)   <span class="comment">// 기본값 (50, 50)</span></span><br><span class="line">  layout.minimumInteritemSpacing = <span class="number">10</span>  <span class="comment">// 기본값 10</span></span><br><span class="line">  layout.minimumLineSpacing = <span class="number">20</span>   <span class="comment">// 기본값 10</span></span><br><span class="line">  layout.sectionInset = <span class="type">UIEdgeInsets</span>(top: <span class="number">5</span>, <span class="keyword">left</span>: <span class="number">5</span>, bottom: <span class="number">5</span>, <span class="keyword">right</span>: <span class="number">5</span>)  <span class="comment">// .zero</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  collectionView = <span class="type">UICollectionView</span>(frame: view.frame, collectionViewLayout: layout)</span><br><span class="line">  collectionView.backgroundColor = .systemBackground</span><br><span class="line">  collectionView.dataSource = <span class="keyword">self</span></span><br><span class="line">  collectionView.register(<span class="type">UICollectionViewCell</span>.<span class="keyword">self</span>, forCellWithReuseIdentifier: <span class="string">"Cell"</span>)</span><br><span class="line">  view.addSubview(collectionView)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//콜렉션뷰 오토레이아웃</span></span><br><span class="line">  collectionView.translatesAutoresizingMaskIntoConstraints.toggle()</span><br><span class="line">  <span class="type">NSLayoutConstraint</span>.activate([</span><br><span class="line">    collectionView.topAnchor.constraint(equalTo: controllerStackView.bottomAnchor, constant: <span class="number">10</span>),</span><br><span class="line">    collectionView.leadingAnchor.constraint(equalTo: view.leadingAnchor),</span><br><span class="line">    collectionView.bottomAnchor.constraint(equalTo: view.bottomAnchor),</span><br><span class="line">    collectionView.trailingAnchor.constraint(equalTo: view.trailingAnchor),</span><br><span class="line">  ])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3-4.  CollercionView는 꼭 UICollectionViewFlowLayout을 지정해줘야만 한다.</p><p>3-5.  CollercionView의 프레임은 위에 잡은 FlowLayout을 따르도록 한다. (collectionView = UICollectionView(frame: view.frame, collectionViewLayout: layout)</p><p>3-6.  CollectionView의 register와 오토레이아웃도 잊지 않고 잡아준다.</p><p>그러면 ? ?</p><p><img src="/image/collection12.png" alt="" class="φcx"></p><p>이렇게 나온다 !</p><p>슬라이더 값을 다르게 주면 ?</p><p><img src="/image/slider4.png" alt="" class="φcx"></p><p>이런식으로 조절가능 ! (셀크기를 제일 줄인 모습.)</p><h2 id="4.-slider-color지정">4. Slider Color지정<a title="#4.-slider-color지정" href="#4.-slider-color지정"></a></h2><p>그리고 애플문서를 참고해보니 silder에 custom Image나 여러 animation도 추가 할 수 있는 것 같다.</p><p>그 중 간단해 보이는 색을 지정해보도록 하자 !!</p><p>🤨</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> sliders = [sizeSlider, spacingSlider, edgeSlider]</span><br><span class="line">   sliders.forEach &#123;</span><br><span class="line">     <span class="comment">//$0.minimumTrackTintColor = .brown //왼</span></span><br><span class="line">     <span class="comment">//$0.maximumTrackTintColor = .yellow //오</span></span><br><span class="line">     <span class="comment">//$0.thumbTintColor = .black //버튼</span></span><br><span class="line">     $<span class="number">0</span>.addTarget(<span class="keyword">self</span>, action: #selector(editLayout), <span class="keyword">for</span>: .valueChanged)</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>4-1. slider의 addTaget을 잡아준, forEach에서 색을 추가한다. (주석 처리된 곳.)<br>4-2. minimumTrackTintColor 왼쪽,  maximumTrackTintColor 오른쪽 , thumbTintColor 슬라이더 버튼 색을 담당한다.</p><p><img src="/image/slider6.png" alt="" class="φcx"></p><p>추가된 모습… ㅋㅋ…</p><p>아무리 기본으로 했다지만, 색이 너무 안예쁘다…</p><h2 id="5.-(bonus)-navigationbar에--scrolldirection추가하기.">5. (Bonus) NavigationBar에  scrollDirection추가하기.<a title="#5.-(bonus)-navigationbar에--scrolldirection추가하기." href="#5.-(bonus)-navigationbar에--scrolldirection추가하기."></a></h2><h3 id="navigationitem-달기.">NavigationItem 달기.<a title="#navigationitem-달기." href="#navigationitem-달기."></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">setupNavigationItem</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="keyword">let</span> changDirection = <span class="type">UIBarButtonItem</span>(</span><br><span class="line">    barButtonSystemItem: .reply, target: <span class="keyword">self</span>, action: #selector(changeCollectionViewDirection(<span class="number">_</span>:))</span><br><span class="line">  )</span><br><span class="line">  navigationItem.rightBarButtonItems = [changDirection]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="scrolldirection">scrollDirection<a title="#scrolldirection" href="#scrolldirection"></a></h3><p>UIScrollView는 스크롤 방향을 얻는 방법<br>scrollDirection은 스크롤 방향에 대한 문의.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@objc</span> <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">changeCollectionViewDirection</span><span class="params">(<span class="number">_</span> sender: <span class="keyword">Any</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">let</span> layout = collectionView.collectionViewLayout <span class="keyword">as</span>! <span class="type">UICollectionViewFlowLayout</span></span><br><span class="line">    <span class="keyword">let</span> current = layout.scrollDirection</span><br><span class="line">    layout.scrollDirection = current == .horizontal ? .vertical : .horizontal</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>current 버튼을 누를때마다, .horizontal 인경우, .vertical로 바뀌고, vertical은 horizontal로 체인지 됨.</li></ul><p><img src="/image/slider7.png" alt="" class="φcx"></p><p>horizontal 로 변경된 모습 !!</p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> CollectionView </tag>
            
            <tag> Slider </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]CollectionView 이해하기</title>
      <link href="2020/06/16/Swift-CollectionView-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0/"/>
      <url>2020/06/16/Swift-CollectionView-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<h3 id="collectionview와-layout-구조">collectionView와 layout 구조<a title="#collectionview와-layout-구조" href="#collectionview와-layout-구조"></a></h3><p><img src="/image/collec.png" alt="" class="φcx"></p><h3 id="collectionview-와-tableview-차이">collectionView 와 TableView 차이<a title="#collectionview-와-tableview-차이" href="#collectionview-와-tableview-차이"></a></h3><p><img src="/image/collec1.png" alt="" class="φcx"></p><h3 id="flow-layout-와-custom-layout">Flow Layout 와 Custom Layout<a title="#flow-layout-와-custom-layout" href="#flow-layout-와-custom-layout"></a></h3><p><img src="/image/collec2.png" alt="" class="φcx"></p><h2 id="collectionview-이해하기">Collectionview 이해하기<a title="#collectionview-이해하기" href="#collectionview-이해하기"></a></h2><h2 id="0.-cell-만들기.">0. Cell 만들기.<a title="#0.-cell-만들기." href="#0.-cell-만들기."></a></h2><p><img src="/image/collection.png" alt="" class="φcx"></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">BasicStoryboardViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">private</span> <span class="keyword">weak</span> <span class="keyword">var</span> collectionView: <span class="type">UICollectionView!</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> parkImages = <span class="type">ParkManager</span>.imageNames(of: .nationalPark)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//MARK: -UICollectionViewDataSource</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">BasicStoryboardViewController</span>: <span class="title">UICollectionViewDataSource</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(<span class="number">_</span> collectionView: UICollectionView, numberOfItemsInSection section: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> parkImages.<span class="built_in">count</span> * <span class="number">3</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">collectionView</span><span class="params">(<span class="number">_</span> collectionView: UICollectionView, cellForItemAt indexPath: IndexPath)</span></span> -&gt; <span class="type">UICollectionViewCell</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> cell = collectionView.dequeueReusableCell(withReuseIdentifier: <span class="string">"BasicCell"</span>, <span class="keyword">for</span>: indexPath)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> imageView = cell.contentView.subviews.first <span class="keyword">as</span>? <span class="type">UIImageView</span> &#123;</span><br><span class="line">      imageView.image = <span class="type">UIImage</span>(named: parkImages[indexPath.item % parkImages.<span class="built_in">count</span>])</span><br><span class="line">      cell.layer.cornerRadius = cell.frame.width / <span class="number">2</span></span><br><span class="line">    &#125;</span><br><span class="line">    cell.backgroundColor = .green</span><br><span class="line">    <span class="keyword">return</span> cell</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>TableVikew와 동일하게 numberOfItemsInSection, cellForItemAt 이용. (TableView는 CellForRowAt이다.)</li></ol><h2 id="1.-cell등록-(sb와-연동)">1. Cell등록 (SB와 연동)<a title="#1.-cell등록-(sb와-연동)" href="#1.-cell등록-(sb와-연동)"></a></h2><p><img src="/image/collection7.png" alt="" class="φcx"></p><ol><li>iteme 올리기</li></ol><p><img src="/image/collection8.png" alt="" class="φcx"></p><ol><li>Cell의 identified 지정</li></ol><h2 id="2.cell-size(collection-view-flow-layout)">2.Cell Size(Collection View Flow Layout)<a title="#2.cell-size(collection-view-flow-layout)" href="#2.cell-size(collection-view-flow-layout)"></a></h2><p><img src="/image/collection2.png" alt="" class="φcx"></p><ol><li>CellSize  변경</li><li>결과<br><img src="/image/collection1.png" alt=""></li></ol><h2 id="3.cell-margin(collectionview---section-insets)">3.Cell margin(CollectionView - Section Insets)<a title="#3.cell-margin(collectionview---section-insets)" href="#3.cell-margin(collectionview---section-insets)"></a></h2><p><img src="/image/collection3.png" alt="" class="φcx"></p><ol><li>top, bottom, left, right 에 margin 입력</li><li>결과</li></ol><p><img src="/image/collection4.png" alt="" class="φcx"></p><h2 id="4.-collectionview(layout)-방향">4. CollectionView(Layout) 방향<a title="#4.-collectionview(layout)-방향" href="#4.-collectionview(layout)-방향"></a></h2><p><img src="/image/collection5.png" alt="" class="φcx"></p><ol><li>Vertical 은 가로, Horizontal은 세로.</li><li>결과</li></ol><p><img src="/image/collection6.png" alt="" class="φcx"></p><p>이해를 돕기위해 스토리보드를 사용했고, 기본적인 요소는 이정도 인 듯 하다.</p><p>Code로 직접 CollectionView를 짜고자 한다면 아래 링크를 참고하자.</p><p><a href="">[–&gt; Code로 직접 구현하기.]</a></p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> CollectionView </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]TableView 목록 수정,삭제 기능 추가하기(Editing)</title>
      <link href="2020/06/16/Swift-TableView-%EB%AA%A9%EB%A1%9D-%EC%88%98%EC%A0%95-%EC%82%AD%EC%A0%9C-%EA%B8%B0%EB%8A%A5-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0-Editing/"/>
      <url>2020/06/16/Swift-TableView-%EB%AA%A9%EB%A1%9D-%EC%88%98%EC%A0%95-%EC%82%AD%EC%A0%9C-%EA%B8%B0%EB%8A%A5-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0-Editing/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>[Swift}WebKit 사용하기</title>
      <link href="2020/06/07/Swift-WebKit-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0-1/"/>
      <url>2020/06/07/Swift-WebKit-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0-1/</url>
      
        <content type="html"><![CDATA[<h2 id="사용예제">사용예제<a title="#사용예제" href="#사용예제"></a></h2><h3 id="1.-webkit-임포트,-url-지정">1. Webkit 임포트, url 지정<a title="#1.-webkit-임포트,-url-지정" href="#1.-webkit-임포트,-url-지정"></a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">import UIKit</span><br><span class="line">import WebKit</span><br><span class="line">class ViewController: UIViewController, WKUIDelegate &#123;</span><br><span class="line">    </span><br><span class="line">    var webView: WKWebView!</span><br><span class="line">    </span><br><span class="line">    override func loadView() &#123;</span><br><span class="line">        let webConfiguration &#x3D; WKWebViewConfiguration()</span><br><span class="line">        webView &#x3D; WKWebView(frame: .zero, configuration: webConfiguration)</span><br><span class="line">        webView.uiDelegate &#x3D; self</span><br><span class="line">        view &#x3D; webView</span><br><span class="line">    &#125;</span><br><span class="line">    override func viewDidLoad() &#123;</span><br><span class="line">        super.viewDidLoad()</span><br><span class="line">        </span><br><span class="line">        let myURL &#x3D; URL(string:&quot;https:&#x2F;&#x2F;www.apple.com&quot;)</span><br><span class="line">        let myRequest &#x3D; URLRequest(url: myURL!)</span><br><span class="line">        webView.load(myRequest)</span><br><span class="line">    &#125;&#125;</span><br></pre></td></tr></table></figure><ul><li>let myURL = URL(string:“불러올 페이지 url주소”)</li><li>myRequest는 myURL를 URLRequest로 변경한다.</li><li>웹뷰 로드.</li></ul><p>일단 나는 요즘 1일1깡을 하기 위해 깡을 불러와봤다.</p><p><img src="/image/webview.png" alt="" class="φcx"></p><p>혹시 안되시는 분들은 권한설정도 확인해보자 (아래의 것이 수행되어야 웹킷을 사용할 수 있다.)</p><h3 id="2.-권한설정">2. 권한설정<a title="#2.-권한설정" href="#2.-권한설정"></a></h3><p><img src="/image/webview2.png" alt="" class="φcx"></p><ul><li>2-1. Webkit framework가져오기 (패키지 가져오는 것이라 생각 .h로 구성되어있음)</li></ul><p><img src="/image/webview3.png" alt="" class="φcx"></p><ul><li>2-2. 사용자 인터넷연결 허용하기(info.plist에 들어가 권한설정.)</li><li>Information Property List 에 (+)추가하여 “App Transport Security Settings” 항목 만든후 아래 하위 목록으로 “Allow Arbitrary Loads” 생성 - Value는 대문자 &quot;YES&quot;로 지정</li></ul><h3 id="이-후">이 후<a title="#이-후" href="#이-후"></a></h3><ul><li>webkit을 불러오는 건 쉬운데, 그것으로 끝나는게 아니라, 이게 시작이다 ㅋㅋ.</li><li>무슨말이냐 하면, 결국 webview를 사용자가 편리하게 이요하기 위해선, back버튼이라던가, 새로고침, 뷰크기설정등, 다양한 인터페이스를 제공하려면,  WKUIDelegate, WKNavigationDelegate, WKScriptMessageHandler등을 통해 결국 조작을 해줘야한다는 것이다.<br>(이에 대한 내용은, [Swift}WebKit 사용하기-2’에 다뤄볼 생각이다. )</li></ul><p>여기서 내가 원하는 것은</p><ul><li>깡 자동재생</li><li>재생시 풀화면 중단</li><li>유튜브처럼 내리는 제스처 이용시 영상이 작은뷰로 생성되면서 아래로 내려감.</li><li>플로팅 버튼 생성(버튼 누르면 my캘린더에 +1깡씩 )</li></ul><h3 id="나의-현재코드">나의 현재코드<a title="#나의-현재코드" href="#나의-현재코드"></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"><span class="keyword">import</span> WebKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">WebViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="keyword">var</span> webView: <span class="type">WKWebView!</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">loadView</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">let</span> webConfiguration = <span class="type">WKWebViewConfiguration</span>()</span><br><span class="line">    webView = <span class="type">WKWebView</span>(frame: .zero, configuration: webConfiguration)</span><br><span class="line">    webView.uiDelegate = <span class="keyword">self</span></span><br><span class="line">    view = webView</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line">    </span><br><span class="line">    view.backgroundColor = .black</span><br><span class="line">    </span><br><span class="line">    loadUrl()</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">loadUrl</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">let</span> myURL = <span class="type">URL</span>(string:<span class="string">"https://m.youtube.com/watch?v=xqFvYsy4wE4"</span>)</span><br><span class="line">    <span class="keyword">let</span> myRequest = <span class="type">URLRequest</span>(url: myURL!)</span><br><span class="line">    </span><br><span class="line">    webView.configuration.allowsInlineMediaPlayback = <span class="literal">true</span></span><br><span class="line">  <span class="comment">//  webView.allowsInlineMediaPlayback = YES</span></span><br><span class="line">    webView.load(myRequest)</span><br><span class="line">   &#125;</span><br><span class="line">  </span><br><span class="line">  &#125;</span><br><span class="line">  `</span><br></pre></td></tr></table></figure><p>어제 밤을 새서 오늘 낮인데도 졸리다…</p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> Webkit </tag>
            
            <tag> WKWebView </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]3D touch 이용예제</title>
      <link href="2020/06/03/Swift-3D-touch-%EC%9D%B4%EC%9A%A9%EC%98%88%EC%A0%9C/"/>
      <url>2020/06/03/Swift-3D-touch-%EC%9D%B4%EC%9A%A9%EC%98%88%EC%A0%9C/</url>
      
        <content type="html"><![CDATA[<p><a href="https://www.youtube.com/watch?v=x7vuwcU687Y" target="_blank">[동영상 보기]</a></p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> 3D touch </tag>
            
            <tag> UIAction </tag>
            
            <tag> UIContextMenuInteraction </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]Storyboard사용하지 않고 Project 사용하기</title>
      <link href="2020/06/03/Swift-Stortboard%EC%9D%B4%EC%9A%A9%ED%95%98%EC%A7%80-%EC%95%8A%EA%B3%A0-Xcode%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/"/>
      <url>2020/06/03/Swift-Stortboard%EC%9D%B4%EC%9A%A9%ED%95%98%EC%A7%80-%EC%95%8A%EA%B3%A0-Xcode%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<p>이제 슬슬 스토리보드 없는 환경에 익숙해져야한다.</p><p>스토리보드를 이용하지 않는 이유는 간단하다.</p><ul><li>보다 수월한 협업</li><li>ios12이하는 SceneDelegate를 지원하지 않았던 환경을 참고.</li></ul><p>스토리보드를 이용하지 않는 방법은 2가지가 있다.</p><h2 id="appdelegate만-이용하기.(ios12이하는-appdelegate만-있다.)">AppDelegate만 이용하기.(ios12이하는 AppDelegate만 있다.)<a title="#appdelegate만-이용하기.(ios12이하는-appdelegate만-있다.)" href="#appdelegate만-이용하기.(ios12이하는-appdelegate만-있다.)"></a></h2><p>이 말은 즉슨,<br>취직하고 해당 회사에 AppDelegate만 있을 경우가 있다. :)<br>아래를 참고하자.</p><h3 id="0.-project-만들기">0. Project 만들기<a title="#0.-project-만들기" href="#0.-project-만들기"></a></h3><h3 id="1.-main-interface-에서-main-지우기">1. Main Interface 에서 Main 지우기<a title="#1.-main-interface-에서-main-지우기" href="#1.-main-interface-에서-main-지우기"></a></h3><p><img src="/image/win5.png" alt="" class="φcx"></p><h3 id="2.--info.plist-에서-application-scene-menifest-모두-삭제.">2.  info.plist 에서 Application Scene Menifest 모두 삭제.<a title="#2.--info.plist-에서-application-scene-menifest-모두-삭제." href="#2.--info.plist-에서-application-scene-menifest-모두-삭제."></a></h3><p><img src="/image/win4.png" alt="" class="φcx"></p><h3 id="3.-mainstoryboard-지우기">3. MainStoryboard 지우기<a title="#3.-mainstoryboard-지우기" href="#3.-mainstoryboard-지우기"></a></h3><p><img src="/image/win.png" alt="" class="φcx"></p><h3 id="4.-scenedelegate-지우기">4. SceneDelegate 지우기<a title="#4.-scenedelegate-지우기" href="#4.-scenedelegate-지우기"></a></h3><p><img src="/image/win1.png" alt="" class="φcx"></p><h3 id="5.-appdelegate의-uiscenesession-lifecycle-지우기">5. AppDelegate의 UISceneSession Lifecycle 지우기<a title="#5.-appdelegate의-uiscenesession-lifecycle-지우기" href="#5.-appdelegate의-uiscenesession-lifecycle-지우기"></a></h3><p><img src="/image/win2.png" alt="" class="φcx"></p><h3 id="5.-appdelegate에-window-작업하기">5. AppDelegate에 window 작업하기<a title="#5.-appdelegate에-window-작업하기" href="#5.-appdelegate에-window-작업하기"></a></h3><p><img src="/image/win3.png" alt="" class="φcx"></p><h2 id="scenedelegate-이용하기">SceneDelegate 이용하기<a title="#scenedelegate-이용하기" href="#scenedelegate-이용하기"></a></h2><p><img src="/image/scene.png" alt="" class="φcx"></p><ol><li>guard let _ (와일드카드) 표시된 곳, scene으로 바꾸기.</li><li>rootview 지정. (위 사진은 navigationController가 있는 모습이고, 없다면,<br>winfow?.rootviewController = ViewController() 만 해주면된다. 여기서, ViewController() 는 처음 시작하고 싶은 화면(콘트롤러로)으로 지정.</li></ol>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> Xcode </tag>
            
            <tag> No Storyboard </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]UIImagePickerController 이해하기</title>
      <link href="2020/06/02/Swift-UIImagePiker-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0/"/>
      <url>2020/06/02/Swift-UIImagePiker-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="사전작업">사전작업<a title="#사전작업" href="#사전작업"></a></h2><h3 id="uiimagepickercontroller">UIImagePickerController<a title="#uiimagepickercontroller" href="#uiimagepickercontroller"></a></h3><ul><li><code>let imagePiker = UIImagePickerController()</code> 로도 쓸 수 있지만, 뷰디드로드로 하기엔 delegate =.self 선언 할 것이 한개 밖에 없을 때. lazy를 이용하여 간편하게 코드를 짤 수도 있다. 아래 코으 참고.(delegate와 UIImagePickerController선언 함께 사용하기)</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">private</span> <span class="keyword">weak</span> <span class="keyword">var</span> imageView: <span class="type">UIImageView!</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">private</span> <span class="built_in">lazy</span> <span class="keyword">var</span> imagePicker: <span class="type">UIImagePickerController</span> = &#123;</span><br><span class="line">  <span class="keyword">let</span> imagePiker = <span class="type">UIImagePickerController</span>()</span><br><span class="line">    imagePiker.delegate = <span class="keyword">self</span></span><br><span class="line">    <span class="keyword">return</span> imagePiker</span><br><span class="line">&#125;()</span><br></pre></td></tr></table></figure><h2 id="실습-들어가기">실습 들어가기<a title="#실습-들어가기" href="#실습-들어가기"></a></h2><h2 id="1.-앨범">1. 앨범<a title="#1.-앨범" href="#1.-앨범"></a></h2><h3 id="1-1.-앨범-타입-지정">1-1. 앨범 타입 지정<a title="#1-1.-앨범-타입-지정" href="#1-1.-앨범-타입-지정"></a></h3><ul><li>imagePicker.sourceType</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.앨범</span></span><br><span class="line"><span class="meta">@IBAction</span> <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">pickImage</span><span class="params">(<span class="number">_</span> sender: <span class="keyword">Any</span>)</span></span> &#123;</span><br><span class="line">   </span><br><span class="line">    imagePicker.sourceType = .photoLibrary <span class="comment">//포토라이브러리는 앨범선택하는 화면 보여줌.</span></span><br><span class="line">  <span class="comment">//imagePicker.sourceType = .savedPhotosAlbum //최근에 찍은 사진 위주로 보여줌.</span></span><br><span class="line">   present(imagePicker, animated:  <span class="literal">true</span>)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p><img src="/image/piker1.png" alt="" class="φcx"></p><h3 id="1-2.-앨범-didcancel-및--didfinishpickingmediawithinfo.">1-2. 앨범 DidCancel 및  didFinishPickingMediaWithInfo.<a title="#1-2.-앨범-didcancel-및--didfinishpickingmediawithinfo." href="#1-2.-앨범-didcancel-및--didfinishpickingmediawithinfo."></a></h3><ul><li>UIImagePickerControllerDelegate 이용, 네비게이션 바 이용하는 경우, UINavigationControllerDelegate 함께 필요.</li><li>imagePickerControllerDidCancel 와 didFinishPickingMediaWithInfo중 쓰임새에 따라 선택하여 사용.</li><li>dismiss는 필수인데, picker.presentingViewController?.dismiss(animated: true) 나, dismiss(animated: true)중에서 택하여 사용</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//MARK:- UIImagePickerControllerDelegate</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">ViewController</span>: <span class="title">UIImagePickerControllerDelegate</span>, <span class="title">UINavigationControllerDelegate</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//닫기만 할 때는 생략가능. 창 캔슬시 기록이나 설정 필요한 경우 사용.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">imagePickerControllerDidCancel</span><span class="params">(<span class="number">_</span> picker: UIImagePickerController)</span></span> &#123;</span><br><span class="line"><span class="comment">//  picker.presentingViewController?.dismiss(animated: true)</span></span><br><span class="line"><span class="comment">//  dismiss(animated: true)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//사진이나 영상을 찍었을 때 이미지를 가져오는 함수  </span></span><br><span class="line"> <span class="function"><span class="keyword">func</span> <span class="title">imagePickerController</span><span class="params">(<span class="number">_</span> picker: UIImagePickerController, didFinishPickingMediaWithInfo info: [UIImagePickerController.InfoKey : <span class="keyword">Any</span>])</span></span> &#123;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> mediaType = info[.originalImage] <span class="keyword">as</span>! <span class="type">NSString</span> </span><br><span class="line">  <span class="comment">//NSString는 objc에서 사용. 기능 많은 String "문자열"임</span></span><br><span class="line">       </span><br><span class="line"></span><br><span class="line"> <span class="comment">// dismiss</span></span><br><span class="line"> <span class="comment">// picker.presentingViewController?.dismiss(animated: true)</span></span><br><span class="line">    dismiss(animated: <span class="literal">true</span>) <span class="comment">//위에꺼 하든 아래것 하든 둘중 하나 택 </span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/image/piker.png" alt="" class="φcx"></p><p>그럼 이런 식으로 앨범 버튼을 누를 때, 사진첩에 접근함.<br>Cancel 누르면 창 닫힘.</p><h2 id="2.-카메라">2. 카메라<a title="#2.-카메라" href="#2.-카메라"></a></h2><h3 id="2-1.-카메라-권한-허락,-카메라-클릭시-동영상-촬영기능-포함하기.">2-1. 카메라 권한 허락, 카메라 클릭시 동영상 촬영기능 포함하기.<a title="#2-1.-카메라-권한-허락,-카메라-클릭시-동영상-촬영기능-포함하기." href="#2-1.-카메라-권한-허락,-카메라-클릭시-동영상-촬영기능-포함하기."></a></h3><ul><li>2-0. import 하기 (MobileCoreServices)</li></ul><p><img src="/image/piker2.png" alt="" class="φcx"></p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//2.카메라</span></span><br><span class="line"><span class="meta">@IBAction</span> <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">takePicture</span><span class="params">(<span class="number">_</span> sender: <span class="keyword">Any</span>)</span></span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2-1. 카메라 사용할건지 허락</span></span><br><span class="line"><span class="keyword">guard</span> <span class="type">UIImagePickerController</span>.isSourceTypeAvailable(.camera) <span class="keyword">else</span> &#123;<span class="keyword">return</span>&#125;</span><br><span class="line">imagePicker.sourceType = .camera</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//2-2. 동영상 찍을 수 있도록 카메라 클릭시 photo, vidio 생김. </span></span><br><span class="line">  <span class="built_in">print</span>(imagePicker.mediaTypes)</span><br><span class="line">  <span class="keyword">let</span> mediaTypes =  <span class="type">UIImagePickerController</span>.availableMediaTypes(<span class="keyword">for</span>: .camera)</span><br><span class="line">  <span class="built_in">print</span>(mediaTypes)</span><br><span class="line">  </span><br><span class="line">  imagePicker.mediaTypes = mediaTypes ?? []</span><br><span class="line">  imagePicker.mediaTypes = [<span class="string">"public.image"</span>,<span class="string">"public.moview"</span>]</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//kUTTypeVideo - 비디오 (영상)</span></span><br><span class="line">  <span class="comment">//kUTTypeMovie - 무비 (영상 + 소리)</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">//String대신에 키값을 대신하여 사용.</span></span><br><span class="line">  imagePicker.mediaTypes = [kUTTypeImage, kUTTypeMovie] <span class="keyword">as</span> [<span class="type">String</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//2-3.전면 카메라/후면카메라</span></span><br><span class="line">  <span class="keyword">if</span> <span class="type">UIImagePickerController</span>.isFlashAvailable(<span class="keyword">for</span>: .rear) &#123;</span><br><span class="line">    imagePicker.cameraFlashMode = .auto</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line"> <span class="comment">//필수 </span></span><br><span class="line">  present(imagePicker, animated: <span class="literal">true</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-2.-info.plist에서-앱권한-설정.">2-2. info.plist에서 앱권한 설정.<a title="#2-2.-info.plist에서-앱권한-설정." href="#2-2.-info.plist에서-앱권한-설정."></a></h3><p><img src="/image/piker4.png" alt="" class="φcx"></p><ul><li>Information Property List 에 + 를 눌러 추가후, Pirvacy - Photo Librart Additions Description 지정.</li><li>Value에는 사용 목적 쓰기.</li></ul><p>앱 실행해 보면</p><p><img src="/image/piker6.png" alt="" class="φcx"></p><p>디버그에 오류뜸.</p><p><img src="/image/piker5.png" alt="" class="φcx"></p><p>동영상 촬영시 마이크에 접근하므로 마이크도 권한 설정함.</p><ul><li>Information Property List 에 Pirvacy - Microphone Usage Description</li></ul><p><img src="/image/piker7.jpeg" alt="" class="φcx"></p><p>그럼 카메라 구현도 문제없이 실행된다 !</p><h2 id="5.-화살표">5. 화살표<a title="#5.-화살표" href="#5.-화살표"></a></h2><p>(맨 우측 버튼)</p><h3 id="찍은-사진-라이브러리에-접근하여-편집.">찍은 사진 라이브러리에 접근하여 편집.<a title="#찍은-사진-라이브러리에-접근하여-편집." href="#찍은-사진-라이브러리에-접근하여-편집."></a></h3><h3 id="5-1.-토글작업..">5-1. 토글작업…<a title="#5-1.-토글작업.." href="#5-1.-토글작업.."></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//5. 화살표</span></span><br><span class="line"> <span class="meta">@IBAction</span> <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">toggleAllowsEditing</span><span class="params">(<span class="number">_</span> sender: <span class="keyword">Any</span>)</span></span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"\n---------- [ toggleAllowsEditing ] ----------\n"</span>)</span><br><span class="line">    <span class="comment">//5-1.</span></span><br><span class="line">    imagePicker.allowsEditing.toggle()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>이미지나 영상을 찍었을때 가져오는 함수로 이동하여 아래코드 구현. (didFinishPickingMediaWithInfo)</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">imagePickerController</span><span class="params">(<span class="number">_</span> picker: UIImagePickerController, didFinishPickingMediaWithInfo info: [UIImagePickerController.InfoKey : <span class="keyword">Any</span>])</span></span> &#123;</span><br><span class="line">   </span><br><span class="line">   </span><br><span class="line">   <span class="keyword">let</span> mediaType = info[.mediaType] <span class="keyword">as</span>! <span class="type">NSString</span></span><br><span class="line">   <span class="comment">//NSString: objc에서 사용. 기능 많은String</span></span><br><span class="line">   </span><br><span class="line">   <span class="keyword">if</span> <span class="type">UTTypeEqual</span>(mediaType, kUTTypeImage) &#123; <span class="comment">//사진</span></span><br><span class="line"></span><br><span class="line">     <span class="keyword">let</span> originalImage = info[.originalImage] <span class="keyword">as</span>! <span class="type">UIImage</span></span><br><span class="line">     <span class="comment">//5-2. 편집을 할 때만 있는거기 때문에 ?사용</span></span><br><span class="line">     <span class="keyword">let</span> editedImage = info[.editedImage] <span class="keyword">as</span>? <span class="type">UIImage</span></span><br><span class="line">     <span class="comment">//5-3. 최종이미지</span></span><br><span class="line">     <span class="keyword">let</span> selectedImage = editedImage ?? originalImage</span><br><span class="line">     <span class="comment">//5-4.originalImage을 selectedImage로 변경.</span></span><br><span class="line">     imageView.image = selectedImage<span class="comment">/*originalImage*/</span></span><br><span class="line">     </span><br><span class="line">     <span class="built_in">print</span>(info)</span><br></pre></td></tr></table></figure><p><img src="/image/piker9.jpeg" alt="" class="φcx"></p><p>이런식으로 사진 편집 가능하게 됨… 하지만 저장하면 멈춤…</p><h3 id="5-2.info.plist에서-앱권한-설정.">5-2.info.plist에서 앱권한 설정.<a title="#5-2.info.plist에서-앱권한-설정." href="#5-2.info.plist에서-앱권한-설정."></a></h3><p><img src="/image/piker7.png" alt="" class="φcx"></p><ul><li>Information Property List 에 Privacy - Photo Library AddUsage Descriptrion을 추가하고 Value에 목적을 쓴다.</li></ul><p>(참고로 Key에 Control + 마우스 좌측 누르면 &quot;Raw Keys &amp; Values&quot;로 원래 이름? 값을 볼 수 있다.<br>체크해서, NSPhotoLibraryAddUsageDescriptrion )</p><p><img src="/image/piker13.jpeg" alt="" class="φcx"></p><p>그럼 앱처음 켤때 이런 메세지 확인가능해짐.</p><h2 id="3.-딜레이-촬영">3. 딜레이 촬영<a title="#3.-딜레이-촬영" href="#3.-딜레이-촬영"></a></h2><h3 id="앱-실행되자마자-촬영되게-끔~-시간차-이용하여-촬영되도록-설정">앱 실행되자마자 촬영되게 끔~ 시간차 이용하여 촬영되도록 설정<a title="#앱-실행되자마자-촬영되게-끔~-시간차-이용하여-촬영되도록-설정" href="#앱-실행되자마자-촬영되게-끔~-시간차-이용하여-촬영되도록-설정"></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//3.딜레이촬영</span></span><br><span class="line"><span class="meta">@IBAction</span> <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">takePictureWithDelay</span><span class="params">(<span class="number">_</span> sender: <span class="keyword">Any</span>)</span></span> &#123;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="keyword">guard</span> <span class="type">UIImagePickerController</span>.isSourceTypeAvailable(.camera) <span class="keyword">else</span> &#123;<span class="keyword">return</span>&#125;</span><br><span class="line">  imagePicker.sourceType = .camera</span><br><span class="line">  imagePicker.mediaTypes = [kUTTypeImage <span class="keyword">as</span> <span class="type">String</span>]</span><br><span class="line">  </span><br><span class="line">  present(imagePicker, animated: <span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="comment">// present(imagePicker, animated: true, completion: )//completion : 프레젠트가 끝날 때 코드</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//화면 띄우자마자 촬영</span></span><br><span class="line">    <span class="comment">// self.imagePicker.takePicture()</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//2초뒤 촬영</span></span><br><span class="line">    <span class="type">DispatchQueue</span>.main.asyncAfter(deadline: .now() + <span class="number">2</span>) &#123;</span><br><span class="line">      <span class="keyword">self</span>.imagePicker.takePicture()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/image/piker11.jpeg" alt="" class="φcx"></p><p>빌드하고 촬영해보면 이런 식으로 나온다.</p><h2 id="4.-동영상-촬영">4. 동영상 촬영<a title="#4.-동영상-촬영" href="#4.-동영상-촬영"></a></h2><h3 id="4-1.-촬영-기능-설정.">4-1. 촬영 기능 설정.<a title="#4-1.-촬영-기능-설정." href="#4-1.-촬영-기능-설정."></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//4.동영상 촬영</span></span><br><span class="line"><span class="meta">@IBAction</span> <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">recordingVideo</span><span class="params">(<span class="number">_</span> sender: <span class="keyword">Any</span>)</span></span> &#123;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">guard</span> <span class="type">UIImagePickerController</span>.isSourceTypeAvailable(.camera) <span class="keyword">else</span> &#123;<span class="keyword">return</span>&#125;</span><br><span class="line">  imagePicker.sourceType = .camera</span><br><span class="line">  <span class="comment">//앨범에 사진 안나오고 동영상만나옴.//[kUTTypeImage,kUTTypeMovie as String] 이렇게 해야 이미지도 뜸 //그런데 왜인지 아래로 해두 된다..</span></span><br><span class="line">  imagePicker.mediaTypes = [kUTTypeMovie <span class="keyword">as</span> <span class="type">String</span>]</span><br><span class="line">  <span class="comment">// imagePicker.mediaTypes = ["public.movie"]</span></span><br><span class="line">  </span><br><span class="line">  imagePicker.cameraCaptureMode = .video <span class="comment">// 처음시작을 video로 하고 싶은 경우</span></span><br><span class="line">  <span class="comment">//imagePicker.cameraCaptureMode = .photo //처름시작을  photo로 하고 싶은 경우</span></span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="comment">//front전면 카메라 ,rear후면 카메라</span></span><br><span class="line">  imagePicker.cameraDevice = .rear</span><br><span class="line">  </span><br><span class="line">  present(imagePicker, animated: <span class="literal">true</span>)</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//imagePicker.startvideoCapture()</span></span><br><span class="line">  <span class="comment">//  imagePicker.stopVideoCapture()</span></span><br><span class="line">  </span><br><span class="line">  imagePicker.videoMaximumDuration = <span class="number">10</span> <span class="comment">//초단위, 기본 10분. - 동영상 타이머 설정가능.</span></span><br><span class="line">  imagePicker.videoQuality = .typeHigh <span class="comment">//고화질 - 화질변경 가능.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-2.-영상-불러오는-함수-추가.-(조건문-활용)">4-2. 영상 불러오는 함수 추가. (조건문 활용)<a title="#4-2.-영상-불러오는-함수-추가.-(조건문-활용)" href="#4-2.-영상-불러오는-함수-추가.-(조건문-활용)"></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">imagePickerController</span><span class="params">(<span class="number">_</span> picker: UIImagePickerController, didFinishPickingMediaWithInfo info: [UIImagePickerController.InfoKey : <span class="keyword">Any</span>])</span></span> &#123;</span><br><span class="line">   </span><br><span class="line">   </span><br><span class="line">   <span class="keyword">let</span> mediaType = info[.mediaType] <span class="keyword">as</span>! <span class="type">NSString</span></span><br><span class="line">   </span><br><span class="line">   <span class="keyword">if</span> <span class="type">UTTypeEqual</span>(mediaType, kUTTypeImage) &#123; <span class="comment">//사진</span></span><br><span class="line">     <span class="keyword">let</span> originalImage = info[.originalImage] <span class="keyword">as</span>! <span class="type">UIImage</span></span><br><span class="line">     <span class="keyword">let</span> editedImage = info[.editedImage] <span class="keyword">as</span>? <span class="type">UIImage</span></span><br><span class="line">     <span class="keyword">let</span> selectedImage = editedImage ?? originalImage</span><br><span class="line">     imageView.image = selectedImage</span><br><span class="line">     </span><br><span class="line">     <span class="built_in">print</span>(info)</span><br><span class="line">     </span><br><span class="line">     <span class="comment">//카메라로 찍은 경우만 저장</span></span><br><span class="line">     <span class="keyword">if</span> picker.sourceType == .camera &#123;</span><br><span class="line">       <span class="type">UIImageWriteToSavedPhotosAlbum</span>(selectedImage, <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="literal">nil</span>)</span><br><span class="line">     &#125;</span><br><span class="line">     &#125;<span class="keyword">else</span> <span class="keyword">if</span> <span class="type">UTTypeEqual</span>(mediaType, kUTTypeMovie) &#123; <span class="comment">//영상</span></span><br><span class="line">     <span class="keyword">if</span> <span class="keyword">let</span> mediaPath = (info[.mediaURL] <span class="keyword">as</span>? <span class="type">NSURL</span>)?.path,</span><br><span class="line">       <span class="type">UIVideoAtPathIsCompatibleWithSavedPhotosAlbum</span>(mediaPath) &#123;</span><br><span class="line">       <span class="type">UISaveVideoAtPathToSavedPhotosAlbum</span>(mediaPath, <span class="literal">nil</span>, <span class="literal">nil</span>, <span class="literal">nil</span>)</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line">       <span class="comment">//picker.presentingViewController?.dismiss(animated: true)</span></span><br><span class="line">       dismiss(animated: <span class="literal">true</span>) <span class="comment">//위에꺼 하든 아래것 하든 상관 없음</span></span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>동영상 버튼 누르게 되면</p><p><img src="/image/piker12.jpeg" alt="" class="φcx"></p><p>된다.</p><h3 id="[전체코드]">[전체코드]<a title="#[전체코드]" href="#[전체코드]"></a></h3><pre><code class="language-swift">import MobileCoreServicesimport UIKitfinal class ViewController: UIViewController {    @IBOutlet private weak var imageView: UIImageView!  //  let picker = UIImagePickerController()    private lazy var imagePicker: UIImagePickerController = {    let imagePiker = UIImagePickerController()    imagePiker.delegate = self    return imagePiker  }()      // MARK: Action    //1.앨범  @IBAction private func pickImage(_ sender: Any) {    print(&quot;\n---------- [ pickImage ] ----------\n&quot;)        imagePicker.sourceType = .photoLibrary //포토라이브러리는 앨범선택하는 화면 보여줌.    //. imagePicker.sourceType = .savedPhotosAlbum //최근에 찍은 사진 위주로 보여줌.    //   imagePicker.mediaTypes = [kUTTypeMovie]    present(imagePicker, animated:  true)      }    //2.카메라  @IBAction private func takePicture(_ sender: Any) {    print(&quot;\n---------- [ takePicture ] ----------\n&quot;)        //카메라 사용할건지 허락    guard UIImagePickerController.isSourceTypeAvailable(.camera) else {return}    imagePicker.sourceType = .camera        //동영상 찍을 수 있도록 생김.    print(imagePicker.mediaTypes)    let mediaTypes =  UIImagePickerController.availableMediaTypes(for: .camera)    print(mediaTypes)        imagePicker.mediaTypes = mediaTypes ?? []    imagePicker.mediaTypes = [&quot;public.image&quot;,&quot;public.moview&quot;]        //kUTTypeVideo - 비디오 (영상)    //kUTTypeMovie - 무비 (영상 + 소리)        //String대신에 키값을 대신하여 사용.    imagePicker.mediaTypes = [kUTTypeImage, kUTTypeMovie] as [String]        //2-1.전면 카메라/후면카메라    if UIImagePickerController.isFlashAvailable(for: .rear) {      imagePicker.cameraFlashMode = .auto    }            present(imagePicker, animated: true)      }      //3.딜레이촬영  @IBAction private func takePictureWithDelay(_ sender: Any) {            guard UIImagePickerController.isSourceTypeAvailable(.camera) else {return}    imagePicker.sourceType = .camera    imagePicker.mediaTypes = [kUTTypeImage as String]        present(imagePicker, animated: true) {      // present(imagePicker, animated: true, completion: )//completion : 프레젠트가 끝날 때 코드            //화면 띄우자마자 촬영      // self.imagePicker.takePicture()            //2초뒤 촬영      DispatchQueue.main.asyncAfter(deadline: .now() + 2) {        self.imagePicker.takePicture()      }      print(&quot;\n---------- [ takePictureWithDelay ] ----------\n&quot;)    }  }    //4.동영상 촬영  @IBAction private func recordingVideo(_ sender: Any) {    print(&quot;\n---------- [ recordingVideo ] ----------\n&quot;)        guard UIImagePickerController.isSourceTypeAvailable(.camera) else {return}    imagePicker.sourceType = .camera    //앨범에 사진 안나오고 동영상만나옴.//[kUTTypeImage,kUTTypeMovie as String] 이렇게 해야 이미지도 뜸    imagePicker.mediaTypes = [kUTTypeMovie as String]    // imagePicker.mediaTypes = [&quot;public.movie&quot;]        imagePicker.cameraCaptureMode = .video // 처음시작을 video로 하고 싶은 경우    //   imagePicker.cameraCaptureMode = .photo //처름시작을  photo로 하고 싶은 경우            //front전면 카메라 ,rear후면 카메라    imagePicker.cameraDevice = .rear        present(imagePicker, animated: true)        //imagePicker.startvideoCapture()    //  imagePicker.stopVideoCapture()        imagePicker.videoMaximumDuration = 10 //초단위, 기본 10분    imagePicker.videoQuality = .typeHigh //고화질  }    //5.화살표  @IBAction private func toggleAllowsEditing(_ sender: Any) {    print(&quot;\n---------- [ toggleAllowsEditing ] ----------\n&quot;)    //2-2.    imagePicker.allowsEditing.toggle()  }}//MARK:- UIImagePickerControllerDelegateextension ViewController: UIImagePickerControllerDelegate, UINavigationControllerDelegate {  //네비게이션안에 생성되어있으므로, 네비컨트롤러딜리게이트도 필요.  //imagePickerControllerDidCancel : 의 경우 dismiss직접구현 필요함.  //imagePickerControllerDidCancel를 하지 않으면 아주 잘닫힘.. 구현 필요없는 경우엔 생략    //  func imagePickerControllerDidCancel(_ picker: UIImagePickerController) {  //    picker.presentingViewController?.dismiss(animated: true)  //  //dismiss(animated: true)  //닫기만할때는 굳이 구현 필요없으나, 캔슬시 기록이나 설정 필요한 경우 사용.    //이미지나 영상을 찍었을때 가져오는 함수  //didFinishPickingMediaWithInfo: 어떤 것을 픽했는지 알려주는.//피킹한것을 끝냈다.  func imagePickerController(_ picker: UIImagePickerController, didFinishPickingMediaWithInfo info: [UIImagePickerController.InfoKey : Any]) {            let mediaType = info[.mediaType] as! NSString    //NSString: objc에서 사용. 기능 많은String        if UTTypeEqual(mediaType, kUTTypeImage) { //사진      let originalImage = info[.originalImage] as! UIImage      //2-3. 편집을 할 때만 있는거기 때문에 ?사용      let editedImage = info[.editedImage] as? UIImage      //2-4. 최종이미지      let selectedImage = editedImage ?? originalImage      //2-5.originalImage을 selectedImage로 변경.      imageView.image = selectedImage/*originalImage*/            print(info)            //카메라로 찍은 경우만 저장      if picker.sourceType == .camera {        UIImageWriteToSavedPhotosAlbum(selectedImage, nil, nil, nil)      }      }else if UTTypeEqual(mediaType, kUTTypeMovie) { //영상      if let mediaPath = (info[.mediaURL] as? NSURL)?.path,        UIVideoAtPathIsCompatibleWithSavedPhotosAlbum(mediaPath) {        UISaveVideoAtPathToSavedPhotosAlbum(mediaPath, nil, nil, nil)      }    }        //picker.presentingViewController?.dismiss(animated: true)        dismiss(animated: true) //위에꺼 하든 아래것 하든 상관 없음              }          }    </code></pre>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> ImagePicker </tag>
            
            <tag> UIImagePickerController </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]CustomTableViewCell만들기</title>
      <link href="2020/05/29/Swift-Custom-TableView%EB%A7%8C%EB%93%A4%EA%B8%B0/"/>
      <url>2020/05/29/Swift-Custom-TableView%EB%A7%8C%EB%93%A4%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<ul><li>cellForRowAt의 기본방식을 이용하지 않고, cellForRowAt의  let cell: UITableViewCell 로 커스텀하여 접근.</li></ul><h2 id="tableviewcustom">TableViewCustom<a title="#tableviewcustom" href="#tableviewcustom"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">TableViewCustomCell</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="keyword">var</span> description: <span class="type">String</span> &#123; <span class="string">"TableView - CustomCell"</span> &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> tableView = <span class="type">UITableView</span>()</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line">    </span><br><span class="line">    tableView.frame = view.frame</span><br><span class="line">    tableView.dataSource = <span class="keyword">self</span></span><br><span class="line">    tableView.delegate = <span class="keyword">self</span></span><br><span class="line">    tableView.rowHeight = <span class="number">80</span></span><br><span class="line">    view.addSubview(tableView)</span><br><span class="line">    </span><br><span class="line">    tableView.register(<span class="type">UITableViewCell</span>.<span class="keyword">self</span>, forCellReuseIdentifier: <span class="string">"Default"</span>)</span><br><span class="line">    tableView.register(<span class="type">CustomCell</span>.<span class="keyword">self</span>, forCellReuseIdentifier: <span class="string">"Custom"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// MARK: - UITableViewDataSource</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">TableViewCustomCell</span>: <span class="title">UITableViewDataSource</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, numberOfRowsInSection section: Int)</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">20</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, cellForRowAt indexPath: IndexPath)</span></span> -&gt; <span class="type">UITableViewCell</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> cell: <span class="type">UITableViewCell</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> indexPath.row.isMultiple(of: <span class="number">2</span>) &#123; <span class="comment">//만약 나누기2로 떨어지면,</span></span><br><span class="line">      cell = tableView.dequeueReusableCell(withIdentifier: <span class="string">"Custom"</span>, <span class="keyword">for</span>: indexPath)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//myLable접근이 안됨.. 되게 하려면?..</span></span><br><span class="line">      (cell <span class="keyword">as</span>! <span class="type">CustomCell</span>).myLabel.text = <span class="string">"ABCDE"</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      cell = tableView.dequeueReusableCell(withIdentifier: <span class="string">"Default"</span>, <span class="keyword">for</span>: indexPath)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    cell.textLabel?.text = <span class="string">"\(indexPath.row * 1000)"</span></span><br><span class="line">    cell.imageView?.image = <span class="type">UIImage</span>(named: <span class="string">"bear"</span>)</span><br><span class="line">      </span><br><span class="line">    <span class="comment">//레이아웃이 필요한 곳이 아니기 떄문에, 딜리게이트에서 따로 잡아야함.</span></span><br><span class="line">    <span class="built_in">print</span>(tableView.rowHeight)  --&gt; <span class="number">44.0</span></span><br><span class="line">    <span class="comment">//프린트 찍어보면 높이가 기본인 44로 나옴. 위에 80으로 지정했음에도...-&gt;시뮬에서는 80으로 보이지만..</span></span><br><span class="line">    <span class="comment">//그래서 1.딜리게이트에서 직접 작업해주거나, 2.CustomCell에서 직접 레이아웃잡아야함. </span></span><br><span class="line">    (cell <span class="keyword">as</span>? <span class="type">CustomCell</span>)?.myLabel.frame = <span class="type">CGRect</span>(</span><br><span class="line">      x: cell.frame.width - <span class="number">120</span>, y: <span class="number">15</span>,</span><br><span class="line">      width: <span class="number">100</span>, height: cell.frame.height - <span class="number">30</span></span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> cell</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//1. 딜리게이트 작업 </span></span><br><span class="line"><span class="comment">// MARK: - UITableViewDelegate</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">TableViewCustomCell</span>: <span class="title">UITableViewDelegate</span> </span>&#123;</span><br><span class="line">  <span class="comment">// cellForRowAt -&gt; willDisplayCell -&gt; layoutSubviews</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">tableView</span><span class="params">(<span class="number">_</span> tableView: UITableView, willDisplay cell: UITableViewCell, forRowAt indexPath: IndexPath)</span></span> &#123;</span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> customCell = cell <span class="keyword">as</span>? <span class="type">CustomCell</span> <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    customCell.myLabel.frame = <span class="type">CGRect</span>(</span><br><span class="line">      x: cell.frame.width - <span class="number">120</span>, y: <span class="number">15</span>,</span><br><span class="line">      width: <span class="number">100</span>, height: cell.frame.height - <span class="number">30</span></span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="custom-cell">Custom Cell<a title="#custom-cell" href="#custom-cell"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CustomCell</span>: <span class="title">UITableViewCell</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> myLabel = <span class="type">UILabel</span>()</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="keyword">init</span>(style: <span class="type">UITableViewCell</span>.<span class="type">CellStyle</span>, reuseIdentifier: <span class="type">String?</span>) &#123;</span><br><span class="line">    <span class="keyword">super</span>.<span class="keyword">init</span>(style: style, reuseIdentifier: reuseIdentifier)</span><br><span class="line">    </span><br><span class="line">  <span class="comment">// 커스텀 뷰를 올릴 때는 contentView 위에 추가</span></span><br><span class="line">  myLabel.textColor = .black</span><br><span class="line">  myLabel.backgroundColor = .yellow</span><br><span class="line">  contentView.addSubview(myLabel)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 스토리보드 생성할 때</span></span><br><span class="line">  <span class="keyword">required</span> <span class="keyword">init</span>?(coder aDecoder: <span class="type">NSCoder</span>) &#123;</span><br><span class="line">    <span class="built_in">fatalError</span>(<span class="string">"init(coder:) has not been implemented"</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//2. (여기에 넣음)</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>상속받은 애가 _required_할 때 반드시 해야하는 init함수. 스토리보드로 만들게 될 경우, init 메서드가 위의 _override init_이 아닌,  required init?으로 오게 됨.</li><li>_required_는 이미 부모 것을 받아서 쓰는 것이기 때문에 override할 필요없음(이미 되어 있음)</li></ol><h3 id="2.customcell의-레이아웃으로-조정할-경우.">2.CustomCell의 레이아웃으로 조정할 경우.<a title="#2.customcell의-레이아웃으로-조정할-경우." href="#2.customcell의-레이아웃으로-조정할-경우."></a></h3><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 레이아웃 조정 시</span></span><br><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">layoutSubviews</span><span class="params">()</span></span> &#123;</span><br><span class="line">  <span class="keyword">super</span>.layoutSubviews()</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//프레임 이용</span></span><br><span class="line">  myLabel.frame = <span class="type">CGRect</span>(</span><br><span class="line">    x: frame.width - <span class="number">120</span>, y: <span class="number">15</span>,</span><br><span class="line">    width: <span class="number">100</span>, height: frame.height - <span class="number">30</span></span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/image/custom2.png" alt="" class="φcx"></p><ul><li>결과 값 바뀜.</li></ul>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> TableView </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]UITableView 이해하기.md</title>
      <link href="2020/05/27/Swift-UITableView-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0/"/>
      <url>2020/05/27/Swift-UITableView-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="uitableview-종류">UITableView 종류<a title="#uitableview-종류" href="#uitableview-종류"></a></h2><p>Tableview는 크게 2가지로 나뉜다.<br>기본 나열방식인 Plain 과 그룹핑으로 표현되는 Group.</p><p><img src="/image/table1.png" alt="" class="φcx"></p><ul><li>Group Table View의 경우 Padding과 Header ~ TableCell ~ Footer과 Padding순으로 잘 기억해야한다.</li></ul><h2 id="uitableview를-사용하기-이전에-준비해야할-것.">UITableView를 사용하기 이전에 준비해야할 것.<a title="#uitableview를-사용하기-이전에-준비해야할-것." href="#uitableview를-사용하기-이전에-준비해야할-것."></a></h2><h3 id="uitableviewdatasource">UITableViewDataSource<a title="#uitableviewdatasource" href="#uitableviewdatasource"></a></h3><ul><li>UITableView를 사용하기 위해 UITableViewDataSource에 대한 권한 설정은 필수다.<br>(class에  이용하여 할당해줘야함. )</li></ul><p>viewController</p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> TableView </tag>
            
            <tag> UITableView </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]Fram과 AutoLayout을 이용한 다양한 방법들</title>
      <link href="2020/05/22/Swift-Fram%EA%B3%BC-AutoLayout%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EB%8B%A4%EC%96%91%ED%95%9C-%EB%B0%A9%EB%B2%95%EB%93%A4/"/>
      <url>2020/05/22/Swift-Fram%EA%B3%BC-AutoLayout%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%9C-%EB%8B%A4%EC%96%91%ED%95%9C-%EB%B0%A9%EB%B2%95%EB%93%A4/</url>
      
        <content type="html"><![CDATA[<h2 id="frame을-이용한-방법.">frame을 이용한 방법.<a title="#frame을-이용한-방법." href="#frame을-이용한-방법."></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">greenViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> greenView = <span class="type">UIView</span>()</span><br><span class="line">  <span class="keyword">let</span> touchButton = <span class="type">UIButton</span>()  </span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//greenView</span></span><br><span class="line">    greenView.frame = <span class="type">CGRect</span>(x: <span class="number">50</span>, y: <span class="number">100</span>, width: <span class="number">80</span>, height: <span class="number">80</span>)</span><br><span class="line">    greenView.backgroundColor = .green</span><br><span class="line">    view.addSubview(greenView)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//touchButton</span></span><br><span class="line">    touchButton.frame = <span class="type">CGRect</span>(x: <span class="number">140</span> , y: <span class="number">20</span>, width: <span class="number">100</span>, height: <span class="number">50</span>)</span><br><span class="line">    touchButton.backgroundColor = .black</span><br><span class="line">    touchButton.setTitle(<span class="string">"touch"</span>, <span class="keyword">for</span>: .normal)</span><br><span class="line">    touchButton.addTarget(<span class="keyword">self</span>, action: #selector(touch(<span class="number">_</span>:)), <span class="keyword">for</span>: .touchUpInside)</span><br><span class="line">    </span><br><span class="line">    view.addSubview(touchButton)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//버튼 후 frame 변경 </span></span><br><span class="line">  <span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">touch</span><span class="params">(<span class="number">_</span> sender: UIButton)</span></span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="type">UIView</span>.animate(withDuration: <span class="number">2</span>) &#123;</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">if</span> <span class="keyword">self</span>.greenView.layer.cornerRadius == <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.greenView.frame = <span class="type">CGRect</span>(x: <span class="number">50</span>, y: <span class="number">300</span>, width: <span class="number">200</span>, height: <span class="number">200</span>)</span><br><span class="line">        <span class="keyword">self</span>.greenView.layer.cornerRadius = <span class="number">100</span></span><br><span class="line">        </span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">self</span>.greenView.frame = <span class="type">CGRect</span>(x: <span class="number">50</span>, y: <span class="number">100</span>, width: <span class="number">80</span>, height: <span class="number">80</span>)</span><br><span class="line">        <span class="keyword">self</span>.greenView.layer.cornerRadius = <span class="number">0</span></span><br><span class="line">      &#125;</span><br><span class="line">          </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>frame을 이용했다면, 오토 레이아웃을 잡을 필요는 없습니다!</p><h2 id="auto-layouts-3가지-방법(constraint.-priority,active-toggle">Auto Layouts 3가지 방법(Constraint. Priority,active toggle<a title="#auto-layouts-3가지-방법(constraint.-priority,active-toggle" href="#auto-layouts-3가지-방법(constraint.-priority,active-toggle"></a></h2><p>)</p><h2 id="[constraint]">[Constraint]<a title="#[constraint]" href="#[constraint]"></a></h2>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> AutoLayout </tag>
            
            <tag> Frame </tag>
            
            <tag> Animate </tag>
            
            <tag> UIView </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]TextField 글자수 제한하기</title>
      <link href="2020/05/22/Swift-TextField-%EA%B8%80%EC%9E%90%EC%88%98-%EC%A0%9C%ED%95%9C%ED%95%98%EA%B8%B0/"/>
      <url>2020/05/22/Swift-TextField-%EA%B8%80%EC%9E%90%EC%88%98-%EC%A0%9C%ED%95%9C%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<p>TextFieldDelegate 사용시 텍스트필드에 글자수 제한두기</p><p>아래의 코드만 붙여넣기하면 된다.</p><p>🤷🏻‍♀️</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//텍스트필드 글자수 제한</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">textField</span><span class="params">(<span class="number">_</span> textField: UITextField, shouldChangeCharactersIn range: NSRange, replacementString string: String)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">  <span class="keyword">guard</span> <span class="keyword">let</span> text = textField.text <span class="keyword">else</span> &#123; <span class="keyword">return</span> <span class="literal">true</span> &#125;</span><br><span class="line">  <span class="keyword">let</span> newLength = text.<span class="built_in">count</span> + string.<span class="built_in">count</span> - range.length</span><br><span class="line">  <span class="keyword">return</span> newLength &lt;= <span class="number">16</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>newLength &lt;= 16<br>의 16은 16자까지 제한 둔다는 뜻.</p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TextField </tag>
            
            <tag> 로그인화면 </tag>
            
            <tag> TextFieldDelegate </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]TextField에 밑줄 긋기</title>
      <link href="2020/05/21/Swift-textField%EC%97%90-%EB%B0%91%EC%A4%84-%EA%B8%8B%EA%B8%B0/"/>
      <url>2020/05/21/Swift-textField%EC%97%90-%EB%B0%91%EC%A4%84-%EA%B8%8B%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<p>오늘은 텍스트 필드에 밑줄을 긋는 법을 알아보고자 합니다!</p><p>스토리 보드에서 지원하는 텍스트필드 디자인은 총 4가지가 있는데 이곳에는 TextField의 underLine은 제외 되어 있으니 이는 코드로 직접 구현해내는 방법 밖엔 없습니다.</p><p>😉</p><p>아래의 코드를 참고하여 붙여넣어줍니다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLayoutSubviews</span><span class="params">()</span></span> &#123;</span><br><span class="line">passwordUnderline()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//텍스트필드 밑줄</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">passwordUnderline</span><span class="params">()</span></span> &#123;</span><br><span class="line">  passwordTextfield.borderStyle = .<span class="keyword">none</span></span><br><span class="line">  <span class="keyword">let</span> border = <span class="type">CALayer</span>()</span><br><span class="line">border.frame = <span class="type">CGRect</span>(x: <span class="number">0</span>, y: passwordTextfield.frame.size.height-<span class="number">1</span>, width: passwordTextfield.frame.width, height: <span class="number">1</span>)</span><br><span class="line">     border.backgroundColor = <span class="type">UIColor</span>.gray.cgColor</span><br><span class="line">     passwordTextfield.layer.addSublayer((border))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  emailTextfield.borderStyle = .<span class="keyword">none</span></span><br><span class="line">  <span class="keyword">let</span> border1 = <span class="type">CALayer</span>()</span><br><span class="line">  border1.frame = <span class="type">CGRect</span>(x: <span class="number">0</span>, y: emailTextfield.frame.size.height-<span class="number">1</span>, width: emailTextfield.frame.width, height: <span class="number">1</span>)</span><br><span class="line">         border1.backgroundColor = <span class="type">UIColor</span>.gray.cgColor</span><br><span class="line">         emailTextfield.layer.addSublayer((border1))</span><br><span class="line">  &#125;</span><br><span class="line">```  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">해당 코드를 viewWillAppear에서 사용하여도 관계없지만, 만약 코드로 오토레이아웃을 잡았다면 </span><br><span class="line"></span><br><span class="line">```viewDidLayoutSubviews</span><br></pre></td></tr></table></figure><p>이곳에서 오버라이딩하여 사용해야합니다.</p><p>이에 대한 내용은 아래 링크를 참고 !</p><p><a href="https://g-y-e-o-m.tistory.com/64" target="_blank">[https://g-y-e-o-m.tistory.com/64]</a></p><p>혹시 안되는 분들은 TextFieldDelegate를 했는지 확인!</p><ol><li>class에 UITextFieldDelegate부르기.</li></ol><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span>,<span class="title">UITextFieldDelegate</span> </span>&#123;</span><br></pre></td></tr></table></figure><ol start="2"><li>viewDidLoad에 해당 textField를 self로 지정</li></ol><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">emailTextfield.delegate = <span class="keyword">self</span></span><br><span class="line">passwordTextfield.delegate = <span class="keyword">self</span></span><br></pre></td></tr></table></figure><p>완성된 모습 확인<br><img src="/image/line.png" alt=""></p><p>👏🏻👏🏻👏🏻</p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TextField </tag>
            
            <tag> 로그인화면 </tag>
            
            <tag> TextFieldDelegate </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Array</title>
      <link href="2020/05/21/POST/Swift-Array/"/>
      <url>2020/05/21/POST/Swift-Array/</url>
      
        <content type="html"><![CDATA[<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Array</span> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">Array</span> = [“<span class="type">A</span>”,”b”,”<span class="type">C</span>”,”<span class="type">D</span>”,”<span class="type">E</span><span class="string">"]</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">//0번째 값지우기 (print: “A”)</span></span><br><span class="line"><span class="string">Let arrless = Array.remove(at:0)  </span></span><br><span class="line"><span class="string">arrless   //print:  "</span>b”,”<span class="type">C</span>”,”<span class="type">D</span>”,”<span class="type">E</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 모두지우기</span></span><br><span class="line">arrless.removeall() </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//인덱스값 모를 경우</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> indexC = arrless.firstindex(at: “<span class="type">C</span>”) &#123;</span><br><span class="line"><span class="type">Array</span>.remove(at : indexC)  </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">Array</span>.shuffle  <span class="comment">// 모두섞기</span></span><br><span class="line"><span class="type">Array</span>.<span class="built_in">sort</span>() <span class="comment">//정렬하기</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">Array</span>.shuffled <span class="comment">//반환타입() 또다른 배열을 낳음(자신이 변경되지는 않고 바꾼값을 반환하는 것)- 스트링,보이드 고를 수 있음</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">arrless[<span class="number">2</span>…] <span class="comment">//인덱스2부터 끝까지</span></span><br><span class="line">arrless[<span class="number">2</span>…] = [“<span class="type">Q</span>”,”<span class="type">W</span>”,”<span class="type">Z</span>”] <span class="comment">//인덱스 2부터 해당배열 삽입</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> tuple(기본제공) <span class="keyword">in</span> <span class="type">Array</span>.enumrated()&#123;</span><br><span class="line"><span class="type">Print</span>(“ \(tuple.<span class="number">0</span>)  = \(tuple.<span class="number">1</span>)”)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">(<span class="number">1</span>…<span class="number">10</span>).<span class="type">Reversed</span>() <span class="comment">//내림차순</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//값 반환할 떄. “ “ 한칸씩 띄어서 한줄로 출력</span></span><br><span class="line"><span class="type">For</span> num <span class="keyword">in</span> (<span class="number">1</span>…<span class="number">10</span>).<span class="type">Reversed</span>() &#123;</span><br><span class="line"><span class="built_in">print</span>(num, herminator :  “ “) </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> post </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> Array </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]TextField 키보드에 가려짐 문제해결</title>
      <link href="2020/05/19/Swift-TextField-%ED%82%A4%EB%B3%B4%EB%93%9C%EC%97%90-%EA%B0%80%EB%A0%A4%EC%A7%90-%EB%AC%B8%EC%A0%9C%ED%95%B4%EA%B2%B0/"/>
      <url>2020/05/19/Swift-TextField-%ED%82%A4%EB%B3%B4%EB%93%9C%EC%97%90-%EA%B0%80%EB%A0%A4%EC%A7%90-%EB%AC%B8%EC%A0%9C%ED%95%B4%EA%B2%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="문제직면">문제직면<a title="#문제직면" href="#문제직면"></a></h2><p><img src="/image/login-1.png" alt="" class="φcx"></p><p>텍스트필드를 이용하다보면 위와 같은 문제에 자주 직면하게 될 것이다. 텍스트 필드를 키보드 높이보다 위에 두면 문제는 간단히 해결되겠지만,<br><s>나도 남들처럼 예쁘게 UI자고 싶은데… (왜 나만안돼 나만… ㅠㅠ)</s><br>이라면 아래를 참고하자.</p><p>우린 아름다운 UI를 포기할 수 없으니까!!</p><p>1-1. 뷰 만들기.</p><p>텍스트 필드를 하나하나 올리는 방법도 있겠지만,<br>필자는 view로 좀더 손쉽게 올려보고자 한다.</p><p><img src="/image/login-2.png" alt="" class="φcx"></p><p>올려야할 영역을 모두 view에 넣는다. 좌측 목록을 활용하면, view가 상위목록으로, 이 외에 것들은 모두 view의 하위목록으로 쉽게 옮길 수 있다.</p><p>그리고 view 아울렛 연결로 마무리.</p><p>1-2. 키보드에 따라 뷰 올렸다 내리기. (NotificationCenter addObserver)</p><ol><li>일단 옵저버를 등록해줘야하는데, 화면이 켜졌을 때 이를 적용해야하기 때문에,<br>뷰디드로드에 놓거나, viewWillAppear에 넣어야한다.</li></ol><p>필자는 viewWillAppear에 넣는 방법을 택했다. 그리고 viewWillAppear가 지저분해지는 것을 막고자  함수를 이용하여 더 깔끔하게 처리했다.  (그리고 viewWillAppear는 반드시 override를 해줄것.)</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewWillAppear</span><span class="params">(<span class="number">_</span> animated: Bool)</span></span> &#123;</span><br><span class="line">  addKeyboardNotification()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//옵저버 등록 </span></span><br><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">addKeyboardNotification</span><span class="params">()</span></span> &#123;</span><br><span class="line"> <span class="type">NotificationCenter</span>.<span class="keyword">default</span>.addObserver(<span class="keyword">self</span>,selector: #selector(keyboardWillShow(<span class="number">_</span>:)),name: <span class="type">UIResponder</span>.keyboardWillShowNotification,object: <span class="literal">nil</span>)</span><br><span class="line"> <span class="type">NotificationCenter</span>.<span class="keyword">default</span>.addObserver(<span class="keyword">self</span>,selector: #selector(keyboardWillHide(<span class="number">_</span>:)),name: <span class="type">UIResponder</span>.keyboardWillHideNotification,object: <span class="literal">nil</span>)</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>2)keyboardWillShowNotification,keyboardWillHideNotification는 고정갑싱다.<br>3) #selector해준 값은 keyboardWillShow, keyboardWillHide이고 키보드를 올리고 내리는 함수이다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1-2. 올리기, 내리기.</span></span><br><span class="line"><span class="meta">@objc</span> <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">keyboardWillShow</span><span class="params">(<span class="number">_</span> notification: Notification)</span></span> &#123;</span><br><span class="line">  loginView.frame.origin.y = <span class="number">250</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@objc</span> <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">keyboardWillHide</span><span class="params">(<span class="number">_</span> notification: Notification)</span></span> &#123;</span><br><span class="line">   loginView.frame.origin.y = <span class="number">450</span>    &#125;</span><br></pre></td></tr></table></figure><p>위의 수치는 본인의 UI에 맞춰 조절할 수 있다 (꼭 정수가 아닌, -값이 될 수도 있다.)</p><p>그래서 이 수치에 맞춰서 하게되면 ?</p><p><img src="/image/login-3.png" alt="" class="φcx"></p><p>설정해준 값에 맞춰 view가 올라가는 모습을 확인할 수 있다.</p><p>구분을 쉽게하기 위해 view의 백그라운드를 노란색으로 줬다.</p><p>이해를 돕기위한 영상 참고</p><p><a href="https://www.youtube.com/watch?v=--belgLUl0U&amp;lc=UgxTbtgIjq8c8tcAPLZ4AaABAg" target="_blank">[https://www.youtube.com/watch?v=–belgLUl0U&amp;lc=UgxTbtgIjq8c8tcAPLZ4AaABAg]</a></p><p>🎃</p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> TextField </tag>
            
            <tag> keyboard </tag>
            
            <tag> 로그인화면 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]스토리보드에서 AutoLayout이해하기</title>
      <link href="2020/05/16/Swift-%EC%8A%A4%ED%86%A0%EB%A6%AC%EB%B3%B4%EB%93%9C%EC%97%90%EC%84%9C-AytoLayout%E3%85%87%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0/"/>
      <url>2020/05/16/Swift-%EC%8A%A4%ED%86%A0%EB%A6%AC%EB%B3%B4%EB%93%9C%EC%97%90%EC%84%9C-AytoLayout%E3%85%87%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="laying-out-a-user-interface">Laying out a user interface<a title="#laying-out-a-user-interface" href="#laying-out-a-user-interface"></a></h2><p>애플에서 지원하는 레이아웃에 대한 접근 방식은 총 3가지가 있다.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[유저 인터페이스 구성을 위한 3가지 주요 접근 방식]</span><br><span class="line">Frame 기반의 프로그래밍 방식</span><br><span class="line">Autoresizing masks</span><br><span class="line">Auto Layout</span><br></pre></td></tr></table></figure><p>첫번째 <strong>Frame 기반의 프로그래밍 방식</strong>은 코드를 이용한 방식이다.</p><p>(Frame 기반의 프로그래밍 방식은 다음 포스트에서 할 계획이다.)</p><p>두번째 <strong>Autoresizing masks</strong>은 기본적으로 제공되는 레이아웃이라고 생각하면 되는데(만약 내가 작성한 코드나 직접 Auto Layout을 사용하게될 경우에는 translatesAutoresizingMaskIntoConstraints 값을 false로 지정해야만 한다.) Autoresizing masks에 대한 자세한 이해가 필요하다면, 아래의 링크에서 확인하길 바란다.</p><p><a href="https://www.thecodedself.com/autoresizing-masks/" target="_blank">https://www.thecodedself.com/autoresizing-masks/</a></p><p>그리고 세번째인 <strong>Auto Layout</strong> 은 스토리보드 상에서 레이아웃을 잡는 방식이다.</p><p>오늘은 스토리보드 상에서 레이아웃을 잡을 수 있는 기능인 오토레이아웃에 대해서 알아볼 것인데,</p><p>들어가기 전에 가장 기본이 되는 Autoresizing의 구조를 한 번 훑고 지나가자.</p><h2 id="autoresizing-기본구조">Autoresizing 기본구조<a title="#autoresizing-기본구조" href="#autoresizing-기본구조"></a></h2><p>스토리보드에서 UIView를 만들면 우측 사이즈 인스펙터 탭에 Autoresizing가 보이는 것을 시각적으로 확인할 수 있다.</p><p><img src="/image/auto-3.png" alt="이미지" class="φcx"></p><p>대충 이런 느낌인데, 빨간색 선이 곧 View의 저 좌측 꼭지점 부분을 가리킨다고 보면 된다. (서로 매칭하면서 생각하면 쉽다.)</p><p><img src="/image/auto-2.png" alt="이미지" class="φcx"></p><p>이런식으로… (그림과 함께 보면 더 쉽다…)</p><p><img src="/image/auto-1.png" alt="이미지" class="φcx"></p><p>주의할 점은 꼭 필요한 부분만 빨간색 선이 나오도록 클릭해주는 것이다…(남발하면 작동안됨… 컴퓨터가 어디를 기준으로 줘야하는지 모르는 상태가 되어버리니까… 기준은 명확하게 !)</p><p>그리고 만약</p><p><img src="/image/auto-4.png" alt="이미지" class="φcx"></p><p>이런 식으로 오른쪽에 기준을 준 뒤,</p><p><img src="image/auto-5.png" alt="이미지" class="φcx"></p><p>검정색 부분의 꼭지점을 잡고 왼쪽으로 드래그하면, 빨간색 부분인 오른쪽이 고정된 채로 노란 뷰가 줄어 듦을 알 수 있다.</p><p>이와 같이 여러 방법으로 움직여보면 Autoresizing 어떤 방식으로 작동하는지 금방 알 수 있다.</p><p>그리고 UIView의 인스팩터 탭에서는 Autoresizing뿐만아니라, 현재 뷰의 x축,y축,width(넓이),height(높이)에 대한 정보도 볼 수 있으니 참고하자!</p><p>이제 Autoresizing에 대해 어느 정도 훑었으니, 본격적으로 Auto Layout 으로 들어가자.</p><h2 id="auto-layout-이란?">Auto Layout 이란?<a title="#auto-layout-이란?" href="#auto-layout-이란?"></a></h2><p><strong>Auto Layout</strong> 은 뷰에 주어진 제약조건에 따라 뷰의 크기와 위치를 동적으로 계산해 배치하는 것으로, 외부 또는 내부의 변화에 동적으로 반응하여 유저 인터페이스를 구성한다.</p><p>역시 말로 하면 잘모르겠으니 직접 보도록하자.</p><h2 id="auto-layout-활용">Auto Layout 활용<a title="#auto-layout-활용" href="#auto-layout-활용"></a></h2><h3 id="auto-layout-tools">Auto Layout tools<a title="#auto-layout-tools" href="#auto-layout-tools"></a></h3><p><img src="/image/autoMain-1.png" alt="" class="φcx"></p><p>오토레이아웃에 접근하기 위한 tools이다.</p><p>왼쪽부터,</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Update Frames : 제약조건과 맞지 않는 뷰 위치 갱신.</span><br><span class="line">Align : 정렬에 관한 제약사항 설정 </span><br><span class="line">Pin : 간격, 크기, 비율 등에 대한 제약 조건 설정 </span><br><span class="line">Resolve Autolayout Lssues : 오토레이아웃 관련 문제 해결 </span><br><span class="line">Emned In : 컨테이너 뷰 &#x2F; 뷰컨트롤러 추가</span><br></pre></td></tr></table></figure><p>일단 가장 많이 접하게 되는 것은 Pin부분이다. 일단 예제를 통해 익혀보자.</p><h2 id="[auto-layout-잡기]">[Auto Layout 잡기]<a title="#[auto-layout-잡기]" href="#[auto-layout-잡기]"></a></h2><h3 id="값으로-직접-layout잡기">값으로 직접 Layout잡기<a title="#값으로-직접-layout잡기" href="#값으로-직접-layout잡기"></a></h3><p><img src="/image/auto-11.png" alt="" class="φcx"></p><p>1-1. UIView를 하나 만들고, Pin을 클릭후 레이아웃의 왼쪽과 위쪽 값을 지정한다. 예제로 20씩 주자.<br>(참고로 Auto Layout을 잡을 때는, <strong>Constrain to margins</strong>에 체크를 해제하도록한다. )</p><p>그리고 ** Add 2 Constraints를 클릭하여 내용을 적용한다.</p><p><s>??적용하게 되면 빨간줄이 뜰것이다… ??</s></p><p>빨간줄은 일단 ‘레이아웃에 문제있음’ 정도로 이해하면 될 것 같다. 값이 비어있거나, 값이 맞지 않는 경우(해당 값이 보여진다.)에 빨간줄로 표현된다. 오토 레이아웃을 잡는 다는 것은, 이 것을 파란색 줄로 바꾸는 작업 이라고 생각하면 쉽다. (노란색 줄도 놉…)</p><p>그래서 현재의 상태는 레이아웃이 비어있는 값이 존재하므로, 비어있는 값을 마저 채워 줘야한다! 아래를 보자.</p><p>1-2. 오른쪽과 아래값 지정하기.</p><p><img src="/image/auto-12.png" alt="" class="φcx"></p><p>1-1과 마찬가지로 오른쪽과 아래 값을 20씩주고 add를 적용하면, view의 레이아웃이 정상적으로 잡힌 것을 볼 수 있다. (모두 파란줄!!!)</p><p>이 처럼 해당 view에 대한 값을 '완전하고도 명확하게, 지정해주어야 뷰가 어떤 상황에서든 움직이지않고, 안전한 인터페이스를 제공할 수 있게 된다.</p><p>1-3. width와 height로 레이아웃 잡기.</p><p>1-2처럼 모든 테두리에 값을 지정하는 방법도 있지만, 해당 view의 넓이와 높이의 값을 알고 있다면, width와 height로도 지정해 줄 수 있다.</p><p><img src="/image/auto-14.png" alt="" class="φcx"></p><p>이런 식으로…  width은 300, height는 500을 줬다.</p><p><img src="/image/auto-15.png" alt="" class="φcx"></p><p>적용된 모습.</p><h3 id="add-missing-constraints으로-layout-잡기">Add Missing Constraints으로 Layout 잡기<a title="#add-missing-constraints으로-layout-잡기" href="#add-missing-constraints으로-layout-잡기"></a></h3><p>다른 방법도 한가지 있는데, 위처럼 레이아웃을 일일히 지정할 필요 없이 먼저 UI를 짠 후, 그 값에 맞춰 모두 레이아웃이 잡히는 기능을 한다.<br>예를 들면,</p><p><img src="/image/aytoadd-1.png" alt="" class="φcx"></p><p>2-1. 뷰를 선택후 아래 세모 모양(Resolve Autolayout Lssues)을 선택 후 ‘Add Missing Constraints’ 클릭</p><p>그러면? 모두 정상적인 파란줄의 레이아웃으로 잘 잡히게 된다.</p><p>2-2. 재지정?(바꾸고 싶엉!)</p><p><img src="/image/aytoadd-2.png" alt="" class="φcx"></p><p>만약 뷰를 움직이고, 움직인 뒤의 UI로 레이아웃을 재지정 하고 싶은 경우.  다시 뷰를 선택후 아래 세모 모양(Resolve Autolayout Lssues)을 선택하면 ‘Update Constranit Constants’ 를 확인 할 수 있다.</p><p>현재 뷰가 이동한 자리로 레이아웃을 다시 업데이트 해준다는 뜻이다.</p><p>클릭하면?</p><p><img src="/image/aytoadd-3.png" alt="" class="φcx"></p><p>지울 필요없이 자동적으로 레이아웃이 재설정 되는 모습.</p><p>하지만, 사실? 눈대중으로 하는 것이 그렇게 명확하진 않아서? 보통 일일히 지정하는 법을 선호한다.<br>(어디까지나 명확하고 정확한 UI를 위해)</p><h3 id="align-tool-으로-잡기">Align Tool 으로 잡기<a title="#align-tool-으로-잡기" href="#align-tool-으로-잡기"></a></h3><p><img src="/image/autoMain-2.png" alt="이미지" class="φcx"></p><p>Align Tool 중,</p><p>제일 자주 사용하는 것이 아래 2개 “Horizontally in Container”, &quot;Verically in Container&quot;인데, 이는 center값을 기준으로 둔 선의 중앙값으로 이를 배치하겠다는 뜻이 된다.  클릭해보면 손 쉽게, 중앙 값으로, 혹은 중앙값을 기준으로 변경되는 모습을 확인 할 수 있다.</p><h2 id="[auto-layout-값-수정]">[Auto Layout 값 수정]<a title="#[auto-layout-값-수정]" href="#[auto-layout-값-수정]"></a></h2><p>아마 레이아웃을 처음 접해보았다면 뭔가 아주많이? 꼬였을 것이다.</p><p><s>빨간줄 범벅</s></p><p>특히, 값을 변경하고 싶은데 값이 적용은 안되고, 줄만 줄줄히 늘어나는 현상…</p><p><img src="/image/auto-13.png" alt="" class="φcx"></p><p>1-1. Pin은 어디까지나 새로 만들어지는 레이아웃에 대해서 제공되는 것이니, 값을 수정하고 싶다면 따로 우측 인스펙터 부분에서 이를 변경 해야한다.</p><p>1-2. 변경할 레이아웃을 선택하고 Edit를 클릭하여 값을 변경하면 뷰 컨트롤러에 적용되는 모습을 확인할 수 있다.</p><p>그리고 아예 없애거나, 지우고 싶다면?</p><h2 id="[auto-layout-취소,-지우기]">[Auto Layout 취소, 지우기]<a title="#[auto-layout-취소,-지우기]" href="#[auto-layout-취소,-지우기]"></a></h2><p><img src="/image/auto-16.png" alt="" class="φcx"></p><p>1-1.레이아웃 선을 선택해서 키보드의 지움 버튼(&lt;-)으로 지우거나, 우측 인스펙터 부분을 클릭 후 지움(&lt;-)해주면 지워진다.</p><p><s>애플의 이런 심플함은 가끔 경이롭기까지 하다…</s></p><p>1-2. 레이아웃을 모두 지우는 것도 지원한다.</p><p><img src="/image/auto-17.png" alt="" class="φcx"></p><p>뷰를 선택후 아래 세모 모양(Resolve Autolayout Lssues)을 클릭하면, Clear Constraints를 확인 할 수 있다.<br>누르면? 뷰에 해당하는 모든 레이아웃이 지워진다.</p><h2 id="[auto-layout-attributes]">[Auto Layout Attributes]<a title="#[auto-layout-attributes]" href="#[auto-layout-attributes]"></a></h2><p><img src="/image/autoMain-3.png" alt="이미지" class="φcx"></p><p>레이아웃을 짤때 속성을 기억해주면 좋다.</p><p>레이아웃의 지도와 같은 것!</p><h2 id="[anatomy-of-a-constraint]">[Anatomy of a Constraint]<a title="#[anatomy-of-a-constraint]" href="#[anatomy-of-a-constraint]"></a></h2><p><img src="/image/autoMain-4.png" alt="이미지" class="φcx"></p><p>이것도 구조를 이해하는 것이 좋다. (코드짤 때 도움)</p><h2 id="[safe-area와-view의-차이]">[Safe Area와 View의 차이]<a title="#[safe-area와-view의-차이]" href="#[safe-area와-view의-차이]"></a></h2><p><img src="/image/auto-6.png" alt="이미지" class="φcx"></p><p>⬆︎ Sadfe Area는 파란색 영역에 해당한다. (기기에서의 시계, 베터리, 하위 영역을 제외한 직사각형 영역)</p><p><img src="/image/auto-7.png" alt="이미지" class="φcx"></p><p>⬆︎ View의 영역 (기기의 모든 전체영역)</p><p>기준을 어디에 두느냐에 따라 레이아웃의 값도 달라지니 꼭 참고하여야할 부분이다.</p><p><img src="/image/auto-7.png" alt="이미지" class="φcx"></p><p>Pin에서도 지정할 수있도록 지원되어 있다.</p><p>//iphone8 (20.0,0,0)<br>//iphineX (44,0,34,0)</p><h2 id="[frame과-auto-layout]">[Frame과 Auto Layout]<a title="#[frame과-auto-layout]" href="#[frame과-auto-layout]"></a></h2><p><img src="/image/autoMain.png" alt="이미지" class="φcx"></p><p>이미지를 살펴보면 Auto Layout이 지원되는 방식을 알 수 있다.<br>Frame과 Auto Layout 모두 x,y축을 기본값으로 하지만, 왼쪽 이미지인 Frame은 좌표를 중점으로 두고 있다면, Auto Layout은 view사이의 상대적인 값에 중점을 두는 모습을 볼 수 있다.</p><p>그래서, 레이아웃 값을 지정할때, 첫번째 뷰를 먼저 잡고, 이와 가장 근접해 있는 뷰&gt;근접 뷰&gt; 근접 뷰&gt; 근접 뷰&gt;…이런 방식으로 레이아웃을 잡아가는 게 좋다.</p><h3 id="실전-예제-[auto-layou]">실전 예제 [Auto Layou]<a title="#실전-예제-[auto-layou]" href="#실전-예제-[auto-layou]"></a></h3><p>아래의 것을 오토레이 아웃을 이용하여 잡기</p><p><img src="/image/autosample.png" alt="" class="φcx"></p><p>1-1. 일단 view를 2개 얹고 시작.</p><p><img src="/image/autosample-1.png" alt="" class="φcx"></p><p>오토레이아웃을 이해했다면, 위 화면 정도는 금방 구현해낼 것이다. 하지만, 여기서 문제가 있다. 화면을 아래와 같이 돌리게 되면 ?</p><p><img src="/image/autosample-4.png" alt="" class="φcx"></p><p>이런 식으로 레이아웃이 깨지는 현상을 볼 수 있다. 이것도 기기의 비율에 맞춰 나올 수 있도록 하려면 ?</p><p>1-2 . Equal Width,  Equal Height 활용하기.</p><p><img src="/image/autosample-2.png" alt="" class="φcx"></p><p>레이아웃에 대한 비율을 맞추려면, control키를 누른채 드래그 하여 buleView에서 redView를 잇고 놓으면 위와 같은 목록이 뜬다.여기서 Equal Width,  Equal Height 을 통해 이전 뷰에 대한 비율 맞추기가 가능하다!</p><p>그리고 클릭에서 끝나는게 아니라 우측 탭에서 &quot;Proportional Width(Height) to view&quot;를 확인할 수 있는 데, 꼭 Edit을 눌러서 비율을 '1’로 맞추도록한다. 1:1 비율로 해야하니깐(수치를 다르게 하면서 확인해보도록)</p><p>그러면 ?</p><p><img src="/image/autosample-3.png" alt="" class="φcx"></p><p>가로방향으로 시뮬을 돌려도 레이아웃이 깨지지 않는 모습을 확인할 수 있다.</p><h3 id="실전-예제-[frame]">실전 예제 [frame]<a title="#실전-예제-[frame]" href="#실전-예제-[frame]"></a></h3><p>frame 방식도 위의 실전예제와 동일한 예제로 구현해보자.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">safeViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> view1 = <span class="type">UIView</span>()</span><br><span class="line">  <span class="keyword">let</span> view2 = <span class="type">UIView</span>()</span><br><span class="line"></span><br><span class="line">  <span class="comment">//super.view.adgeAreaInsets</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line"></span><br><span class="line">      view1.backgroundColor = .red</span><br><span class="line">      view.addSubview(view1)</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">       view2.backgroundColor = .blue</span><br><span class="line">       view.addSubview(view2)</span><br><span class="line">  </span><br><span class="line">  &#125;</span><br><span class="line">    </span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewWillAppear</span><span class="params">(<span class="number">_</span> animated: Bool)</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.viewWillAppear(animated)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"view.viewWillAppear"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewWillLayoutSubviews</span><span class="params">()</span></span> &#123; <span class="comment">//뷰의 크기가 바뀌었을때, 위치를 바꿔주는 역할. (이곳에 쓰는게 정확.</span></span><br><span class="line">     <span class="keyword">super</span>.viewWillLayoutSubviews()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> margin: <span class="type">CGFloat</span> = <span class="number">20</span></span><br><span class="line">       <span class="keyword">let</span> padding: <span class="type">CGFloat</span> = <span class="number">10</span></span><br><span class="line">       <span class="keyword">let</span> safeLayoutInset = view.safeAreaInsets</span><br><span class="line">       <span class="keyword">let</span> horizontalInset = safeLayoutInset.<span class="keyword">left</span> + safeLayoutInset.<span class="keyword">right</span></span><br><span class="line">       </span><br><span class="line">       <span class="keyword">let</span> yOffset = safeLayoutInset.top + margin</span><br><span class="line">       <span class="keyword">let</span> viewWidth = (view.frame.width - padding - horizontalInset) / <span class="number">2</span> - margin</span><br><span class="line">       </span><br><span class="line">       </span><br><span class="line">       view1.frame = <span class="type">CGRect</span>(x: safeLayoutInset.<span class="keyword">left</span> + margin, y: yOffset, width: viewWidth, height: view.bounds.height - yOffset - (safeLayoutInset.bottom + margin))</span><br><span class="line">      </span><br><span class="line">       </span><br><span class="line">       view2.frame = <span class="type">CGRect</span>(</span><br><span class="line">         origin : <span class="type">CGPoint</span>(x: view1.frame.maxX + padding, y: yOffset),</span><br><span class="line">         size: view1.bounds.size) <span class="comment">//frame넣든, bounds넣든 관계없음.</span></span><br><span class="line">       </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewSafeAreaInsetsDidChange</span><span class="params">()</span></span> &#123; <span class="comment">//세이프에어리얼과 인셋을 바꿔주는 시점을 알려주는 역할. //safeArea(세이프 영역)</span></span><br><span class="line">    <span class="keyword">super</span>.viewSafeAreaInsetsDidChange()</span><br><span class="line">    <span class="built_in">print</span>(view.safeAreaInsets)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidAppear</span><span class="params">(<span class="number">_</span> animated: Bool)</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.viewDidAppear(animated)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"viewDisAppear"</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>위 코드는 스토리보드 방식이 아닌, frame 방식을 이용하여 화면을 구현한 것이다.<br>frame을 이용했다면, 레이아웃을 굳이 잡지 않아도 된다.</p><p>다만, 사실 코드로 레이아웃을 잡는 방법은 아주 다양하고 ,<br>레이아웃의 순번을 통해 UI를 잡거나 하는, (프레임만으로는 표현할 수 없다.) 법을 사용해야할 수도 있다.</p><p>그래서 frame 외, 오토레이아웃 외에도 코드로 레이아웃을 잡는 방법은 아래를 참고하자</p><p>[링크 준비중]</p><p>(심화부분일 수 있는데 익순해지면 간단해진다.)</p><p>어쨌든 이번 포스트에서는 오토레이아웃이지만, 생각보다 손을 많이 대줘야하는?? 오토레이 아웃ㅋㅋ이지만,</p><p>완전하고 안전성있는 UI를 위한 방법이니</p><p>꼭 참고하여 앱을 만들자 !</p><p>🙀</p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> AutoLayout </tag>
            
            <tag> UIView </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]UserDefault로 데이터 저장하기</title>
      <link href="2020/05/14/Swift-UserDefault%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A0%80%EC%9E%A5%ED%95%98%EA%B8%B0/"/>
      <url>2020/05/14/Swift-UserDefault%EB%A1%9C-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A0%80%EC%9E%A5%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="userdefault-이해하기">UserDefault 이해하기<a title="#userdefault-이해하기" href="#userdefault-이해하기"></a></h2><p>쉽게 말하면, 앱상의 작은 저장공간이라고 생각하면 된다.<br>앱을 종료하여도, 사용자의 데이터가 다시 리셋되지 않도록 기억해주는 장치.</p><p>예제로 쉽게 이해해보도록 하자!</p><h2 id="userdefault-활용하기">UserDefault 활용하기<a title="#userdefault-활용하기" href="#userdefault-활용하기"></a></h2><p><img src="/image/UserDefault-1.png" alt="이미지" class="φcx"></p><h3 id="구현-목표">구현 목표<a title="#구현-목표" href="#구현-목표"></a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1. 스위치를 On으로 하면 강아지사진, Off는 고양이사진. (Bool을 활용하면된다.)</span><br><span class="line">2. 레이블도 스위치에 따라 함께 변경. &quot;Dog&quot; : &quot;Cat&quot;</span><br><span class="line">3. 텍스트필드는 save버튼 누른 다음의 뷰화면(프로필 화면)에 name으로 변경될 것.</span><br><span class="line">4. 사진(이미지),레이블(Dog&#x2F;Cat),텍스트필드(data) 모두 마찬가지.</span><br><span class="line">5. 변경내용을 모두 제자리로 돌리는 Setup버튼 구현.</span><br></pre></td></tr></table></figure><h2 id="1.-ui짜기,-구조설정">1. UI짜기, 구조설정<a title="#1.-ui짜기,-구조설정" href="#1.-ui짜기,-구조설정"></a></h2><p>1-1. @IBOutlet 및 @IBAction 연결.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@IBOutlet</span> <span class="keyword">var</span> animalPhoto: <span class="type">UIImageView!</span> <span class="comment">//imageSwich</span></span><br><span class="line"><span class="meta">@IBOutlet</span> <span class="keyword">var</span> animalLable: <span class="type">UILabel!</span> <span class="comment">//Dog</span></span><br><span class="line"><span class="meta">@IBOutlet</span> <span class="keyword">var</span> animalSwitch: <span class="type">UISwitch!</span>  <span class="comment">//스위치 아울렛</span></span><br><span class="line"><span class="meta">@IBOutlet</span> <span class="keyword">var</span> animalTextField: <span class="type">UITextField!</span> <span class="comment">//텍스트필드(name) </span></span><br><span class="line"></span><br><span class="line"><span class="comment">//스위치 액션</span></span><br><span class="line"> <span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">isSwitch</span><span class="params">(<span class="number">_</span> sender: UISwitch)</span></span> &#123;</span><br><span class="line"> &#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">//저장버튼</span></span><br><span class="line">  <span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">saveButton</span><span class="params">(<span class="number">_</span> button : UIButton)</span></span> &#123;</span><br><span class="line">  </span><br><span class="line"><span class="comment">//셋업버튼</span></span><br><span class="line">  <span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">setButton</span><span class="params">(<span class="number">_</span> button: UIButton)</span></span> &#123;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>IBOutlet과 IBAction을 구분하여 연결지어 준다.</p><p>이때, Switch는 아울렛과 액션 모두 연결해야한다. (아울렛일때와 액션일때의 기능 분리.)</p><p>1-2. Key 값 설정.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">struct Key &#123;</span><br><span class="line">  static let photo &#x3D; &quot;imageSwich&quot;</span><br><span class="line">  static let photoLable &#x3D; &quot;Dog&quot;</span><br><span class="line">  static let name &#x3D; &quot;name&quot;</span><br><span class="line">  static let isOn &#x3D; &quot;inOn&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>데이터를 불러오기 쉽게 Key값으로 변수를 설정한다.</p><h2 id="2.-userdefault-선언과-switch값-설정하기.">2. UserDefault 선언과 Switch값 설정하기.<a title="#2.-userdefault-선언과-switch값-설정하기." href="#2.-userdefault-선언과-switch값-설정하기."></a></h2><p>2-1. userDefaults를 상수로 지정.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let userDefaults &#x3D; UserDefaults.standard</span><br></pre></td></tr></table></figure><p>userDefaults를 쓰기위해 UserDefaults.standard의 고정값이 필요하다. 자주 쓰기 위해 상수로 선언하여 활용한다.</p><p>2-2. Switch 설정하기.</p><p>먼저, viewDidLoad에 스위치에 대한 상시값(isOn)을 넣는다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> isOn = userDefaults.bool(forKey: <span class="type">Key</span>.photo)</span><br><span class="line">configureData(isOn: isOn)</span><br></pre></td></tr></table></figure><ol><li>스위치는 on/off 딱 두 타입 뿐이므로, true/false로 구분되기 때문에 userDefaults중에서도 Bool타입으로 지정한다. (userDefaults를 지정할때 해당하는 것에 맞는 타입으로 꼭 선택해야한다.)</li><li>forKey는 Key값을 활용하여 넣는다.</li><li>위의 configureData는 Switch가 on상태일 때의 값을 지정한 함수이름이다. (아래 코드 참고)</li></ol><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">configureData</span><span class="params">(isOn: Bool)</span></span> &#123;</span><br><span class="line"><span class="keyword">let</span> animal = isOn ? <span class="string">"dog"</span> : <span class="string">"cat"</span></span><br><span class="line">animalPhoto.image = <span class="type">UIImage</span>(named: animal)</span><br><span class="line">animalLable.text = animal </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="4"><li>해당 스위치의 액션버튼에 userDefaults.set 적용하기</li></ol><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">isSwitch</span><span class="params">(<span class="number">_</span> sender: UISwitch)</span></span> &#123;</span><br><span class="line">   </span><br><span class="line">   configureData(isOn: sender.isOn)</span><br><span class="line">   userDefaults.<span class="keyword">set</span>(sender.isOn, forKey: <span class="type">Key</span>.photo)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>set은 저장할때 사용한다.</p><h2 id="3.-userdefault-적용.">3. UserDefault 적용.<a title="#3.-userdefault-적용." href="#3.-userdefault-적용."></a></h2><p>3-1. 저장하기 버튼에 UserDefault 적용.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">saveButton</span><span class="params">(<span class="number">_</span> button : UIButton)</span></span> &#123;</span><br><span class="line">    <span class="keyword">let</span> animal = animalSwitch.isOn ? <span class="string">"dog"</span> : <span class="string">"cat"</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> userDefaults = <span class="type">UserDefaults</span>.standard</span><br><span class="line">    <span class="comment">//    userDefaults.set(animalLable.text, forKey: Key.photoLable) //아래의 photo와 중복되므로 생략해도됨. </span></span><br><span class="line">    userDefaults.<span class="keyword">set</span>(animal, forKey: <span class="type">Key</span>.photo)</span><br><span class="line">    userDefaults.<span class="keyword">set</span>(animalSwitch.isOn, forKey: <span class="type">Key</span>.isOn)</span><br><span class="line">    userDefaults.<span class="keyword">set</span>(animalTextField.text, forKey: <span class="type">Key</span>.name)</span><br></pre></td></tr></table></figure><ol><li>IBAtion타입을 Any?에서 button으로 바꿔준다. (_ button : UIButton)</li><li>animalSwitch.isOn ? “dog” : &quot;cat&quot;을 적용할 수 있는 변수 animal 선언. (func configureData 에서 써준건 해당 함수에서만 쓸 수 있으니까… 재선언)</li><li>값에 맞게 모두 set을 적용한다.<br>이미지  = animal, (Key.photo) / 스위치 = animalSwitch.isOn(Key.isOn)/ 텍스트필드 = animalTextField.text(<a href="http://Key.name" target="_blank" rel="noopener">Key.name</a>)</li></ol><p>3-2.  셋업 버튼에 UserDefault 적용.</p> <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//셋업버튼</span></span><br><span class="line"><span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">setButton</span><span class="params">(<span class="number">_</span> button: UIButton)</span></span> &#123;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> userDefaults = <span class="type">UserDefaults</span>.standard</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> animal = animalSwitch.isOn ? <span class="string">"dog"</span> : <span class="string">"cat"</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> isPhoto = userDefaults.bool(forKey: <span class="type">Key</span>.photo)</span><br><span class="line">  <span class="keyword">let</span> isanimalSwitch = userDefaults.bool(forKey: <span class="type">Key</span>.isOn)</span><br><span class="line">  <span class="keyword">let</span> isPhotoLable = userDefaults.bool(forKey: <span class="type">Key</span>.photoLable)</span><br><span class="line">  <span class="keyword">let</span> isAnimalTextfield = (userDefaults.object(forKey: <span class="type">Key</span>.name) <span class="keyword">as</span>? <span class="type">Data</span>) ?? <span class="type">Data</span>()</span><br><span class="line">  </span><br><span class="line">  animalPhoto.image = <span class="type">UIImage</span>(named: animal)</span><br><span class="line">  animalSwitch.setOn(isanimalSwitch, animated: <span class="literal">true</span>)</span><br><span class="line">  animalTextField.text = <span class="string">"\(Key.name)"</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>셋업버튼에 대한 새로운 이름의 상수로 선언후 (Save한 값으로 되돌릴 수 있는 작업) 값 선언.</li><li>타입을 지정할 수 없는 경우 object 선언하여 타입캐스팅이용함. (아래 참고)</li></ol> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">let isAnimalTextfield &#x3D; (userDefaults.object(forKey: Key.name) as? Data) ?? Data()</span><br></pre></td></tr></table></figure><p>위를 늘려쓰면 아래와 같은 느낌. (예시임,)</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> ob = userDefaults.object(forKey: <span class="type">Key</span>.today)</span><br><span class="line"><span class="keyword">let</span> tempDate = ob <span class="keyword">as</span>? <span class="type">Date</span></span><br><span class="line"><span class="keyword">let</span> tempTodat = tempDate ?? <span class="type">Date</span>()</span><br></pre></td></tr></table></figure><ol start="3"><li>데이터에 해당하는 값 매칭. (고정값임((외우자))</li></ol><ul><li>image는 UIimage</li><li>Switch는 setOn</li><li>Textfield는 text</li><li>(해당없지만)Date는 setDate</li></ul><p><img src="/image/UserDefault-2.png" alt="이미지" class="φcx"></p><p>그러면 일단 여기까지는 완성이 된다.</p><p>(이미지가 안뜬다면, Assets.xcassets에 image를 추가하였는지 확인!..  파일이름은 강아지: dog, 고양이: cat)</p><p>Save도 정상적으로 되나 확인해볼까? 하는데, 키보드가 안내려가는 상황 발생!</p><p>( cm + k 하면 내려가지만 언제나 앱이라는 가정하에 진행해야하니까…!!!)</p><h2 id="4.-textfield-delegate">4. Textfield Delegate<a title="#4.-textfield-delegate" href="#4.-textfield-delegate"></a></h2><p>이번에는 딜리게이트를 이용하여 키보드에 대한 설정을 바꿔보도록 한다.</p><p>딜리게이트는,</p><p>‘(너가 기본적으로 제공해주는 것보다)내가 알아서 설정해서 쓸게,!’ 라는 걸 선언하는 것이다.</p><p>4-1. Delegate 선언</p> <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">animalDefaultViewController</span>: <span class="title">UIViewController</span>, <span class="title">UITextFieldDelegate</span> </span>&#123;</span><br></pre></td></tr></table></figure><p>클래스에 UITextFieldDelegate를 추가한다.</p><p>4-2. 셀프 선언</p> <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">super</span>.viewDidLoad()</span><br><span class="line"></span><br><span class="line">animalTextField.delegate = <span class="keyword">self</span></span><br></pre></td></tr></table></figure><p>딜리게이트 설정이 필요한 해당 텍스트필드(animalTextField)와 delegate를 불러와 self를 viewDidLoad에 선언한다.</p><p>4-2. return 시 키보드 닫음 설정.</p> <figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//리턴시 키보드 닫음</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">textFieldShouldReturn</span><span class="params">(<span class="number">_</span> textField: UITextField)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">  textField.resignFirstResponder()</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>크게 구현할 내용은 없고, 키보드에 [Return]을 누르게 되면 키보드가 닫힐 수 있도록 설정한다.</p><p>그러면…</p><p><img src="/image/UserDefault-3.png" alt="이미지" class="φcx"></p><p>텍스트필드를 입력하고 리턴을 누르면 키보드가 내려간다 !!</p><p>이제 이것저것 설정하고 Save 버튼을 누르면? …!</p><p>화면이 넘어가지 않는다…</p><p>😸</p><h2 id="5.화면전환">5.화면전환<a title="#5.화면전환" href="#5.화면전환"></a></h2><p>이미 스토리보드로 시작한거… segue로 화면전환을 할까? 하다가 역시 깔끔한게 좋아서 코드로 화면전환을 해보자 !!</p><p>원래 코드로 시작하면, 끝까지 코드로만 하고,<br>스토리보드로 시작하면, 끝까지 스코리보드로만 하는 게 정석인 듯 싶지만…</p><p>겸하는 것도 어찌됐든 가능하다.</p><p>일단, Save버튼을 누른후 화면이 전환이 되는 구성이기 때문에 Save버튼으로 이동한다.</p><p>5-1. 화면전환 메서드</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">animalTextField.text ?? <span class="string">""</span></span><br><span class="line"><span class="keyword">let</span> story = <span class="type">UIStoryboard</span>(name: <span class="string">"Main"</span>, bundle: <span class="literal">nil</span>)</span><br><span class="line"><span class="keyword">guard</span> <span class="keyword">let</span> vc = story.instantiateViewController(identifier:  <span class="string">"animalViewController"</span>) <span class="keyword">as</span>? animalViewController <span class="keyword">else</span> &#123;<span class="keyword">return</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//값전달</span></span><br><span class="line">vc.profileName = <span class="string">"\(animalTextField.text!)"</span></span><br><span class="line">vc.animalName = <span class="string">"\(animalLable.text!)"</span></span><br><span class="line">vc.profileImage = <span class="type">UIImage</span>(named: animal)!</span><br><span class="line"></span><br><span class="line"><span class="comment">//화면전환 스타일  </span></span><br><span class="line">vc.modalPresentationStyle = .fullScreen</span><br><span class="line">present(vc, animated: <span class="literal">true</span>)</span><br></pre></td></tr></table></figure><ol><li>let story = UIStoryboard(name: “Main”, bundle: nil) 스토리 보드를 가져온다. &quot;Main&quot;은 거의 고정값이므로 외운다.(맨앞에 M은 대문자 필수!)</li><li>vc에 스토리보드의 instantiateViewController을 불러온 후, identifier이름을 붙여넣는다. (identifier:  “animalViewController”). animalViewController은 두 번째 뷰컨 이름(목적지뷰)이다.</li><li>as? animalViewController else {return} 역시 같은 이름으로 붙여넣는다. (identifier 이름은 보통 뷰컨트롤러의 이름과 동일하게 짓는다.)</li><li>vc.에 화면전환시 값이 전달될 곳으로 매칭한다. 두번째 뷰에는 이미지-이미지, 텍스트필드 - 레이블1, 레이블 - 레이블2 로 총 3가지만 받아오면 된다. (이미지의 경우 UIImage(named:  )!의 형식임을 외우자.)</li><li>vc.modalPresentationStyle = .fullScreen로 프리젠트 스타일을 설정하고, present(vc, animated: true)를 불러온다. (필수)</li></ol><p>그러면 ?</p><p>화면은 전환이 되나, 데이터가 이동되지 않은 모습을 볼 수 있다</p><p>Why?</p><p>전달된 값을 받는 작업을 수행하지 않았기 때문에…</p><p>5-2. 값 받기</p><p>일단, 두 번째 뷰 컨트롤러(animalViewController)로 이동한다.</p><p>이건 초간단하니 간단하게.</p><ol><li>아울렛 연결</li></ol><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@IBOutlet</span> <span class="keyword">var</span> profilePhoto: <span class="type">UIImageView!</span></span><br><span class="line"><span class="meta">@IBOutlet</span> <span class="keyword">var</span> profileLable: <span class="type">UILabel!</span></span><br><span class="line"><span class="meta">@IBOutlet</span> <span class="keyword">var</span> profileNameLable: <span class="type">UILabel!</span></span><br></pre></td></tr></table></figure><ol start="2"><li>변수 만들기</li></ol><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> profileName = <span class="string">""</span></span><br><span class="line">  <span class="keyword">var</span> animalName = <span class="string">""</span></span><br><span class="line">  <span class="keyword">var</span> profileImage = <span class="type">UIImage</span>()</span><br></pre></td></tr></table></figure><ol start="3"><li>viewDidLoad에 값 설정.</li></ol><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">profileNameLable.text = profileName</span><br><span class="line">   profileLable.text = animalName</span><br><span class="line">   profilePhoto.image = profileImage</span><br></pre></td></tr></table></figure><p>두번째 화면으로 넘어갔을 때 바로 값을 불러와야하기때문에 viewDidLoad에 값을 설정한다.<br>이 부분은. 5-1 의 4)부분을 참고하여 매칭하면 된다.</p><p>그러고 빌드를 하면?</p><p><img src="/image/UserDefault-4.png" alt="이미지" class="φcx"></p><p>이런 식으로 모두 값을 받아오는 모습을 볼 수 있다.</p><p>사진 아래에 [&lt;&lt;정보변경하기]라는 버튼을 달아줬다. 이전화면으로 돌아가는 게 없어서 불편해서…</p><ol start="4"><li>화면 닫힘. (이전 화면으로)</li></ol><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">editButton</span><span class="params">(<span class="number">_</span> sender: <span class="keyword">Any</span>)</span></span> &#123;</span><br><span class="line">  </span><br><span class="line">  dismiss(animated: <span class="literal">true</span>) &#123;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>@IBAction 으로 이은후 dismiss만 해주면 끝.</p><p>끝 !!</p><p>앱을 종료하여도, 가장 마지막으로 값으로 Save한 시점에 계속 저장되어있는 모습을 볼 수 있다.</p><p>그리고 setUp버튼은 Save한 값과 다르게 설정하다가 setUp을 누르면 Save한 값으로 돌아가는 용도이다.</p><p>직접해서 확인해보면 될 듯… ㅎㅎ</p><p>이것으로 마무리 한다!</p><p>👐🏻 👾 👐🏻</p><h3 id="[전체코드-]">[전체코드 ]<a title="#[전체코드-]" href="#[전체코드-]"></a></h3><p>전체 코드를 보며 흐름을 참고하자!</p><ul><li>첫번 째 뷰컨(animalDefaultViewController)</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">animalDefaultViewController</span>: <span class="title">UIViewController</span>, <span class="title">UITextFieldDelegate</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">Key</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> photo = <span class="string">"imageSwich"</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> photoLable = <span class="string">"Dog"</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> name = <span class="string">"name"</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> isOn = <span class="string">"inOn"</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">var</span> animalPhoto: <span class="type">UIImageView!</span> <span class="comment">//imageSwich</span></span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">var</span> animalLable: <span class="type">UILabel!</span> <span class="comment">//Dog</span></span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">var</span> animalSwitch: <span class="type">UISwitch!</span>  <span class="comment">//스위치 아울렛</span></span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">var</span> animalTextField: <span class="type">UITextField!</span></span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> userDefaults = <span class="type">UserDefaults</span>.standard</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line">    </span><br><span class="line">    animalTextField.delegate = <span class="keyword">self</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> isOn = userDefaults.bool(forKey: <span class="type">Key</span>.photo)</span><br><span class="line">    configureData(isOn: isOn)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">isSwitch</span><span class="params">(<span class="number">_</span> sender: UISwitch)</span></span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> userDefaults = <span class="type">UserDefaults</span>.standard</span><br><span class="line">    configureData(isOn: sender.isOn)</span><br><span class="line">    userDefaults.<span class="keyword">set</span>(sender.isOn, forKey: <span class="type">Key</span>.photo)</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">configureData</span><span class="params">(isOn: Bool)</span></span> &#123;</span><br><span class="line">    <span class="keyword">let</span> animal = isOn ? <span class="string">"dog"</span> : <span class="string">"cat"</span></span><br><span class="line">    animalPhoto.image = <span class="type">UIImage</span>(named: animal)</span><br><span class="line">    animalLable.text = animal</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//저장버튼</span></span><br><span class="line">  <span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">saveButton</span><span class="params">(<span class="number">_</span> button : UIButton)</span></span> &#123;</span><br><span class="line">    <span class="keyword">let</span> animal = animalSwitch.isOn ? <span class="string">"dog"</span> : <span class="string">"cat"</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> userDefaults = <span class="type">UserDefaults</span>.standard</span><br><span class="line"><span class="comment">//    userDefaults.set(animalLable.text, forKey: Key.photoLable)</span></span><br><span class="line">    userDefaults.<span class="keyword">set</span>(animal, forKey: <span class="type">Key</span>.photo)</span><br><span class="line">    userDefaults.<span class="keyword">set</span>(animalSwitch.isOn, forKey: <span class="type">Key</span>.isOn)</span><br><span class="line">    userDefaults.<span class="keyword">set</span>(animalTextField.text, forKey: <span class="type">Key</span>.name)</span><br><span class="line"> </span><br><span class="line">    animalTextField.text ?? <span class="string">""</span></span><br><span class="line">    <span class="keyword">let</span> story = <span class="type">UIStoryboard</span>(name: <span class="string">"Main"</span>, bundle: <span class="literal">nil</span>)</span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> vc = story.instantiateViewController(identifier:  <span class="string">"animalViewController"</span>) <span class="keyword">as</span>? animalViewController <span class="keyword">else</span> &#123;<span class="keyword">return</span>&#125;</span><br><span class="line">    </span><br><span class="line">    vc.profileName = <span class="string">"\(animalTextField.text!)"</span></span><br><span class="line">    vc.animalName = <span class="string">"\(animalLable.text!)"</span></span><br><span class="line">    vc.profileImage = <span class="type">UIImage</span>(named: animal)!</span><br><span class="line"></span><br><span class="line">      </span><br><span class="line">    vc.modalPresentationStyle = .fullScreen</span><br><span class="line">    present(vc, animated: <span class="literal">true</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//리턴시 키보드 닫음</span></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">textFieldShouldReturn</span><span class="params">(<span class="number">_</span> textField: UITextField)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    textField.resignFirstResponder()</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//셋업버튼</span></span><br><span class="line">  <span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">setButton</span><span class="params">(<span class="number">_</span> button: UIButton)</span></span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> userDefaults = <span class="type">UserDefaults</span>.standard</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> animal = animalSwitch.isOn ? <span class="string">"dog"</span> : <span class="string">"cat"</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> isPhoto = userDefaults.bool(forKey: <span class="type">Key</span>.photo)</span><br><span class="line">    <span class="keyword">let</span> isanimalSwitch = userDefaults.bool(forKey: <span class="type">Key</span>.isOn)</span><br><span class="line">    <span class="keyword">let</span> isPhotoLable = userDefaults.bool(forKey: <span class="type">Key</span>.photoLable)</span><br><span class="line">    <span class="keyword">let</span> isAnimalTextfield = (userDefaults.object(forKey: <span class="type">Key</span>.name) <span class="keyword">as</span>? <span class="type">Data</span>) ?? <span class="type">Data</span>()</span><br><span class="line">    </span><br><span class="line">    animalPhoto.image = <span class="type">UIImage</span>(named: animal)</span><br><span class="line">    animalSwitch.setOn(isanimalSwitch, animated: <span class="literal">true</span>)</span><br><span class="line">    animalTextField.text = <span class="string">"\(Key.name)"</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>두 번째 뷰컨(animalViewController)</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">animalViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">   <span class="keyword">var</span> profileName = <span class="string">""</span></span><br><span class="line">   <span class="keyword">var</span> animalName = <span class="string">""</span></span><br><span class="line">   <span class="keyword">var</span> profileImage = <span class="type">UIImage</span>()</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line"></span><br><span class="line">    profileNameLable.text = profileName</span><br><span class="line">    profileLable.text = animalName</span><br><span class="line">    profilePhoto.image = profileImage</span><br><span class="line">      </span><br><span class="line">      </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">  </span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">var</span> profilePhoto: <span class="type">UIImageView!</span></span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">var</span> profileLable: <span class="type">UILabel!</span></span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">var</span> profileNameLable: <span class="type">UILabel!</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">editButton</span><span class="params">(<span class="number">_</span> sender: <span class="keyword">Any</span>)</span></span> &#123;</span><br><span class="line">    </span><br><span class="line">    dismiss(animated: <span class="literal">true</span>) &#123;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> TextField </tag>
            
            <tag> TextFieldDelegate </tag>
            
            <tag> UserDefault </tag>
            
            <tag> 화면전환 </tag>
            
            <tag> ImageView </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[라이브러리]SideMenu사용하기</title>
      <link href="2020/05/13/%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-SiedMenu%EC%82%AC%EC%9A%A9%EB%B2%95/"/>
      <url>2020/05/13/%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-SiedMenu%EC%82%AC%EC%9A%A9%EB%B2%95/</url>
      
        <content type="html"><![CDATA[<p>앱에서 자주 사용되는 ‘사이드메뉴 바’ 가 있다.</p><p>일명 '햄버거메뉴’라고도 한다.</p><p>코드로 직접구현해도 되겠지만, 쉽게 라이브러리를 통해 구현도 가능하니 방법을 알아보자.</p><h2 id="1.-설치하기">1. 설치하기<a title="#1.-설치하기" href="#1.-설치하기"></a></h2><p>1-1. 사이트 이동하기.</p><p>아래 링크를 클릭하여 해당 사이트로 이동.</p><p><a href="https://github.com/jonkykong/SideMenu" target="_blank">[https://github.com/jonkykong/SideMenu]</a></p><p><img src="/image/sideMenu-2.png" alt="이미지" class="φcx"></p><p>1-2. 터미널에 cocoapods install하기</p><ul><li>설치</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo gem install cocoapods</span><br></pre></td></tr></table></figure><ul><li>해당 경로로 가서 cocoapods init ~ install</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod init</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod install</span><br></pre></td></tr></table></figure><p>1-3. 버전에 맞춰 Podfile 설치</p><p>최신버전</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod &#39;SideMenu&#39;</span><br></pre></td></tr></table></figure><p>(만약 swift 버전이 이전 버전일 경우 사이트의 Installation 부분 참조하여 설치!)</p><h2 id="2.-사용하기">2. 사용하기<a title="#2.-사용하기" href="#2.-사용하기"></a></h2><p>2-1. 사이드메뉴로 할 컬트롤러의 class 이름을 &quot;SideMenuNavigationController&quot;로 지정한다.</p><p>(podfile에 SideMenu라이브러리가 정상적으로 설치가 되었다면, 아래 이미지의 해당 메뉴를 확인 할 수 있을 것이다. )</p><p><img src="/image/sideMenu.png" alt="이미지" class="φcx"></p><p>2-2.  해당 부분의 on은 왼쪽으로, off는 오른쪽 팝업이라는 의미다. 이렇게 선택해서 사용하면 된다.</p><p><img src="/image/sideMenu-1.png" alt="이미지" class="φcx"></p><p>적용된 모습. png</p><p>😺</p><p>잘모르겠다면, 글쓴이가 직접 쓴 사용방법이 있으니, 해당 사이트의 Usage 구간을 참고하도록 하자.</p>]]></content>
      
      
      <categories>
          
          <category> Library </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 라이브러리 </tag>
            
            <tag> SideMenu </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]스토리보드에서 Segue이해하기</title>
      <link href="2020/05/08/Swift-%EC%8A%A4%ED%86%A0%EB%A6%AC%EB%B3%B4%EB%93%9C%EC%97%90%EC%84%9C-Segue%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0/"/>
      <url>2020/05/08/Swift-%EC%8A%A4%ED%86%A0%EB%A6%AC%EB%B3%B4%EB%93%9C%EC%97%90%EC%84%9C-Segue%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<p>앱개발하다보면 필수적으로 [화면전환]에 대한 문제를 맞딱드리게 된다…</p><p>그래서 막상 코드로 구현하다 보면…</p><p>생각보다(?:0) 어렵다… 쉬운듯 어렵고, 심플한듯 복잡한…</p><p>사용할 땐 화면에 대한 생각전혀 해보지 못하고 슉슉 넘겨댔는데…</p><p>구현하는 건 왜케 어려워… 할 수도 있다. <s>실제로 나도 그랬으니까.</s></p><p>그리고 그게 풀리지 않을때는 구글링해보다가…</p><p>어라 ? 모야모야 스토리보드에서 쉽게 화면전환 할 수 있잖아~~~?? 라고 생각하고 <s>그게 나와 세그웨이의 첫만남…</s></p><p>세그웨이를 ㅍㅍ검색하시는 분들도 있겠지…  <s>나야나</s></p><p><s>근데 막상 세그웨이 글 봐도 원하는게 안돼서 그냥 코드로 했었음ㅋㅋ…ㅠㅠ</s></p><p>그래서 나와 비슷한 경험을 하시는(?) 분들을 위해 세그웨이에 대한 정보를 정말 간단하게 정리해보았다.</p><h2 id="세그웨이-이해">세그웨이 이해<a title="#세그웨이-이해" href="#세그웨이-이해"></a></h2><p>한쪽 방향으로만 흐르는 [화면전환]으로, 출발지와 목적지의 특성을 갖는다.</p><p>대충 이렇게 생각하면 쉬울 것 같다. (이게 다니까…)</p><h2 id="세그웨이의-특징">세그웨이의 특징<a title="#세그웨이의-특징" href="#세그웨이의-특징"></a></h2><ul><li><p>스토리 보드로 쉽게 구현이 가능하다.</p></li><li><p>소스코드를 이용해서 화면 전환을 처리를 하려면 대상이 되는 뷰 컨트롤러의 정보를 읽어와 직접 인스턴스화 한 후에 화면을 전환해야 하지만, 세그웨이를 이용하면 뷰 컨트롤러에 대한 정보가 없어도 된다. (세그웨이가 스토리보드상의 연결 정보를 이용하여 대상 뷰 컨트롤러의 인스턴스를 자동으로 만들어 주기 때문)</p></li></ul><h2 id="세그웨이의-장단점">세그웨이의 장단점<a title="#세그웨이의-장단점" href="#세그웨이의-장단점"></a></h2><p><strong>장점</strong></p><ul><li>구현이 쉽다.</li><li>화면과 화면을 연결하기 위해 아무런 소스 코드도 필요로 하지 않는다</li></ul><p><strong>단점</strong></p><ul><li>일괄적으로 적용되는 것이라 특정 상황에 대응하기 어렵다.</li></ul><p>알다시피, 모든 개념에는 좋고 안좋고 보다, 각자의 상황에 알맞게 사용하는 게 중요하다는 점을 꼭 기억하자 !</p><h2 id="세그웨이-종류">세그웨이 종류<a title="#세그웨이-종류" href="#세그웨이-종류"></a></h2><p>세그웨이의 종류는 2가지가 있다. &quot;액션 세그웨이(Action Segue == Trigger Segue)&quot;와 &quot;메뉴얼 세그웨이(Manual Segue)&quot;가 있는데, 쉽게 구분하자면 아래를 보자.</p><ul><li>액션 세그웨이(Action Segue  :  버튼(출발지) - 뷰컨트롤러(목적지)</li><li>메뉴얼 세그웨이(Manual Segue)  :  뷰컨트롤러(출발지)  ~</li></ul><p>액션 세그웨이는 버튼의 터치 이벤트가 세그웨이로 실행으로 바로 연결되므로, 소스 코드를 추가하지 않아도 화면 전환 기능을 구현하지만,</p><p>매뉴얼 세그웨이는 UIKit 프레임워크에 정의된 performSegue(withIdentifier : sender) 메소드를 사용하기 때문에 원활한 사용을 위해 별도의 Identifier를 지정해줘야한다. ( 이것에 대한 내용은 이후 구현 포스팅에서 참고하자)</p><h2 id="1.-세그웨이-활용">1. 세그웨이 활용<a title="#1.-세그웨이-활용" href="#1.-세그웨이-활용"></a></h2><p>일단 글만보면 이해가 안되므로 아래 이미지를 보자.</p><p>(예시는 액션세그웨이로 진행하였다.)</p><p><img src="/image/segue-1.png" alt="이미지" class="φcx"></p><p>1-1. 이미지와 같이 뷰컨트롤러를 2개 만들고 A ViewController에 Button을 하나 추가한다.<br>1-2. 스토리보드상의 Button을 control을 누른 채 다음으로 보여줄 화면(목적지화면)으로 드래그 하여 커서를 놓는다.<br>1-3. 그럼 검정색 작은 메뉴얼이 뜨는데 여기서 show로 해줄지, PresentModally로 해줄지 선택한다.<br>(show는 단순화면 전환시, PresentModally 화면전환시 부가 기능 추가)<br>1-4. 생성된 sege줄을 클릭하면 (위 이미지)1-3에 대한 변경이 가능하니 참고하자.</p><p><img src="/image/segue-2.png" alt="이미지" class="φcx"></p><p>1-5. PresentModally로 선택시 present Stly 변경이 가능하다.<br>(Automatic은 일반 present 스타일로 위에서 아래로 나오는 카드형. FullScreen은 풀화면형.)</p><p>위를 적용시 빌드를 하면, 버튼을 누를 때 목적지화면으로 전환되는 모습을 볼 수 있다.</p><p>다만, 그 화면에서는 이제 아무것도 할 수가 없다.</p><p>왜냐하면 정말 뷰만 이어 놓았기 때문에…</p><p>(뒤로갈 수 있는 버튼도 없고, 네비게이션 바가 있는 것도 아니고…)</p><h2 id="2.-exit">2. Exit<a title="#2.-exit" href="#2.-exit"></a></h2><p>그래서 당황한 나머지? 이런 실수를 할 수 있다.</p><p>&quot;1.에서 한 방법처럼 또 show!로 세그웨이 연결해주면 되지 !!! &quot;</p><p>하고 아래의 이미지와 같이 행동했다면…</p><p><img src="/image/segue-4.png" alt="이미지" class="φcx"></p><p>아주 이상한 경험을 할 수 있다.</p><p>그러니까,</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">A -&gt; B </span><br><span class="line">B &lt;- A</span><br></pre></td></tr></table></figure><p>의 형태로 화면전환이 되는 것이 아니라,</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A -&gt; B -&gt; A -&gt; B -&gt; A -&gt; B -&gt; A -&gt; B -&gt; A -&gt; B ...(무한)</span><br></pre></td></tr></table></figure><p>이런 형태로 화면이 계속 생성되서…</p><p><img src="/image/segue-5.png" alt="이미지" class="φcx"></p><p>이런 몹쓸 형태의 구조가 된다.</p><p>세그웨이는 목적지가 되는 뷰 컨트롤러의 인스턴스를 자동으로 생성하기때문에,<br>역방향의 세그웨이를 다시 생성한다는 것은 이미 존재하는 뷰 컨트롤러의 인스턴스를 또 다시 만들어 낸다는 의미이다. 그러면 동일한 뷰 컨트롤러가 중복되는 것.</p><p>이러면 앱을 사용할 수 없다. (오류가 날 수 있음)</p><p>그래서 우리는 [화면복귀]라는 개념을 알아야한다.</p><p>화면 복귀하는 법은 아주 간단하다. unwindow개념을 사용하면 된다.</p><p>새로운 화면으로 전환하는 것을 Wind 라고 한다면 Unwind는 Wind 작업을 해제한다는 의미라고 볼 수 있다.</p><p>2-1. unwind 코드 불러오기.</p><p><img src="/image/unwind.png" alt="이미지" class="φcx"></p><p>2-2. unwind에 복귀할 화면(ViewController)으로 고쳐쓰기.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@IBAction func unwindToAViewController(_ unwindSegue: UIStoryboardSegue) &#123;</span><br><span class="line">   let sourceViewController &#x3D; unwindSegue.source</span><br><span class="line">   </span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>A -&gt; B</p><p>AViewController에서 BViewController로 이동하는 화면이었다면, B에서 다시 A로 복귀해야하므로, AViewController에 해당 코드를 입력함.</p><p>2-3. Exit 달기.</p><p><img src="/image/segue-6.png" alt="이미지" class="φcx"></p><p>BViewController에서 버튼을 드래그 하고 &quot;도크(노란색)&quot;버튼 에서 맨뒤에 있는 Exit단추에 놓아주면<br>2-2에서 만들었던 목록이 아래에 뜨고 돌아갈 화면의 ViewController이름을 선택하면 된다.</p><p>해당화면(BViewController)에서 버튼을 누르면 다시 이전화면(AViewController)으로 복귀할 수 있도록 …</p><p>그럼 ? present가 계속 생성되는 것이 아닌, 이전화면으로 깔끔하게 돌아가는 모습을 볼 수 있다.</p><p>👏🏻👏🏻👏🏻 🤠</p><p>세그웨이에 대한 자세한 활용은 다음 포스트에 남길 계획이다.</p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> 화면전환 </tag>
            
            <tag> Segue </tag>
            
            <tag> present </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift] Segue(세그웨이)를 이용한 화면전환</title>
      <link href="2020/05/08/Swift-Segue-%EC%84%B8%EA%B7%B8%EC%9B%A8%EC%9D%B4-%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-%ED%99%94%EB%A9%B4%EC%A0%84%ED%99%98/"/>
      <url>2020/05/08/Swift-Segue-%EC%84%B8%EA%B7%B8%EC%9B%A8%EC%9D%B4-%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%9C-%ED%99%94%EB%A9%B4%EC%A0%84%ED%99%98/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]화면전환 구현하기</title>
      <link href="2020/05/07/Swift-%ED%99%94%EB%A9%B4%EC%A0%84%ED%99%98-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0/"/>
      <url>2020/05/07/Swift-%ED%99%94%EB%A9%B4%EC%A0%84%ED%99%98-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<p>하… 힘들 쓰… 뭐했다고 힘들지? 착각인가?</p><p>어쨌든 오늘은 레이블과 화면전환을 이용해 데이터를 전달하는 용도로 만들어 보고자 한다.</p><p>먼저 첫 화면을 만든다.</p><h2 id="1.-화면구성-(프레임짜기)">1. 화면구성 (프레임짜기)<a title="#1.-화면구성-(프레임짜기)" href="#1.-화면구성-(프레임짜기)"></a></h2><p>1-1. 레이블2개, 버튼 1개 만들기</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">endViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> editButton = <span class="type">UIButton</span>()</span><br><span class="line">  <span class="keyword">let</span> namelabel = <span class="type">UILabel</span>()</span><br><span class="line">  <span class="keyword">let</span> emaillabel = <span class="type">UILabel</span>()</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line">    </span><br><span class="line">    namelabel.frame = <span class="type">CGRect</span>(x: <span class="number">70</span>, y: <span class="number">50</span>, width: view.frame.width - <span class="number">140</span>, height: <span class="number">50</span>)</span><br><span class="line">    namelabel.backgroundColor = .black</span><br><span class="line">    namelabel.textAlignment = .center</span><br><span class="line">    namelabel.text = <span class="string">"이름"</span></span><br><span class="line">    namelabel.textColor = .white</span><br><span class="line">    namelabel.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">30</span>)</span><br><span class="line">    view.addSubview(namelabel)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    emaillabel.frame = <span class="type">CGRect</span>(x: <span class="number">70</span>, y: <span class="number">120</span>, width: view.frame.width - <span class="number">140</span>, height: <span class="number">50</span>)</span><br><span class="line">    emaillabel.backgroundColor = .black</span><br><span class="line">    emaillabel.textAlignment = .center</span><br><span class="line">    emaillabel.text = <span class="string">"email주소"</span></span><br><span class="line">    emaillabel.textColor = .white</span><br><span class="line">    emaillabel.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">30</span>)</span><br><span class="line">    view.addSubview(emaillabel)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    editButton.frame = <span class="type">CGRect</span>(x: <span class="number">70</span>, y: <span class="number">220</span>, width: view.frame.width - <span class="number">140</span>, height: <span class="number">50</span>)</span><br><span class="line">    editButton.setTitle(<span class="string">"정보변경하기"</span>, <span class="keyword">for</span>: .normal)</span><br><span class="line">    editButton.backgroundColor = .darkGray</span><br><span class="line">    view.addSubview(editButton)</span><br><span class="line">    </span><br><span class="line">    editButton.addTarget(<span class="keyword">self</span>, action: #selector(editbutton(<span class="number">_</span>:)), <span class="keyword">for</span>: .touchUpInside)</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">editbutton</span><span class="params">(<span class="number">_</span> sender: UIButton)</span></span> &#123;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><h3 id="lable과-button에서-기억해야할-것">Lable과 Button에서 기억해야할 것<a title="#lable과-button에서-기억해야할-것" href="#lable과-button에서-기억해야할-것"></a></h3><ul><li>Lable은 text고 ,  Button은 setTitle이다.</li><li>Lable Font size가 은근히 안외워 진다. emaillabel.font = UIFont.systemFont(ofSize: 30)</li><li>CGrect의 <code>view.frame.width</code>는 기기의 비율을 기준으로 하기 때문에 어떤 기기에서든 동일한 비율값으로 정의된다. (많이 사용될 것 같다.)</li><li>해당 변수를 전체에서 사용하고자 하면 변수를 바깥으로 뺴줘야한다.</li></ul><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">endViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> editButton = <span class="type">UIButton</span>()</span><br><span class="line"> <span class="keyword">let</span> namelabel = <span class="type">UILabel</span>()</span><br><span class="line"> <span class="keyword">let</span> emaillabel = <span class="type">UILabel</span>()</span><br></pre></td></tr></table></figure><p>이 외에는 다 외웠음 ㅎㅎ</p><p>위의 코드로 메인화면이 완성되었다면, 아래의 화면을 확인 할 수 있을 것이다.</p><p><img src="/image/Start-1.png" alt="이미지" class="φcx"></p><p>이후에 할 작업은 “정보변경하기(editbutton)” 버튼을 눌렀을 때 이동할 화면을 만들어 준다.</p><h2 id="2.-전환될-화면-만들기">2. 전환될 화면 만들기<a title="#2.-전환될-화면-만들기" href="#2.-전환될-화면-만들기"></a></h2><p>버튼을 누르면 화면이 전환되는 방식으로 구현할 것이기 때문에 viewcontrollerr가 하나 더 필요하다.<br>viewcontrollerr를 하나 더 만들고 1-1과 마찬가지로 프레임을 짠다.</p><p>2-1. [닫기], [저장] 버튼을 만들어준다.</p><p>먼저 내가 구현할 화면은 present(ios13이상)타입의 화면이다. present는 화면이 아래서 위로 올라오는 방식인데, 이 경우 값전달이 안되는 게 기본값이다. (apple기본앱중 알람을 참고하면 된다.) 그냥 손으로 내려서 끌 수 있는 간편한 창같은 것인데… 화면전환으로 간편하게 값 전달을 하고싶다면 fullscreen타입으로 하면된다.</p><p>그럼에도 굳이 present화면으로 값전달을 하고 싶은 경우라면… 그건 다음 post에 올리기로 하고…</p><p>나는 닫기 버튼과 저장버튼을 만들기로 정했다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">startViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> nameTextField = <span class="type">UITextField</span>()</span><br><span class="line">  <span class="keyword">let</span> emailTextField = <span class="type">UITextField</span>()</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line">    </span><br><span class="line">    view.backgroundColor = .black</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> buttonX = <span class="type">UIButton</span>()</span><br><span class="line">    buttonX.frame = <span class="type">CGRect</span>(x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="number">50</span>, height: <span class="number">50</span>)</span><br><span class="line">    buttonX.setTitle(<span class="string">"닫기"</span>, <span class="keyword">for</span>: .normal)</span><br><span class="line">    buttonX.setTitleColor(.orange, <span class="keyword">for</span>: .normal)</span><br><span class="line">    buttonX.backgroundColor = .black</span><br><span class="line">    view.addSubview(buttonX)</span><br><span class="line">    </span><br><span class="line">    buttonX.addTarget(<span class="keyword">self</span>, action: #selector(buttonOwn(<span class="number">_</span>:)), <span class="keyword">for</span>: .touchUpInside)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> buttonC = <span class="type">UIButton</span>()</span><br><span class="line">    buttonC.frame = <span class="type">CGRect</span>(x: <span class="number">323</span>, y: <span class="number">0</span>, width: <span class="number">50</span>, height: <span class="number">50</span>)</span><br><span class="line">    buttonC.setTitle(<span class="string">"저장"</span>, <span class="keyword">for</span>: .normal)</span><br><span class="line">    buttonC.backgroundColor = .black</span><br><span class="line">    buttonC.setTitleColor(.orange, <span class="keyword">for</span>: .normal)</span><br><span class="line">    view.addSubview(buttonC)</span><br><span class="line">    </span><br><span class="line">    buttonC.addTarget(<span class="keyword">self</span>, action: #selector(buttonTwo(<span class="number">_</span>:)), <span class="keyword">for</span>: .touchUpInside)</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">  <span class="meta">@objc</span> <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">buttonOwn</span><span class="params">(<span class="number">_</span> sender: UIButton)</span></span>&#123; <span class="comment">//닫기버튼</span></span><br><span class="line">    dismiss(animated: <span class="literal">true</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">buttonTwo</span><span class="params">(<span class="number">_</span> sender: UIButton)</span></span>&#123; <span class="comment">//저장버튼</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>2-2. 텍스트필드를 2개 만든다. (nameLabel과 emailLable에 전달될 nameTextfield, emailTextfield을 만든다.)</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">nameTextField.frame = <span class="type">CGRect</span>(x: <span class="number">15</span>, y: <span class="number">250</span>, width: view.frame.width - <span class="number">30</span>, height: <span class="number">44</span>)</span><br><span class="line">nameTextField.backgroundColor = .white</span><br><span class="line">nameTextField.borderStyle = .roundedRect</span><br><span class="line">nameTextField.keyboardType = .emailAddress</span><br><span class="line">view.addSubview(nameTextField)</span><br><span class="line"></span><br><span class="line">  nameTextField.addTarget(<span class="keyword">self</span>, action: #selector(textFieldN(<span class="number">_</span>:)), <span class="keyword">for</span>: .editingDidEndOnExit)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">emailTextField.frame = <span class="type">CGRect</span>(x: <span class="number">15</span>, y: <span class="number">300</span>, width:  view.frame.width - <span class="number">30</span>, height: <span class="number">44</span>)</span><br><span class="line">  emailTextField.backgroundColor = .white</span><br><span class="line">  emailTextField.borderStyle = .roundedRect</span><br><span class="line">  emailTextField.keyboardType = .emailAddress</span><br><span class="line">  view.addSubview(emailTextField)</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  emailTextField.addTarget(<span class="keyword">self</span>, action: #selector(textFieldE(<span class="number">_</span>:)), <span class="keyword">for</span>: .editingDidEndOnExit)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">textFieldN</span><span class="params">(<span class="number">_</span> sender: UITextField)</span></span>&#123;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">textFieldE</span><span class="params">(<span class="number">_</span> sender: UITextField)</span></span>&#123;</span><br><span class="line">   </span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h3 id="textfield에서-기억해야할-것">TextField에서 기억해야할 것<a title="#textfield에서-기억해야할-것" href="#textfield에서-기억해야할-것"></a></h3><ul><li>borderStyle과 keyboardType을 지정해줘야한다. .으로 찍으면 종류가 많이 나온다.</li><li>&quot;addTarget&quot;에 “for: .editingDidEndOnExit” 은 키보드에서 리턴키를 눌렀을 때 닫아주는 소스다. (아래 TextField사이클 참고)</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">키보드가 뜰때 - DIdBegin</span><br><span class="line">입력시 - Changed</span><br><span class="line">리턴시 텍스트필드 내려감 - textfieldDidEndOnExit</span><br><span class="line">리턴 이후에 뜸.(필연적으로..) PrimaryActionTriggered</span><br><span class="line">종료시 - DidEnd</span><br></pre></td></tr></table></figure><p>때에 따라 필요 기능이 있을 때에는 아래의 방식으로 구현하면 된다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">DidEnd</span><span class="params">(<span class="number">_</span> sender: UITextField)</span></span> &#123;</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"5. DidEnd"</span>)</span><br><span class="line">   <span class="built_in">print</span>(sender.text)</span><br><span class="line">   </span><br><span class="line">   <span class="comment">//print(seder.text)할떄, 타입이 Any이면 오류남. Any -&gt; UITextField로 바꿔줘야 print가능.</span></span><br></pre></td></tr></table></figure><p>위 코드대로 모두 짰다면 두 번째 화면이 완성된 모습을 볼 수 있다.</p><p><img src="/image/start-5.png" alt="이미지" class="φcx"></p><p>이제 첫번째 화면과 두번 째 화면을 연결지을 일만 남았다.</p><h2 id="3.-화면전환하기">3. 화면전환하기<a title="#3.-화면전환하기" href="#3.-화면전환하기"></a></h2><p>첫번째 화면(endViewController)에서 “정보변경하기” 버튼을 누르면 두 번째 화면(startViewController)으로 전환되는 모션이다.  <s>ViewController 이름을 반대로 지었다ㅜ 헷깔림 주의</s></p><p>3-1.  버튼을 누르면 두번째 화면으로 이동</p><p>버튼을 누르면 이동될 수 있도록 버튼 아래에 해당 코드를 넣는다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">editbutton</span><span class="params">(<span class="number">_</span> sender: UIButton)</span></span> &#123;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> nextVC = startViewController()</span><br><span class="line">  nextVC.modalPresentationStyle = .automatic</span><br><span class="line">  present(nextVC, animated: <span class="literal">true</span>) <span class="comment">//아규먼트 nextVC를 넣어주고</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>nextVC에 startViewController()을 호출하고, 모달을 단다.“nextVC.modalPresentationStyle = .automatic” 여기서 automatic은 기본값(present타입)이다. 만약 풀 스크린을 하고 싶다면 .찍고 fullScreen으로 하면된다. 아규먼트 지정까지하면, 버튼을 누를 때 두번째 화면으로 이동하는 것을 볼 수 있다.</p><p>앞서 말했다시피, present타입으로 하면 화면을 내려서 껐을때, 텍스트필드에 적은 데이터가 전달이 안된다. 이를 용이하게 하기 위해, 그리고  present의 화면을 버튼을 이용해서 이전화면을 돌아가기 위해, 우리는 2-1에  [닫기], [저장] 을 만들었다 !! 좀더 완성도 높은 기능을 위해<br>아래를 참고하자.</p><p>3-2. [닫기] 버튼을 누르면 이전화면, [저장]버튼을 누르면 데이터 전달.</p><p>닫기동작 코드는 아주쉽다. dismiss만 달아주면 된다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@objc</span> <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">buttonOwn</span><span class="params">(<span class="number">_</span> sender: UIButton)</span></span>&#123; <span class="comment">//닫기버튼</span></span><br><span class="line">  dismiss(animated: <span class="literal">true</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>저장버튼도 누르면 화면이 꺼질 수 있다록 dismiss을 달아준다. 다만, [저장]은 데이터를 전달해야하기 때문에 아래와 같은 코드를 더 추가한다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">buttonTwo</span><span class="params">(<span class="number">_</span> sender: UIButton)</span></span>&#123; <span class="comment">//저장버튼</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">let</span> vc = <span class="keyword">self</span>.presentingViewController <span class="keyword">as</span>? endViewController &#123;</span><br><span class="line">    vc.namelabel.text = nameTextField.text</span><br><span class="line">    vc.emaillabel.text = emailTextField.text</span><br><span class="line">  &#125;</span><br><span class="line">  dismiss(animated: <span class="literal">true</span>)</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>presentingViewController을 이용해 endViewController을 타입캐스팅 한다. 그리고 버튼을 누르면 텍스트필드의 입력값이 vc(뷰컨)의 해당 Label로 이동되도록 한다.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vc.namelabel.text &#x3D; nameTextField.text</span><br><span class="line">vc.emaillabel.text &#x3D; emailTextField.text</span><br></pre></td></tr></table></figure><p>그러면 textField에 값을 입력후 [저장]을 누르면, 아래와 같이 데이터가 전달되는 것을 볼 수 있다.</p><p><img src="/image/Start-3.png" alt="이미지" class="φcx"></p><h2 id="4.데이터-영구적으로-남기기.">4.데이터 영구적으로 남기기.<a title="#4.데이터-영구적으로-남기기." href="#4.데이터-영구적으로-남기기."></a></h2><p>조금 아쉬운건(?) 기껏 레이블을 바꾸어 놓고 정보변경하기 창으로 가면 다시 입력값이 초기화 되어 있다는 것이다. 보안이 중요한 로그인화면에서는 유용하지만, 개인정보창이나 프로필같은 화면에서는 사용자가 본인의 입력값을 확인할 수 있도록 입력한 데이터를 영구히 보여줘야하는 경우도 있다.</p><p>보통 데이터라면 데이터를 수집하는 방식을 선택하겠지만, 굳이 수집이 필요하지 않은 데이터라면 사용자의 화면상으로만 영구적으로 저장될 수 있도록 구현해도 좋을 것이다.</p><p>일단은 많은 방법이 있겠지만, 그중에서도 간단하게… 입력값이 초기화 되지않고, 사용자가 수정하지 않는 이상 보존되어있는 방식으로 구현해보자.</p><p><em>(단, 앱을 종료하면 데이터는 다시 초기화 된다. )</em></p><p>앱 종료시에도 저장되는 기능은 다음 포스팅인 'UserDefaults’에서 다루기로 하고 일단은 간단하게만 !!</p><p>4-1. [정보변경하기]를 눌러도 이전값이 보존되도록 구현</p><p>뷰디드로드에 아래와 같은 고정값을 넣는다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> vc = <span class="keyword">self</span>.presentingViewController <span class="keyword">as</span>? endViewController &#123;</span><br><span class="line">     </span><br><span class="line">     <span class="keyword">self</span>.nameTextField.text = vc.namelabel.text</span><br><span class="line">     <span class="keyword">self</span>.emailTextField.text = vc.emaillabel.text</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>방법은 3-2와 비슷하다. 3-2처럼 레이블에 정보를 전달한 것처럼, 받은 정보를 다시 텍스트 필드로 전달하는 방식을 택하면 된다. 약간 복붙 느낌으로…ㅋ…</p><p>그래서 , 뷰디드 로드에 동일하게 &quot;if let vc = self.presentingViewController as? endViewController {&quot;을 불러(연결해)주고, endViewController 의 Label text를 가져와서 해당 TextField에 넣어주면 된다.</p><p>그러면 ??</p><p>[정보변경하기] 버튼을 누르면 이전에 입력된 값을 그대로 불러오는 모습을 볼 수 있다.</p><p><img src="/image/Start-2.png" alt="이미지" class="φcx"></p><p>👏🏻 👏🏻. 👏🏻 👏🏻 👏🏻</p><p>잘하고 있는 건진 모르겠다만… ㅎ</p><p>수집해야할 데이터가 아니고 화면상으로만 간단하게 보여줄 용도라면 레이블을 복사해오는 방식을 택하는 것도 나쁘지 않다…<br>하지만 앱을 종료하면 사라지는 현실이…<br>이 부분은 나중에 UserDefaults에서 따로 다루기로 !!</p><p>(링크는 현재 준비중…)</p><p>이것으로 또 하나 끝… 🥒</p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> TextField </tag>
            
            <tag> present </tag>
            
            <tag> Button </tag>
            
            <tag> 개발일기 </tag>
            
            <tag> Label </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]주문화면 구현하기 -2</title>
      <link href="2020/05/07/Swift-%EC%A3%BC%EB%AC%B8%ED%99%94%EB%A9%B4-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0-2/"/>
      <url>2020/05/07/Swift-%EC%A3%BC%EB%AC%B8%ED%99%94%EB%A9%B4-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0-2/</url>
      
        <content type="html"><![CDATA[<h1 id="주문화면-구현하기--2">주문화면 구현하기 -2<a title="#주문화면-구현하기--2" href="#주문화면-구현하기--2"></a></h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">주문 버튼 터치 시 각 아이템에 대한 수량 증가(완료)</span><br><span class="line">각 아이템별 주문 수량 증가에 따른 결제금액 증가(완료)</span><br><span class="line">결제 진행 시 소지금액에서 결제금액만큼 차감 및 주문수량 초기화(보류중)</span><br><span class="line">소지금액이 결제금액보다 적은 경우 결제 불가 메시지 Alert 띄우기</span><br><span class="line">초기화 버튼은 주문수량, 결제금액, 소지금액을 모두 초기화</span><br><span class="line">초기화 버튼 이외에 한 번 올린 주문수량을 내리는 기능은 없음</span><br></pre></td></tr></table></figure><p>현재 1~2는 완료되었고 3은 초기화까지만 완료된 상태다. 결제금액 차감은 결제버튼을 누르면 발생하는 Aler에 따라 실행되어야 하므로 일단 보류해 놓았다.</p><p><a href="https://qussk.github.io/2020/05/06/Swift-%EC%A3%BC%EB%AC%B8%ED%99%94%EB%A9%B4-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0-1" target="_blank">[주문화면 구현하기 -2 참조하기]</a></p><p>현재까지 이상이 없다면 아래의 내용을 계속 진행하자.</p><h2 id="4.-alertcontroller-활용">4. AlertController 활용<a title="#4.-alertcontroller-활용" href="#4.-alertcontroller-활용"></a></h2><p>4-1. 버튼에 Alert 달기.</p><p>일단 버튼 아래에 let alertController을 살포시 얹는다…</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">@objc func buyButtonClicked(_ sender: UIButton) &#123;</span><br><span class="line"></span><br><span class="line">let alertController &#x3D; UIAlertController(title: &quot;알림&quot;,message: &quot;결제금액은 모두\(buyPay)원 입니다.&quot;, preferredStyle: .alert)</span><br><span class="line">         </span><br><span class="line">  let alert1Action &#x3D; UIAlertAction(title: &quot;취소&quot;, style: .cancel) &#123; _ in</span><br><span class="line">  &#125;</span><br><span class="line">  let alert2Action &#x3D; UIAlertAction(title: &quot;확인&quot;, style: .destructive) &#123; _ in</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">    alertController.addAction(alert1Action)</span><br><span class="line">    alertController.addAction(alert2Action)</span><br><span class="line">            </span><br><span class="line">    present(alertController, animated: true)</span><br><span class="line">  &#125;</span><br><span class="line">          </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/image/first-3.png" alt="이미지" class="φcx"></p><ul><li>결제하기 버튼을 누르면 &quot;결제금액은 모두(결제금액)원 입니다.&quot;로 메세지가 나오도록 하고, preferredStyle: 을 .alert로 지정하여 해당 alert을 가운데로 팝업되도록 한다.</li><li>UIAlertAction으로 “확인(destructive)”, &quot;취소(cancel)&quot;기능을 넣는다.</li></ul><p>4-2. 결제하기 누른후 alert에서 &quot;확인&quot;을 누르면 최종적으로 결제가 진행되고, 소지금액 차감.</p><p>이전 포스트에서 잠시 보류해 놓았던 3-2를 이곳에 구현한다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">let</span> alertController = <span class="type">UIAlertController</span>(title: <span class="string">"알림"</span>,message: <span class="string">"결제금액은 모두\(buyPay)원 입니다."</span>, preferredStyle: .alert)</span><br><span class="line">          </span><br><span class="line">          <span class="keyword">let</span> alert1Action = <span class="type">UIAlertAction</span>(title: <span class="string">"취소"</span>, style: .cancel) &#123; <span class="number">_</span> <span class="keyword">in</span></span><br><span class="line">            </span><br><span class="line">          &#125;</span><br><span class="line">          <span class="comment">//소지금 - 결제금액 계산</span></span><br><span class="line">          <span class="keyword">let</span> alert2Action = <span class="type">UIAlertAction</span>(title: <span class="string">"확인"</span>, style: .destructive) &#123; <span class="number">_</span> <span class="keyword">in</span></span><br><span class="line">           <span class="keyword">self</span>.sojiPay = <span class="keyword">self</span>.sojiPay - <span class="keyword">self</span>.buyPay</span><br><span class="line">           <span class="keyword">self</span>.sojiCost.text! = <span class="string">"\(self.sojiPay)원"</span></span><br><span class="line">            </span><br><span class="line">          &#125;</span><br><span class="line">          </span><br><span class="line">          alertController.addAction(alert1Action)</span><br><span class="line">          alertController.addAction(alert2Action)</span><br><span class="line">          </span><br><span class="line">          present(alertController, animated: <span class="literal">true</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><ul><li>&quot;확인&quot;을 누르면 실행되어야 하기 때문에 “확인” UIAlertAction아래에 넣어준다.</li><li>소지금액 = 소지금액 - 결제금액</li></ul> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> - 소지금액레이블.text역시 소지금액값으로 바뀔수 있도록 써준다.</span><br><span class="line">&#96;&#96;&#96;self.sojiCost.text! &#x3D; &quot;\(self.sojiPay)원&quot;</span><br></pre></td></tr></table></figure><p><img src="/image/first-5.png" alt="이미지" class="φcx"></p><p>그러면 확인을 누르면 결제가 정상적으로 진행이 되는 모습을 볼 수 있다. <s>결제 진행 시 소지금액에서 결제금액만큼 차감 및 주문수량 초기화</s>도 모두 마쳤다.</p><h2 id="5.-alert에-조건달기">5. Alert에 조건달기<a title="#5.-alert에-조건달기" href="#5.-alert에-조건달기"></a></h2><p>하지만 이것으로 끝이 아니다.</p><p>구현사항을 보면, 소지금액은 70000원으로 정해져있고, 결제금액이 소지금액을 초과할 경우 결제가 진행되지 못하도록 Alert을 차단해야한다. 이때, 조건문이 필요하고 코드는 아래와 같은 코드가 된다.</p><p>5-1. 소지금액이 결제금액보다 적은 경우 결제 불가 메시지 Alert 띄우기</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">buyButtonClicked</span><span class="params">(<span class="number">_</span> sender: UIButton)</span></span> &#123;</span><br><span class="line">   </span><br><span class="line">   <span class="keyword">if</span> sojiPay &lt;= buyPay &#123;</span><br><span class="line">       </span><br><span class="line">       <span class="keyword">let</span> alertController = <span class="type">UIAlertController</span>(title: <span class="string">"알림"</span>,message: <span class="string">"소지금액이 부족합니다"</span>, preferredStyle: .alert)</span><br><span class="line">       </span><br><span class="line">       <span class="keyword">let</span> alert3Action = <span class="type">UIAlertAction</span>(title: <span class="string">"확인"</span>, style: .cancel) &#123; <span class="number">_</span> <span class="keyword">in</span></span><br><span class="line">       &#125;</span><br><span class="line">       </span><br><span class="line">       alertController.addAction(alert3Action)</span><br><span class="line">       present(alertController, animated: <span class="literal">true</span>)</span><br><span class="line">   </span><br><span class="line">     &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">     <span class="keyword">let</span> alertController = <span class="type">UIAlertController</span>(title: <span class="string">"알림"</span>,message: <span class="string">"결제금액은 모두\(buyPay)원 입니다."</span>, preferredStyle: .alert)</span><br><span class="line">               </span><br><span class="line">               <span class="keyword">let</span> alert1Action = <span class="type">UIAlertAction</span>(title: <span class="string">"취소"</span>, style: .cancel) &#123; <span class="number">_</span> <span class="keyword">in</span></span><br><span class="line">                 </span><br><span class="line">               &#125;</span><br><span class="line">               <span class="comment">//소지금 - 결제금액 계산</span></span><br><span class="line">               <span class="keyword">let</span> alert2Action = <span class="type">UIAlertAction</span>(title: <span class="string">"확인"</span>, style: .destructive) &#123; <span class="number">_</span> <span class="keyword">in</span></span><br><span class="line">                <span class="keyword">self</span>.sojiPay = <span class="keyword">self</span>.sojiPay - <span class="keyword">self</span>.buyPay</span><br><span class="line">                <span class="keyword">self</span>.sojiCost.text! = <span class="string">"\(self.sojiPay)원"</span></span><br><span class="line">                 </span><br><span class="line">               &#125;</span><br><span class="line">               </span><br><span class="line">               alertController.addAction(alert1Action)</span><br><span class="line">               alertController.addAction(alert2Action)</span><br><span class="line">               </span><br><span class="line">               present(alertController, animated: <span class="literal">true</span>)</span><br><span class="line">             &#125;</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure><p><img src="/image/first-4.png" alt="이미지" class="φcx"></p><ul><li>if sojiPay &lt;= buyPay { 의 경우 아래의 Alert이 실행되도록한다.</li><li>잊지 말아야하는 부분은 present(alertController, animated: true)도 꼭 달아줘야한다…</li></ul><p>사실 시험때 구현은 다 해놓고 present을 실수로 안넣어서… Alert이 작동이 안됐다… 계속 왜 안되는 거야? 하면서 다른곳에서 이유를 찾다가 시간낭비했다… ㅠㅠ… 몬가 변수쪽이 잘못됐다고 생각했던 것…</p><p>어쨌든, 이것으로 <s>4.소지금액이 결제금액보다 적은 경우 결제 불가 메시지 Alert 띄우기</s>역시 완료가 되었다. 아래의 <s>5.초기화 버튼은 주문수량, 결제금액, 소지금액을 모두 초기화</s>는 3-1에서 구현이 완료되었고,<br><s>6.초기화 버튼 이외에 한 번 올린 주문수량을 내리는 기능은 없음</s>이것도 크게 구현하지 않는 내용이기 때문에 자동으로 클리어된 부분.</p><h3 id="셀프체크리스트를-통해-정확하게-구현됐는지-확인한다.">셀프체크리스트를 통해 정확하게 구현됐는지 확인한다.<a title="#셀프체크리스트를-통해-정확하게-구현됐는지-확인한다." href="#셀프체크리스트를-통해-정확하게-구현됐는지-확인한다."></a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">✓ UI 구현 : 스토리보드와 코드를 이용해 정확한 UI 구현</span><br><span class="line">✓ 주문하기 기능 : 특정 아이템의 수량이 1씩 증가하며, 결제금액에 반영</span><br><span class="line">✓ 결제하기 기능</span><br><span class="line">- 소지금에서 결제금액이 정확히 차감. 소지금은 -가 될 수 없음</span><br><span class="line">- 소지금이 결제금액보다 작을때, 같을 때, 클 때 각각의 상황 모두 체크</span><br><span class="line">✓ 초기화하기 기능 : 소지금, 결제금액, 주문수량의 정보가 모두 정확히 0으로 초기화</span><br><span class="line">✓ AlertController 동작</span><br><span class="line">- 결제 성공 : &quot;총 결제금액은 ****원입니다.&quot;. 버튼 종류는 확인, 취소 버튼 2개</span><br><span class="line">- 결제 실패 : &quot;소지금액이 부족합니다&quot;메시지. 버튼 종류는 확인 버튼 하나</span><br></pre></td></tr></table></figure><p>이상이 없다면 이것으로 마침! :princess:</p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> 화면전환 </tag>
            
            <tag> Alert </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]주문화면 구현하기 -1</title>
      <link href="2020/05/06/Swift-%EC%A3%BC%EB%AC%B8%ED%99%94%EB%A9%B4-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0-1/"/>
      <url>2020/05/06/Swift-%EC%A3%BC%EB%AC%B8%ED%99%94%EB%A9%B4-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0-1/</url>
      
        <content type="html"><![CDATA[<h1 id="주문화면-구현하기--1">주문화면 구현하기 -1<a title="#주문화면-구현하기--1" href="#주문화면-구현하기--1"></a></h1><p>첫번째 테스트로 보았던 주문화면 구현과정을 써보고자 한다. (스토리보드 영역은 제외, )</p><p><img src="/image/firstTest.png" alt="이미지" class="φcx"></p><p>구현사항은 아래와 같다.</p><h3 id="구현사항">구현사항<a title="#구현사항" href="#구현사항"></a></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">주문 버튼 터치 시 각 아이템에 대한 수량 증가</span><br><span class="line">각 아이템별 주문 수량 증가에 따른 결제금액 증가</span><br><span class="line">결제 진행 시 소지금액에서 결제금액만큼 차감 및 주문수량 초기화</span><br><span class="line">소지금액이 결제금액보다 적은 경우 결제 불가 메시지 Alert 띄우기</span><br><span class="line">초기화 버튼은 주문수량, 결제금액, 소지금액을 모두 초기화</span><br><span class="line">초기화 버튼 이외에 한 번 올린 주문수량을 내리는 기능은 없음</span><br></pre></td></tr></table></figure><h2 id="0.-frame짜기">0. frame짜기<a title="#0.-frame짜기" href="#0.-frame짜기"></a></h2><p>구현하기 이전에 먼저 code로 프레임을 짜는 영역이 있어 프레임부터 만든다.</p><p>0-1. 레이블 프레임을 view에 만들기</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;소지금 Label</span><br><span class="line"> let sojiLabel &#x3D; UILabel()</span><br><span class="line"> sojiLabel.frame &#x3D; CGRect(x: 30 , y: 330, width: UI.labelWidth, height: UI.containerHeight)</span><br><span class="line"> sojiLabel.textAlignment &#x3D; .center</span><br><span class="line"> sojiLabel.backgroundColor &#x3D; .green</span><br><span class="line"> sojiLabel.textColor &#x3D; .black</span><br><span class="line"> sojiLabel.text &#x3D; &quot;소지금&quot;</span><br><span class="line"> view.addSubview(sojiLabel)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> let sojiCost &#x3D; UILabel()</span><br><span class="line"> sojiCost.frame &#x3D; CGRect(x: 120 , y: 330, width: UI.labelWidth+54, height: UI.containerHeight)</span><br><span class="line"> sojiCost.textAlignment &#x3D; .right</span><br><span class="line"> sojiCost.backgroundColor &#x3D; .green</span><br><span class="line"> sojiCost.textColor &#x3D; .black</span><br><span class="line"> sojiCost.text &#x3D; &quot;70000원&quot;</span><br><span class="line"> view.addSubview(sojiCost)</span><br></pre></td></tr></table></figure><p>&quot;sojiLabel.frame&quot;의 width: UI.labelWidth 부분은 구조체를 따로 만들어 해당값을 복사하는 방식으로 만들었다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">UI</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">let</span> containerHeight: <span class="type">CGFloat</span> = <span class="number">40</span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">let</span> displayLabelWidth: <span class="type">CGFloat</span> = <span class="number">140</span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">let</span> labelWidth: <span class="type">CGFloat</span> = <span class="number">80</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>0-2. 위와 동일한 방법으로 버튼도 만든다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//초기화버튼</span></span><br><span class="line">  <span class="keyword">let</span> setupButton = <span class="type">UIButton</span>()</span><br><span class="line">  setupButton.frame = <span class="type">CGRect</span>(x: <span class="number">265</span>, y: <span class="number">330</span>, width: <span class="type">UI</span>.labelWidth, height: <span class="type">UI</span>.containerHeight)</span><br><span class="line">  setupButton.backgroundColor = .black</span><br><span class="line">  setupButton.setTitleColor(.orange, <span class="keyword">for</span>: .normal)</span><br><span class="line">  setupButton.setTitle(<span class="string">"초기화"</span>, <span class="keyword">for</span>: .normal)</span><br><span class="line">  view.addSubview(setupButton)</span><br><span class="line">  </span><br><span class="line">  setupButton.addTarget(<span class="keyword">self</span>, action: #selector(setupButtonClicked), <span class="keyword">for</span>: .touchUpInside)</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="comment">//결제하기 버튼</span></span><br><span class="line">  <span class="keyword">let</span> buyButton = <span class="type">UIButton</span>()</span><br><span class="line">  buyButton.frame = <span class="type">CGRect</span>(x: <span class="number">265</span>, y: <span class="number">370</span>, width: <span class="type">UI</span>.labelWidth, height: <span class="type">UI</span>.containerHeight)</span><br><span class="line">  buyButton.backgroundColor = .black</span><br><span class="line">  buyButton.setTitle(<span class="string">"결제하기"</span>, <span class="keyword">for</span>: .normal)</span><br><span class="line">  buyButton.setTitleColor(.orange, <span class="keyword">for</span>: .normal)</span><br><span class="line">  view.addSubview(buyButton)</span><br><span class="line">  </span><br><span class="line">  buyButton.addTarget(<span class="keyword">self</span>, action: #selector(buyButtonClicked), <span class="keyword">for</span>: .touchUpInside)</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>다른 점이 있다면, 레이블은 addTaget이 필요없지만, Button은 필요하다(textField도 동일). Lable은 타겟해서 딱히 할게 없기 때문이다… 버튼 타입은 .touchUpInside로 해준다. (버튼을 눌렀을때 동작)</p><p><img src="/image/first-1.png" alt="이미지" class="φcx"></p><p>그럼 이정도는 나온다.</p><h2 id="1.-변수만들기">1. 변수만들기<a title="#1.-변수만들기" href="#1.-변수만들기"></a></h2><p>1-1. 변수가 필요한 Label은 아웃렛으로 연결한다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@IBOutlet</span> <span class="keyword">var</span> jangCountLabel: <span class="type">UILabel!</span></span><br><span class="line"><span class="meta">@IBOutlet</span> <span class="keyword">var</span> bongCountLabel: <span class="type">UILabel!</span></span><br><span class="line"><span class="meta">@IBOutlet</span> <span class="keyword">var</span> tangCountLabel: <span class="type">UILabel!</span></span><br></pre></td></tr></table></figure><p>1-2. 초기값이 필요한 변수를 파악하고, 초기값을 넣는다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//짜장,짬뽕,탕수육 가격</span></span><br><span class="line"><span class="keyword">let</span> jangCost = <span class="number">5000</span></span><br><span class="line"><span class="keyword">let</span> bongCost = <span class="number">6000</span></span><br><span class="line"><span class="keyword">let</span> tangCost = <span class="number">12000</span></span><br></pre></td></tr></table></figure><p>1-3. 값이 바뀔만한 변수는 didset으로 설정한다.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;각 수량 변수 didset으로 담기</span><br><span class="line">var jangCount: Int &#x3D; 0&#123;</span><br><span class="line">  didSet &#123;</span><br><span class="line">    jangCountLabel.text &#x3D; &quot;\(jangCount)&quot;</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br><span class="line">var bongCount: Int &#x3D; 0 &#123;</span><br><span class="line">  didSet &#123;</span><br><span class="line">    bongCountLabel.text &#x3D; &quot;\(bongCount)&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var tangCount: Int &#x3D; 0 &#123;</span><br><span class="line">  didSet &#123;</span><br><span class="line">    tangCountLabel.text &#x3D; &quot;\(tangCount)&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>주문 버튼 터치 시 레이블에 대한 수량 증가가 필요하므로, &quot;jangCountLabel.text&quot;값이 &quot;(jangCount)&quot;로 바뀌게 한다.</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(참고)</span><br><span class="line">jangCount: 짜장면 수량</span><br><span class="line">bongCount: 짬뽕 수량</span><br><span class="line">tangCount: 탕수육 수량 </span><br><span class="line">jangCountLabel.text: 짜장면 수량 레이블.text</span><br><span class="line">bongCountLabel.text: 짬뽕 수량 레이블.text</span><br><span class="line">tangCountLabel.text: 탕수육 수량 레이블.text</span><br></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//소지금액 변수</span></span><br><span class="line"><span class="keyword">var</span> sojiPay: <span class="type">Int</span> = <span class="number">70000</span> &#123;</span><br><span class="line">  <span class="keyword">didSet</span> &#123;</span><br><span class="line">    sojiCost.text = <span class="string">"\(sojiPay)원"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//결제금액 변수</span></span><br><span class="line">  <span class="keyword">var</span> buyPay: <span class="type">Int</span> = <span class="number">0</span> &#123;</span><br><span class="line"><span class="keyword">didSet</span> &#123;</span><br><span class="line">  buyCost.text = <span class="string">"\(buyPay)원"</span></span><br><span class="line">  </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>*소지금액(sojePay)*과 *결제금액(buyPay)*에 대한 변수도 지정한다.<br>소지금액은 70000원의 초기값으로 설정하고, 결제금액은 메뉴의 수량에 따라 변동하므로.</p><p>1-4. 주문버튼을 누르면 수량이 증가하도록 만든다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//주문 버튼 3개</span></span><br><span class="line">  <span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">jangOder</span><span class="params">(<span class="number">_</span> sender: <span class="keyword">Any</span>)</span></span> &#123;</span><br><span class="line">    jangCount += <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">bongOder</span><span class="params">(<span class="number">_</span> sender: <span class="keyword">Any</span>)</span></span> &#123;</span><br><span class="line">    bongCount += <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">tangOder</span><span class="params">(<span class="number">_</span> sender: <span class="keyword">Any</span>)</span></span> &#123;</span><br><span class="line">    tangCount += <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>버튼을 누르고 증가한 카운트가 레이블에 적용될 수 있도록. 그럼 <s>1.주문 버튼 터치 시 각 아이템에 대한 수량 증가</s>는 이걸로 완료됐다.</p><h2 id="2.-계산메소드-만들기.">2. 계산메소드 만들기.<a title="#2.-계산메소드-만들기." href="#2.-계산메소드-만들기."></a></h2><p>각 아이템별 주문 수량 증가에 따른 결제금액 증가가 필요하다.</p><p>2-1. 수량에 따라 짜장면+짬뽕+탕수육의 가격을 모두 더해줄 함수 필요.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//현재 결제금액을 계산하는 메소드</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">calcPrice</span><span class="params">()</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> (jangCount * jangCost) + (bongCount * bongCost) + (tangCount * tangCost)</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>&quot;calcPrice()&quot;는 (짜장면 x 수량) + (짬뽕 x 수량) + (탕수육 x 수량)<br>이것은 <em>결제금액</em>레이블에 에 담겨야할 값이기도 하다. 또, 이 함수가 어느 메뉴의 수량이 올라갈 때마다 계산될 수 있도록 이전에(1-3) 써놓은 변수의 didset에 넣어준다. 그러면 다음과 같이 입력된다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//각 수량 변수 didset으로 담기</span></span><br><span class="line"><span class="keyword">var</span> jangCount: <span class="type">Int</span> = <span class="number">0</span>&#123;</span><br><span class="line">  <span class="keyword">didSet</span> &#123;</span><br><span class="line">    jangCountLabel.text = <span class="string">"\(jangCount)"</span></span><br><span class="line">    </span><br><span class="line">    buyPay = calcPrice() <span class="comment">//결제금액 = 현재 결제금액을 계산하는 메소드()</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> bongCount: <span class="type">Int</span> = <span class="number">0</span> &#123;</span><br><span class="line">  <span class="keyword">didSet</span> &#123;</span><br><span class="line">    bongCountLabel.text = <span class="string">"\(bongCount)"</span></span><br><span class="line">   buyPay = calcPrice()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> tangCount: <span class="type">Int</span> = <span class="number">0</span> &#123;</span><br><span class="line">  <span class="keyword">didSet</span> &#123;</span><br><span class="line">    tangCountLabel.text = <span class="string">"\(tangCount)"</span></span><br><span class="line">     buyPay = calcPrice()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>수량이 증가할 때마다, 결제금액(buyPay)이 현재 결제금액(calcPrice())을 계산하는 메소드를 호출한다.<br>그러면 <s>2.각 아이템별 주문 수량 증가에 따른 결제금액 증가</s>는 완료되었다.</p><p><img src="/image/first-2.png" alt="이미지" class="φcx"></p><h2 id="3.-전달값-초기화와-결제금액-차감-구현">3. 전달값 초기화와 결제금액 차감 구현<a title="#3.-전달값-초기화와-결제금액-차감-구현" href="#3.-전달값-초기화와-결제금액-차감-구현"></a></h2><p>결제 진행 시 소지금액에서 결제금액만큼 차감 및 주문수량 초기화가 필요하다.</p><p>3-1.먼저 초기화부터 보자면, 초기화버튼을 눌렀을 때, 실행될 수 있도록 초기화Button아래에 변수를 재지정해준다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">setupButtonClicked</span><span class="params">(<span class="number">_</span> sender: UIButton)</span></span> &#123;</span><br><span class="line">  </span><br><span class="line">  jangCount = <span class="number">0</span> <span class="comment">//수량</span></span><br><span class="line">  bongCount = <span class="number">0</span> <span class="comment">//수량</span></span><br><span class="line">  tangCount = <span class="number">0</span> <span class="comment">//수량</span></span><br><span class="line">  buyPay = <span class="number">0</span>  <span class="comment">//결제금액</span></span><br><span class="line">  sojiPay = <span class="number">70000</span> <span class="comment">//소지금액</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>초기화버튼을 누르면 수량과, 결제금액, 소지금액 모두 초기값으로 진행되는 코드.</p><p>3-2. 소지금 - 결제금액 계산(차감되는 것)</p><p>소지금은 70000원으로 고정되어있지만 결제금액은 수량에 따라 변동되는 값이고, 최종적으로 <em>결제</em>를 하게 되면 소지금에서 결제금액이 빠져나가야 하는 방식이다.</p><p>그러면,<br><code>소지금 = 소지금 - 결제금액</code></p><p>일텐데, 결제금액 차감부분은 alert에서  해당기능을 넣어야 하는 사항이기 때문에,  뒤의 포스프의 alert 부분을  참고하자. alert 먼저 만든후 확인/취소에 따라 결제금액이 차감되어야하기 때문.</p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> 화면전환 </tag>
            
            <tag> frame </tag>
            
            <tag> Lable </tag>
            
            <tag> Button </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Swift]주문화면 구현하기-feedback</title>
      <link href="2020/05/06/Swift-%EC%A3%BC%EB%AC%B8%ED%99%94%EB%A9%B4-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0-feedback/"/>
      <url>2020/05/06/Swift-%EC%A3%BC%EB%AC%B8%ED%99%94%EB%A9%B4-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0-feedback/</url>
      
        <content type="html"><![CDATA[<h1 id="간단한-주문화면-구현하기">간단한 주문화면 구현하기<a title="#간단한-주문화면-구현하기" href="#간단한-주문화면-구현하기"></a></h1><p>fastcampus에서 첫 테스트를 봤다. 시험은 전반적으로 배운 내용이었기 때문에 크게 어렵지 않았지만, 실수한 부분도 많았고, 시간부족으로 미완성한 기능도 있었다. 끝나고는 다른 사람코드로 지혜(?)도 얻고, 강사님 코드를 보고 또 반성하게 되는… 그런 계기도 됐다. 그래서 다시 피드백 및 복습겸 올려본다. 일단 테스트 내용은 아래와 같다.</p><p><img src="/image/firstTest.png" alt="test" class="φcx"></p><h2 id="[구현사항]">[구현사항]<a title="#[구현사항]" href="#[구현사항]"></a></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 주문 버튼 터치 시 각 아이템에 대한 수량 증가</span><br><span class="line">* 각 아이템별 주문 수량 증가에 따른 결제금액 증가</span><br><span class="line">* 결제 진행 시 소지금액에서 결제금액만큼 차감 및 주문수량 초기화</span><br><span class="line">* 소지금액이 결제금액보다 적은 경우 결제 불가 메시지 Alert 띄우기</span><br><span class="line">* 초기화 버튼은 주문수량, 결제금액, 소지금액을 모두 초기화</span><br><span class="line">* 초기화 버튼 이외에 한 번 올린 주문수량을 내리는 기능은 없음</span><br></pre></td></tr></table></figure><h2 id="[실행예시]">[실행예시]<a title="#[실행예시]" href="#[실행예시]"></a></h2><ol><li>짜장면 주문 버튼 클릭</li></ol><ul><li>짜장면 수량 : 1 증가</li><li>결제금액 : 5000원</li></ul><ol start="2"><li>탕수육 주문 버튼 클릭</li></ol><ul><li>탕수육 수량 : 1 증가</li><li>결제금액 : 17000원 (5000 + 12000원)</li></ul><ol start="3"><li>결제 버튼 클릭</li></ol><ul><li>취소, 확인 버튼을 가진 AlertController 띄우기 (메시지 - 총 결제금액은 17000원입니다.)</li><li>확인 버튼 클릭 시 70,000원에서 17,000원 차감해 소지금액을 53,000원으로 변경하고<br>각 메뉴아이템 주문 수량과 결제금액을 0으로 초기화</li><li>결제액이 소지금을 초과할 경우, 자동으로 결제를 취소하고<br>Alert을 이용해 “소지금이 부족합니다” 오류메시지 띄우기</li></ul><ol start="4"><li>초기화 버튼 클릭</li></ol><ul><li>각 아이템 수량 및 결제금액 0원으로 초기화, 소지금 70,000원으로 초기화</li></ul><h2 id="[나의-첫번째-code.레포트]">[나의 첫번째 code.레포트]<a title="#[나의-첫번째-code.레포트]" href="#[나의-첫번째-code.레포트]"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="keyword">var</span> countIndex1: <span class="type">Int</span> = <span class="number">0</span> <span class="comment">//수량1</span></span><br><span class="line">  <span class="keyword">var</span> countIndex2: <span class="type">Int</span> = <span class="number">0</span> <span class="comment">//수량2</span></span><br><span class="line">  <span class="keyword">var</span> countIndex3: <span class="type">Int</span> = <span class="number">0</span> <span class="comment">//수량3</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> countCost: <span class="type">Int</span> = <span class="number">0</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">var</span> 소지금 : <span class="type">Int</span> = <span class="number">70000</span></span><br><span class="line">  <span class="keyword">var</span> <span class="type">Backup</span>: <span class="type">Int</span> = <span class="number">0</span> <span class="comment">//초기화</span></span><br><span class="line">  <span class="keyword">var</span> <span class="built_in">count</span>: <span class="type">Int</span> = <span class="number">0</span> <span class="comment">//결제금액</span></span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> buycostLable = <span class="type">UILabel</span>()</span><br><span class="line">  <span class="keyword">let</span> sojecostLable = <span class="type">UILabel</span>()</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">var</span> <span class="type">MenuLable</span>: <span class="type">UILabel!</span></span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">var</span> costLable: <span class="type">UILabel!</span></span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">var</span> aeLable: <span class="type">UILabel!</span></span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">var</span> jangLable: <span class="type">UILabel!</span></span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">var</span> jangcostLable: <span class="type">UILabel!</span></span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">var</span> jangsLable: <span class="type">UILabel!</span></span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">var</span> bongLable: <span class="type">UILabel!</span></span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">var</span> bongcostLable: <span class="type">UILabel!</span></span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">var</span> bongsLable: <span class="type">UILabel!</span></span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">var</span> tangLable: <span class="type">UILabel!</span></span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">var</span> tangcostLable: <span class="type">UILabel!</span></span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">var</span> tangsLable: <span class="type">UILabel!</span></span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//view.frame.width</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> sojeLable = <span class="type">UILabel</span>()</span><br><span class="line">    </span><br><span class="line">    sojeLable.frame = <span class="type">CGRect</span>(x: <span class="number">30</span>, y: <span class="number">300</span>, width: <span class="number">70</span>, height: <span class="number">30</span>)</span><br><span class="line">    sojeLable.backgroundColor = .green</span><br><span class="line">    sojeLable.textAlignment = .center</span><br><span class="line">    sojeLable.text = <span class="string">"소지금"</span></span><br><span class="line">    sojeLable.textColor = .black</span><br><span class="line">    sojeLable.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">17</span>)</span><br><span class="line">    view.addSubview(sojeLable)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    sojecostLable.frame = <span class="type">CGRect</span>(x: <span class="number">120</span>, y: <span class="number">300</span>, width: <span class="number">120</span>, height: <span class="number">30</span>)</span><br><span class="line">    sojecostLable.backgroundColor = .green</span><br><span class="line">    sojecostLable.textAlignment = .<span class="keyword">right</span></span><br><span class="line">    sojecostLable.text = <span class="string">"\(소지금)원"</span></span><br><span class="line">    sojecostLable.textColor = .black</span><br><span class="line">    sojecostLable.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">17</span>)</span><br><span class="line">    view.addSubview(sojecostLable)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> buyLable = <span class="type">UILabel</span>()</span><br><span class="line">    </span><br><span class="line">    buyLable.frame = <span class="type">CGRect</span>(x: <span class="number">30</span>, y: <span class="number">350</span>, width: <span class="number">70</span>, height: <span class="number">30</span>)</span><br><span class="line">    buyLable.backgroundColor = .orange</span><br><span class="line">    buyLable.textAlignment = .center</span><br><span class="line">    buyLable.text = <span class="string">"결제금액"</span></span><br><span class="line">    buyLable.textColor = .black</span><br><span class="line">    buyLable.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">17</span>)</span><br><span class="line">    view.addSubview(buyLable)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    buycostLable.frame = <span class="type">CGRect</span>(x: <span class="number">120</span>, y: <span class="number">350</span>, width: <span class="number">120</span>, height: <span class="number">30</span>)</span><br><span class="line">    buycostLable.backgroundColor = .orange</span><br><span class="line">    buycostLable.textAlignment = .<span class="keyword">right</span></span><br><span class="line">    buycostLable.text = <span class="string">"\(count)원"</span></span><br><span class="line">    buycostLable.textColor = .black</span><br><span class="line">    buycostLable.font = <span class="type">UIFont</span>.systemFont(ofSize: <span class="number">17</span>)</span><br><span class="line">    view.addSubview(buycostLable)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> setBottun = <span class="type">UIButton</span>()</span><br><span class="line">    setBottun.frame = <span class="type">CGRect</span>(x: <span class="number">280</span>, y: <span class="number">300</span>, width: <span class="number">70</span>, height: <span class="number">30</span>)</span><br><span class="line">    setBottun.setTitle(<span class="string">"초기화"</span>, <span class="keyword">for</span>: .normal)</span><br><span class="line">    setBottun.setTitleColor(.orange, <span class="keyword">for</span>: .normal)</span><br><span class="line">    setBottun.backgroundColor = .black</span><br><span class="line">    view.addSubview(setBottun)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    setBottun.addTarget(<span class="keyword">self</span>, action: #selector(buttonOne(<span class="number">_</span>:)), <span class="keyword">for</span>: .touchUpInside)</span><br><span class="line">    <span class="comment">//   setBottun.addTarget(self, action: #selector(buttonOne(_:)), for: .touchUpInside)</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> buyBottun = <span class="type">UIButton</span>()</span><br><span class="line">    buyBottun.frame = <span class="type">CGRect</span>(x: <span class="number">280</span>, y: <span class="number">350</span>, width: <span class="number">70</span>, height: <span class="number">30</span>)</span><br><span class="line">    buyBottun.setTitle(<span class="string">"결제하기"</span>, <span class="keyword">for</span>: .normal)</span><br><span class="line">    buyBottun.setTitleColor(.orange, <span class="keyword">for</span>: .normal)</span><br><span class="line">    buyBottun.backgroundColor = .black</span><br><span class="line">    view.addSubview(buyBottun)</span><br><span class="line">    </span><br><span class="line">    buyBottun.addTarget(<span class="keyword">self</span>, action: #selector(buttonTwo(<span class="number">_</span>:)), <span class="keyword">for</span>: .touchUpInside)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//초기화</span></span><br><span class="line">  <span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">buttonOne</span><span class="params">(<span class="number">_</span> sender: UIButton)</span></span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">self</span>.소지금 = <span class="number">70000</span></span><br><span class="line">    <span class="keyword">self</span>.<span class="built_in">count</span> = <span class="number">0</span></span><br><span class="line">    <span class="keyword">self</span>.sojecostLable.text = <span class="string">"\(소지금)원"</span></span><br><span class="line">    </span><br><span class="line">    initCost()</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">initCost</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">//짜장 짬뽕 탕수육 갯수 초기화</span></span><br><span class="line">    <span class="keyword">self</span>.countIndex1 = <span class="number">0</span></span><br><span class="line">    <span class="keyword">self</span>.countIndex2 = <span class="number">0</span></span><br><span class="line">    <span class="keyword">self</span>.countIndex3 = <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 모두 더한 값도 초기화</span></span><br><span class="line">    <span class="keyword">self</span>.countCost = <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">self</span>.buycostLable.text = <span class="string">"0"</span></span><br><span class="line">    <span class="keyword">self</span>.jangsLable.text = <span class="string">"0"</span></span><br><span class="line">    <span class="keyword">self</span>.bongsLable.text = <span class="string">"0"</span></span><br><span class="line">    <span class="keyword">self</span>.tangsLable.text = <span class="string">"0"</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//결제하기 알렛</span></span><br><span class="line">  <span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">buttonTwo</span><span class="params">(<span class="number">_</span> sender: UIButton)</span></span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> 소지금 &lt; countCost &#123;</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">let</span> alertController = <span class="type">UIAlertController</span>(title: <span class="string">"알림"</span>,message: <span class="string">"소지금액이 부족합니다"</span>, preferredStyle: .alert)</span><br><span class="line">      </span><br><span class="line">      </span><br><span class="line">      <span class="keyword">let</span> alert3Action = <span class="type">UIAlertAction</span>(title: <span class="string">"확인"</span>, style: .cancel) &#123; <span class="number">_</span> <span class="keyword">in</span></span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">      alertController.addAction(alert3Action)</span><br><span class="line">      present(alertController, animated: <span class="literal">true</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">let</span> alertController = <span class="type">UIAlertController</span>(title: <span class="string">"알림"</span>,message: <span class="string">"결제금액은 모두\(buycostLable.text!)원 입니다."</span>, preferredStyle: .alert)</span><br><span class="line">      </span><br><span class="line">      </span><br><span class="line">      <span class="keyword">let</span> alert1Action = <span class="type">UIAlertAction</span>(title: <span class="string">"취소"</span>, style: .cancel) &#123; <span class="number">_</span> <span class="keyword">in</span></span><br><span class="line">        </span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">let</span> alert2Action = <span class="type">UIAlertAction</span>(title: <span class="string">"확인"</span>, style: .destructive) &#123; <span class="number">_</span> <span class="keyword">in</span></span><br><span class="line">        <span class="keyword">self</span>.소지금 = <span class="keyword">self</span>.소지금 - <span class="keyword">self</span>.countCost</span><br><span class="line">        <span class="keyword">self</span>.sojecostLable.text = <span class="string">"\(self.소지금)원"</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">self</span>.initCost()</span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">      alertController.addAction(alert1Action)</span><br><span class="line">      alertController.addAction(alert2Action)</span><br><span class="line">      </span><br><span class="line">      present(alertController, animated: <span class="literal">true</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//주문1</span></span><br><span class="line">  <span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">oder1Button</span><span class="params">(<span class="number">_</span> sender: <span class="keyword">Any</span>)</span></span> &#123;</span><br><span class="line">    </span><br><span class="line">    countIndex1 += <span class="number">1</span></span><br><span class="line">    jangsLable?.text = <span class="string">"\(countIndex1)"</span></span><br><span class="line">    </span><br><span class="line">    countCost += <span class="number">5000</span></span><br><span class="line">    buycostLable.text = <span class="string">"\(countCost)원"</span></span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//주문2</span></span><br><span class="line">  <span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">oder2button</span><span class="params">(<span class="number">_</span> sender: <span class="keyword">Any</span>)</span></span> &#123;</span><br><span class="line">    countIndex2 += <span class="number">1</span></span><br><span class="line">    bongsLable?.text = <span class="string">"\(countIndex2)"</span></span><br><span class="line">    </span><br><span class="line">    countCost += <span class="number">6000</span></span><br><span class="line">    buycostLable.text = <span class="string">"\(countCost)원"</span></span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//주문3</span></span><br><span class="line">  <span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">oder3button</span><span class="params">(<span class="number">_</span> sender: <span class="keyword">Any</span>)</span></span> &#123;</span><br><span class="line">    countIndex3 += <span class="number">1</span></span><br><span class="line">    tangsLable?.text = <span class="string">"\(countIndex3)"</span></span><br><span class="line">    </span><br><span class="line">    countCost += <span class="number">12000</span></span><br><span class="line">    buycostLable.text = <span class="string">"\(countCost)원"</span></span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="첫-번째-방식(기존)-대한-특징.">첫 번째 방식(기존) 대한 특징.<a title="#첫-번째-방식(기존)-대한-특징." href="#첫-번째-방식(기존)-대한-특징."></a></h2><ol><li>나는 변수(전달할 값)를 먼저 설정한다.</li></ol><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> countIndex1: <span class="type">Int</span> = <span class="number">0</span> <span class="comment">//수량1</span></span><br><span class="line">  <span class="keyword">var</span> countIndex2: <span class="type">Int</span> = <span class="number">0</span> <span class="comment">//수량2</span></span><br><span class="line">  <span class="keyword">var</span> countIndex3: <span class="type">Int</span> = <span class="number">0</span> <span class="comment">//수량3</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> countCost: <span class="type">Int</span> = <span class="number">0</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">var</span> 소지금 : <span class="type">Int</span> = <span class="number">70000</span></span><br><span class="line">  <span class="keyword">var</span> <span class="type">Backup</span>: <span class="type">Int</span> = <span class="number">0</span> <span class="comment">//초기화</span></span><br><span class="line">  <span class="keyword">var</span> <span class="built_in">count</span>: <span class="type">Int</span> = <span class="number">0</span> <span class="comment">//결제금액</span></span><br></pre></td></tr></table></figure><p>이런식으로 초기값을 지정하거나 타입을 지정한다. 옵셔널일 경우도 생각해서 함수에 넣는 것보다 여기에 보통 ?을 넣는다.</p><ol start="2"><li>모든(?) 아울렛을 다 연결한다. ㅋㅋㅋ</li></ol><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@IBOutlet</span> <span class="keyword">var</span> <span class="type">MenuLable</span>: <span class="type">UILabel!</span></span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">var</span> costLable: <span class="type">UILabel!</span></span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">var</span> aeLable: <span class="type">UILabel!</span></span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">var</span> jangLable: <span class="type">UILabel!</span></span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">var</span> jangcostLable: <span class="type">UILabel!</span></span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">var</span> jangsLable: <span class="type">UILabel!</span></span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">var</span> bongLable: <span class="type">UILabel!</span></span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">var</span> bongcostLable: <span class="type">UILabel!</span></span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">var</span> bongsLable: <span class="type">UILabel!</span></span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">var</span> tangLable: <span class="type">UILabel!</span></span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">var</span> tangcostLable: <span class="type">UILabel!</span></span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">var</span> tangsLable: <span class="type">UILabel!</span></span><br></pre></td></tr></table></figure><p>솔직히 조금 혼란스러웠다. 스토리 보드로 짤때 레이블이나 뭐 화면에 얹는 것은 다 연결해야하는 건줄 알고 이제껏 다 연결해왔었는데… 나중에 복습하면서 굳이? 아울렛연결하지 않아도 시뮬에서 보이는 것이다… 필요한것만 연결해도 되는 거였나,<br>(그래서 이것도 정리좀 하려고 가장 무관해보이는 아울렛을 몇개 지우고 로직도 깨끗하게하고 시뮬켜봤는데 …이상하게도 또 백지화면이여서… 당황하면서 control+z…로 다시 무마했다.)</p><p>왜 이러는지 모르겠다… 어쨌든 이후코드에는 다 연결하지 않았는데도 화면에 다 보였다…</p><ol start="3"><li>결제금액 레이블에 들어가는 숫자들을 ‘countCost’라는 함수안에 다 넣었다.</li></ol><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//주문1</span></span><br><span class="line">  <span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">oder1Button</span><span class="params">(<span class="number">_</span> sender: <span class="keyword">Any</span>)</span></span> &#123;</span><br><span class="line">    </span><br><span class="line">    countIndex1 += <span class="number">1</span></span><br><span class="line">    jangsLable?.text = <span class="string">"\(countIndex1)"</span></span><br><span class="line">    </span><br><span class="line">    countCost += <span class="number">5000</span></span><br><span class="line">    buycostLable.text = <span class="string">"\(countCost)원"</span></span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//주문2</span></span><br><span class="line">  <span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">oder2button</span><span class="params">(<span class="number">_</span> sender: <span class="keyword">Any</span>)</span></span> &#123;</span><br><span class="line">    countIndex2 += <span class="number">1</span></span><br><span class="line">    bongsLable?.text = <span class="string">"\(countIndex2)"</span></span><br><span class="line">    </span><br><span class="line">    countCost += <span class="number">6000</span></span><br><span class="line">    buycostLable.text = <span class="string">"\(countCost)원"</span></span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//주문3</span></span><br><span class="line">  <span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">oder3button</span><span class="params">(<span class="number">_</span> sender: <span class="keyword">Any</span>)</span></span> &#123;</span><br><span class="line">    countIndex3 += <span class="number">1</span></span><br><span class="line">    tangsLable?.text = <span class="string">"\(countIndex3)"</span></span><br><span class="line">    </span><br><span class="line">    countCost += <span class="number">12000</span></span><br><span class="line">    buycostLable.text = <span class="string">"\(countCost)원"</span></span><br><span class="line">    </span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>버튼 함수에 일일히 수량과 가격에 대한 계산을 해놓았다. 이 결과값을 ‘countCost’라는 변수에 모두 담는 방식이다.</p><h3 id="coment..">coment…<a title="#coment.." href="#coment.."></a></h3><p>솔직히 코드에 맞다, 틀리다를 강요할 수는 없는 부분이다. 하지만 기존의 방식에서 벗어나 좀 더 함수를 활용해볼 수 없을까? 의문이 들기는 했다…<br>그래서 아래의 코드로 함수를 추가해 보았다.</p><h2 id="[나의-두-번째-code.레포트]">[나의 두 번째 code.레포트]<a title="#[나의-두-번째-code.레포트]" href="#[나의-두-번째-code.레포트]"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">addViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">UI</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> containerHeight: <span class="type">CGFloat</span> = <span class="number">40</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> displayLabelWidth: <span class="type">CGFloat</span> = <span class="number">140</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> labelWidth: <span class="type">CGFloat</span> = <span class="number">80</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">var</span> jangCountLabel: <span class="type">UILabel!</span></span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">var</span> bongCountLabel: <span class="type">UILabel!</span></span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">var</span> tangCountLabel: <span class="type">UILabel!</span></span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="comment">//짜장,짬뽕,탕수육 가격</span></span><br><span class="line">  <span class="keyword">let</span> jangCost = <span class="number">5000</span></span><br><span class="line">  <span class="keyword">let</span> bongCost = <span class="number">6000</span></span><br><span class="line">  <span class="keyword">let</span> tangCost = <span class="number">12000</span></span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="comment">//각 수량 변수 didset으로 담기</span></span><br><span class="line">  <span class="keyword">var</span> jangCount: <span class="type">Int</span> = <span class="number">0</span>&#123;</span><br><span class="line">    <span class="keyword">didSet</span> &#123;</span><br><span class="line">      jangCountLabel.text = <span class="string">"\(jangCount)"</span></span><br><span class="line">      </span><br><span class="line">      buyPay = calcPrice() <span class="comment">//결제금액 = 현재 결제금액을 계산하는 메소드()</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> bongCount: <span class="type">Int</span> = <span class="number">0</span> &#123;</span><br><span class="line">    <span class="keyword">didSet</span> &#123;</span><br><span class="line">      bongCountLabel.text = <span class="string">"\(bongCount)"</span></span><br><span class="line">     buyPay = calcPrice()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">var</span> tangCount: <span class="type">Int</span> = <span class="number">0</span> &#123;</span><br><span class="line">    <span class="keyword">didSet</span> &#123;</span><br><span class="line">      tangCountLabel.text = <span class="string">"\(tangCount)"</span></span><br><span class="line">       buyPay = calcPrice()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//현재 결제금액을 계산하는 메소드</span></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">calcPrice</span><span class="params">()</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (jangCount * jangCost) + (bongCount * bongCost) + (tangCount * tangCost)</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//소지금액 변수</span></span><br><span class="line">  <span class="keyword">var</span> sojiPay: <span class="type">Int</span> = <span class="number">70000</span> &#123;</span><br><span class="line">    <span class="keyword">didSet</span> &#123;</span><br><span class="line">      sojiCost.text = <span class="string">"\(sojiPay)원"</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">  <span class="comment">//결제금액 변수</span></span><br><span class="line">    <span class="keyword">var</span> buyPay: <span class="type">Int</span> = <span class="number">0</span> &#123;</span><br><span class="line">  <span class="keyword">didSet</span> &#123;</span><br><span class="line">    buyCost.text = <span class="string">"\(buyPay)원"</span></span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> sojiCost = <span class="type">UILabel</span>()</span><br><span class="line">  <span class="keyword">var</span> buyCost = <span class="type">UILabel</span>()</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//소지금 Label</span></span><br><span class="line">    <span class="keyword">let</span> sojiLabel = <span class="type">UILabel</span>()</span><br><span class="line">    sojiLabel.frame = <span class="type">CGRect</span>(x: <span class="number">30</span> , y: <span class="number">330</span>, width: <span class="type">UI</span>.labelWidth, height: <span class="type">UI</span>.containerHeight)</span><br><span class="line">    sojiLabel.textAlignment = .center</span><br><span class="line">    sojiLabel.backgroundColor = .green</span><br><span class="line">    sojiLabel.textColor = .black</span><br><span class="line">    sojiLabel.text = <span class="string">"소지금"</span></span><br><span class="line">    view.addSubview(sojiLabel)</span><br><span class="line">    </span><br><span class="line">   </span><br><span class="line">    sojiCost.frame = <span class="type">CGRect</span>(x: <span class="number">120</span> , y: <span class="number">330</span>, width: <span class="type">UI</span>.labelWidth+<span class="number">54</span>, height: <span class="type">UI</span>.containerHeight)</span><br><span class="line">    sojiCost.textAlignment = .<span class="keyword">right</span></span><br><span class="line">    sojiCost.backgroundColor = .green</span><br><span class="line">    sojiCost.textColor = .black</span><br><span class="line">    sojiCost.text = <span class="string">"70000원"</span></span><br><span class="line">    view.addSubview(sojiCost)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//결제금액 Lable</span></span><br><span class="line">    <span class="keyword">let</span> buyLabel = <span class="type">UILabel</span>()</span><br><span class="line">    buyLabel.frame = <span class="type">CGRect</span>(x: <span class="number">30</span> , y: <span class="number">370</span>, width: <span class="type">UI</span>.labelWidth, height: <span class="type">UI</span>.containerHeight)</span><br><span class="line">    buyLabel.textAlignment = .center</span><br><span class="line">    buyLabel.backgroundColor = .orange</span><br><span class="line">    buyLabel.textColor = .black</span><br><span class="line">    buyLabel.text = <span class="string">"결제금액"</span></span><br><span class="line">    view.addSubview(buyLabel)</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    buyCost.frame = <span class="type">CGRect</span>(x: <span class="number">120</span>, y: <span class="number">370</span>, width: <span class="type">UI</span>.labelWidth+<span class="number">54</span>, height: <span class="type">UI</span>.containerHeight)</span><br><span class="line">    buyCost.textAlignment = .<span class="keyword">right</span></span><br><span class="line">    buyCost.backgroundColor = .orange</span><br><span class="line">    buyCost.textColor = .black</span><br><span class="line">    buyCost.text = <span class="string">"0원"</span></span><br><span class="line">    view.addSubview(buyCost)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//초기화버튼</span></span><br><span class="line">    <span class="keyword">let</span> setupButton = <span class="type">UIButton</span>()</span><br><span class="line">    setupButton.frame = <span class="type">CGRect</span>(x: <span class="number">265</span>, y: <span class="number">330</span>, width: <span class="type">UI</span>.labelWidth, height: <span class="type">UI</span>.containerHeight)</span><br><span class="line">    setupButton.backgroundColor = .black</span><br><span class="line">    setupButton.setTitleColor(.orange, <span class="keyword">for</span>: .normal)</span><br><span class="line">    setupButton.setTitle(<span class="string">"초기화"</span>, <span class="keyword">for</span>: .normal)</span><br><span class="line">    view.addSubview(setupButton)</span><br><span class="line">    </span><br><span class="line">    setupButton.addTarget(<span class="keyword">self</span>, action: #selector(setupButtonClicked), <span class="keyword">for</span>: .touchUpInside)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//결제하기 버튼</span></span><br><span class="line">    <span class="keyword">let</span> buyButton = <span class="type">UIButton</span>()</span><br><span class="line">    buyButton.frame = <span class="type">CGRect</span>(x: <span class="number">265</span>, y: <span class="number">370</span>, width: <span class="type">UI</span>.labelWidth, height: <span class="type">UI</span>.containerHeight)</span><br><span class="line">    buyButton.backgroundColor = .black</span><br><span class="line">    buyButton.setTitle(<span class="string">"결제하기"</span>, <span class="keyword">for</span>: .normal)</span><br><span class="line">    buyButton.setTitleColor(.orange, <span class="keyword">for</span>: .normal)</span><br><span class="line">    view.addSubview(buyButton)</span><br><span class="line">    </span><br><span class="line">    buyButton.addTarget(<span class="keyword">self</span>, action: #selector(buyButtonClicked), <span class="keyword">for</span>: .touchUpInside)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//초기화버튼</span></span><br><span class="line">  <span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">setupButtonClicked</span><span class="params">(<span class="number">_</span> sender: UIButton)</span></span> &#123;</span><br><span class="line">    </span><br><span class="line">    jangCount = <span class="number">0</span></span><br><span class="line">    bongCount = <span class="number">0</span></span><br><span class="line">    tangCount = <span class="number">0</span></span><br><span class="line">    buyPay = <span class="number">0</span></span><br><span class="line">    sojiPay = <span class="number">70000</span></span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//결제하기 버튼</span></span><br><span class="line">  <span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">buyButtonClicked</span><span class="params">(<span class="number">_</span> sender: UIButton)</span></span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> sojiPay &lt;= buyPay &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">let</span> alertController = <span class="type">UIAlertController</span>(title: <span class="string">"알림"</span>,message: <span class="string">"소지금액이 부족합니다"</span>, preferredStyle: .alert)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">let</span> alert3Action = <span class="type">UIAlertAction</span>(title: <span class="string">"확인"</span>, style: .cancel) &#123; <span class="number">_</span> <span class="keyword">in</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        alertController.addAction(alert3Action)</span><br><span class="line">        present(alertController, animated: <span class="literal">true</span>)</span><br><span class="line">    </span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">           <span class="keyword">let</span> alertController = <span class="type">UIAlertController</span>(title: <span class="string">"알림"</span>,message: <span class="string">"결제금액은 모두\(buyPay)원 입니다."</span>, preferredStyle: .alert)</span><br><span class="line">           </span><br><span class="line">           <span class="keyword">let</span> alert1Action = <span class="type">UIAlertAction</span>(title: <span class="string">"취소"</span>, style: .cancel) &#123; <span class="number">_</span> <span class="keyword">in</span></span><br><span class="line">             </span><br><span class="line">           &#125;</span><br><span class="line">           <span class="comment">//소지금 - 결제금액 계산</span></span><br><span class="line">           <span class="keyword">let</span> alert2Action = <span class="type">UIAlertAction</span>(title: <span class="string">"확인"</span>, style: .destructive) &#123; <span class="number">_</span> <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">self</span>.sojiPay = <span class="keyword">self</span>.sojiPay - <span class="keyword">self</span>.buyPay</span><br><span class="line">            <span class="keyword">self</span>.sojiCost.text! = <span class="string">"\(self.sojiPay)원"</span></span><br><span class="line">             </span><br><span class="line">           &#125;</span><br><span class="line">           </span><br><span class="line">           alertController.addAction(alert1Action)</span><br><span class="line">           alertController.addAction(alert2Action)</span><br><span class="line">           </span><br><span class="line">           present(alertController, animated: <span class="literal">true</span>)</span><br><span class="line">         &#125;</span><br><span class="line">         </span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="comment">//주문 버튼 3개</span></span><br><span class="line">  <span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">jangOder</span><span class="params">(<span class="number">_</span> sender: <span class="keyword">Any</span>)</span></span> &#123;</span><br><span class="line">    jangCount += <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">bongOder</span><span class="params">(<span class="number">_</span> sender: <span class="keyword">Any</span>)</span></span> &#123;</span><br><span class="line">    bongCount += <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">tangOder</span><span class="params">(<span class="number">_</span> sender: <span class="keyword">Any</span>)</span></span> &#123;</span><br><span class="line">    tangCount += <span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="두-번째-방식에-대한-특징">두 번째 방식에 대한 특징<a title="#두-번째-방식에-대한-특징" href="#두-번째-방식에-대한-특징"></a></h3><p>1.구조체의 활용</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">UI</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> containerHeight: <span class="type">CGFloat</span> = <span class="number">40</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> displayLabelWidth: <span class="type">CGFloat</span> = <span class="number">140</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> labelWidth: <span class="type">CGFloat</span> = <span class="number">80</span></span><br></pre></td></tr></table></figure><p>struct를 이용하여 frame을 짜는데에 번거로움을 줄였다. 사실 버튼 디자인이 각각 다르기보다 깔끔한 UI를 위해 통일하는 경우가 많기 때문에 반복될만한 frame값이 있다면 UI를 미리 통일시키는 것도 나쁘지 않다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> sojiLabel = <span class="type">UILabel</span>()</span><br><span class="line">    sojiLabel.frame = <span class="type">CGRect</span>(x: <span class="number">30</span> , y: <span class="number">330</span>, width: <span class="type">UI</span>.labelWidth, height: <span class="type">UI</span>.containerHeight)</span><br></pre></td></tr></table></figure><p>이런식으로, 코드 하나하나에 frame값을 넣어줬고, 변경할때는 다같이 또 일일히 건드려야했던 것을 UI를 통해, UI.labelWidth 이나 UI.containerHeight의 값을 복사하여 불러오면 코드를 좀더 간편하게 쓸 수 있었다.</p><p>2.didset의 활용</p><p>didset은 값이 바뀔때 한번 실행해주는 역할을 한다. 그래서 값이 바뀔만한 것들은 모두 이런식으로 짜준다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//각 수량 변수 didset으로 담기</span></span><br><span class="line">  <span class="keyword">var</span> jangCount: <span class="type">Int</span> = <span class="number">0</span>&#123;</span><br><span class="line">    <span class="keyword">didSet</span> &#123;</span><br><span class="line">      jangCountLabel.text = <span class="string">"\(jangCount)"</span></span><br><span class="line">      </span><br><span class="line">      buyPay = calcPrice() <span class="comment">//결제금액 = 현재 결제금액을 계산하는 메소드()</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> bongCount: <span class="type">Int</span> = <span class="number">0</span> &#123;</span><br><span class="line">    <span class="keyword">didSet</span> &#123;</span><br><span class="line">      bongCountLabel.text = <span class="string">"\(bongCount)"</span></span><br><span class="line">     buyPay = calcPrice()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">var</span> tangCount: <span class="type">Int</span> = <span class="number">0</span> &#123;</span><br><span class="line">    <span class="keyword">didSet</span> &#123;</span><br><span class="line">      tangCountLabel.text = <span class="string">"\(tangCount)"</span></span><br><span class="line">       buyPay = calcPrice()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//소지금액 변수</span></span><br><span class="line">  <span class="keyword">var</span> sojiPay: <span class="type">Int</span> = <span class="number">70000</span> &#123;</span><br><span class="line">    <span class="keyword">didSet</span> &#123;</span><br><span class="line">      sojiCost.text = <span class="string">"\(sojiPay)원"</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">  <span class="comment">//결제금액 변수</span></span><br><span class="line">    <span class="keyword">var</span> buyPay: <span class="type">Int</span> = <span class="number">0</span> &#123;</span><br><span class="line">  <span class="keyword">didSet</span> &#123;</span><br><span class="line">    buyCost.text = <span class="string">"\(buyPay)원"</span></span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>첫번째 방식에서는 버튼 함수에 계산금액 값을 지정하고 수량에 따라 +(더하기)가 되서 countCost에 값을 모두 넣는 방식이고), 두번째 방식은 변수에 didset으로 계산식을 놓아 그때그때 실행한다. 1.text에 대한 변수지정, 2. 결제금액과 계산값에 대한 변수호출.<br>참고로 buyPay = calcPrice()는 아래의 계산식은 아래와 같다.</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//현재 결제금액을 계산하는 메소드</span></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">calcPrice</span><span class="params">()</span></span> -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (jangCount * jangCost) + (bongCount * bongCost) + (tangCount * tangCost)</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>두번째가 훨씬 친절한 느낌이 드는 것 같기도하다. 애초에 didset으로 놓으니, 예상치못하게 기능을 바꾸어야하는 순간이 올때, 첫번째처럼 했더라면 해당 함수를 찾아 긴긴 코드를 읽어야 했겠지만… 두번째는 일일히 찾지 않고 didset을 보면 확실히 알기 때문이다. 장기적으로 좋은 것 같다. 역시 공유하려면 '나만아는 코드’(여기서 벗어나야 한다…ㅜㅜ)보단 지도가 될 수 있는’객관적인 코드’가 중요하니까.</p><ol start="3"><li>viewDidLoad 간소화</li></ol><p>사실 다루고 싶은 부분이었는데, 하지를 못했다, ~~방법은 아는데…~~아무래도 다음 포스트에서 해야할 듯하다…</p><h3 id="coment..-1">coment…<a title="#coment..-1" href="#coment..-1"></a></h3><p>요즘 수업을 듣고, 공부하면서 가장 힘든 부분은 독학해왔던 기존방식을 버리고 새로운 방식을 습득해야하는 것에 있다. 강사님의 코드는 어렵고. 옆친구는 어쩐지 나와 다른방식으로 풀고 있고, 나는 어쩐지 너무 단순하게 코드를 짜는 것 같아. 스트레스가 좀 쌓인다. 이 부분에 대해서 억울한 면이 있지만, 이게 아마추어와 프로의 차이라고 말한다면 할말은 없어진다. 프로의 길을 가기위해 기존의 방식을 내려 놓아야한다면 놓아야지. 그것은 변함없는 사실일 테니까…</p><p>아래에는 강사님 코드를 붙여놓았다. 어렵지만, 코드를 보았을 때, 참 합리적이라는 생각이 들었다. 아직은 공부하는 단계니까 문법에 좀 더 익숙해지면, 나도 합리적으로 코드를 짤 수 있겠지… 강사님의 코드가 눈에 익숙해지도록 복습 또, 복습하고 더욱 노력해야겠다…</p><h2 id="답지code.(강사님-코드)">답지code.(강사님 코드)<a title="#답지code.(강사님-코드)" href="#답지code.(강사님-코드)"></a></h2><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">ViewController</span>: <span class="title">UIViewController</span> </span>&#123;</span><br><span class="line">  </span><br><span class="line">  <span class="class"><span class="keyword">struct</span> <span class="title">UI</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> containerHeight: <span class="type">CGFloat</span> = <span class="number">40</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> displayLabelWidth: <span class="type">CGFloat</span> = <span class="number">140</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">let</span> labelWidth: <span class="type">CGFloat</span> = <span class="number">80</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// MARK: IBOutlets</span></span><br><span class="line">  </span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">weak</span> <span class="keyword">var</span> 짜장면amountLabel: <span class="type">UILabel!</span></span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">weak</span> <span class="keyword">var</span> 짬뽕amountLabel: <span class="type">UILabel!</span></span><br><span class="line">  <span class="meta">@IBOutlet</span> <span class="keyword">weak</span> <span class="keyword">var</span> 탕수육amountLabel: <span class="type">UILabel!</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">// MARK: Properties</span></span><br><span class="line">  </span><br><span class="line">  <span class="class"><span class="keyword">enum</span> <span class="title">MenuItem</span>: <span class="title">Int</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> 짜장면, 짬뽕, 탕수육</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> 주문수량dict: [<span class="type">MenuItem</span>: <span class="type">Int</span>] = [</span><br><span class="line">    <span class="type">MenuItem</span>.짜장면: <span class="number">0</span>,</span><br><span class="line">    <span class="type">MenuItem</span>.짬뽕: <span class="number">0</span>,</span><br><span class="line">    <span class="type">MenuItem</span>.탕수육: <span class="number">0</span></span><br><span class="line">  ]</span><br><span class="line">  <span class="keyword">let</span> menuItemCostArr = [<span class="number">5_000</span>, <span class="number">6_000</span>, <span class="number">12_000</span>]</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> 소지금displayLabel = <span class="type">UILabel</span>()</span><br><span class="line">  <span class="keyword">var</span> 소지금 = <span class="number">70_000</span> &#123;</span><br><span class="line">    <span class="keyword">didSet</span> &#123; 소지금displayLabel.text = <span class="string">"\(소지금)원"</span> &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">let</span> 결제금액displayLabel = <span class="type">UILabel</span>()</span><br><span class="line">  <span class="keyword">var</span> 결제금액 = <span class="number">0</span> &#123;</span><br><span class="line">    <span class="keyword">didSet</span> &#123; 결제금액displayLabel.text = <span class="string">"\(결제금액)원"</span> &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="comment">// MARK: View Life Cycle</span></span><br><span class="line">  </span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">func</span> <span class="title">viewDidLoad</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.viewDidLoad()</span><br><span class="line">    setupAdditionalViews()</span><br><span class="line">    initializeData()</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="comment">// MARK: Setup Views</span></span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">setupAdditionalViews</span><span class="params">()</span></span> &#123;</span><br><span class="line">    setup소지금views()</span><br><span class="line">    setup결제금액views()</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">setup</span>소지금<span class="title">views</span><span class="params">()</span></span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 컨테이너</span></span><br><span class="line">    <span class="keyword">let</span> 소지금containerView = <span class="type">UIView</span>()</span><br><span class="line">    소지금containerView.frame = <span class="type">CGRect</span>(</span><br><span class="line">      x: <span class="number">20</span>, y: <span class="number">350</span>, width: view.frame.width - <span class="number">40</span>, height: <span class="type">UI</span>.containerHeight</span><br><span class="line">    )</span><br><span class="line">    view.addSubview(소지금containerView)</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 콘텐츠</span></span><br><span class="line">    <span class="keyword">let</span> 소지금label = <span class="type">UILabel</span>()</span><br><span class="line">    소지금label.frame = <span class="type">CGRect</span>(</span><br><span class="line">      x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="type">UI</span>.labelWidth, height: <span class="type">UI</span>.containerHeight</span><br><span class="line">    )</span><br><span class="line">    소지금label.text = <span class="string">"소지금"</span></span><br><span class="line">    소지금label.textAlignment = .center</span><br><span class="line">    소지금label.backgroundColor = .green</span><br><span class="line">    소지금label.font = <span class="type">UIFont</span>.preferredFont(forTextStyle: .title3)</span><br><span class="line">    소지금containerView.addSubview(소지금label)</span><br><span class="line">    </span><br><span class="line">    소지금displayLabel.frame = <span class="type">CGRect</span>(</span><br><span class="line">      x: 소지금label.frame.maxX + <span class="number">10</span>, y: <span class="number">0</span>,</span><br><span class="line">      width: <span class="type">UI</span>.displayLabelWidth, height: <span class="type">UI</span>.containerHeight</span><br><span class="line">    )</span><br><span class="line">    소지금displayLabel.backgroundColor = .green</span><br><span class="line">    소지금displayLabel.textAlignment = .<span class="keyword">right</span></span><br><span class="line">    소지금displayLabel.font = <span class="type">UIFont</span>.preferredFont(forTextStyle: .title3)</span><br><span class="line">    소지금containerView.addSubview(소지금displayLabel)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> 초기화button = <span class="type">UIButton</span>()</span><br><span class="line">    초기화button.frame = <span class="type">CGRect</span>(</span><br><span class="line">      x: 소지금displayLabel.frame.maxX + <span class="number">20</span>, y: <span class="number">0</span>,</span><br><span class="line">      width: <span class="type">UI</span>.labelWidth, height: <span class="type">UI</span>.containerHeight</span><br><span class="line">    )</span><br><span class="line">    초기화button.backgroundColor = .black</span><br><span class="line">    초기화button.setTitle(<span class="string">"초기화"</span>, <span class="keyword">for</span>: .normal)</span><br><span class="line">    초기화button.setTitleColor(.white, <span class="keyword">for</span>: .normal)</span><br><span class="line">    초기화button.addTarget(<span class="keyword">self</span>, action: #selector(initializeData), <span class="keyword">for</span>: .touchUpInside)</span><br><span class="line">    소지금containerView.addSubview(초기화button)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">setup</span>결제금액<span class="title">views</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">let</span> 소지금maxYOffset = 소지금displayLabel.superview!.frame.maxY</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 컨테이너</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> 결제금액containerView = <span class="type">UIView</span>()</span><br><span class="line">    결제금액containerView.frame = <span class="type">CGRect</span>(</span><br><span class="line">      x: <span class="number">20</span>, y: 소지금maxYOffset + <span class="number">10</span>,</span><br><span class="line">      width: view.frame.width - <span class="number">40</span>, height: <span class="type">UI</span>.containerHeight</span><br><span class="line">    )</span><br><span class="line">    view.addSubview(결제금액containerView)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 콘텐츠</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> 결제금액label = <span class="type">UILabel</span>()</span><br><span class="line">    결제금액label.frame = <span class="type">CGRect</span>(</span><br><span class="line">      x: <span class="number">0</span>, y: <span class="number">0</span>, width: <span class="type">UI</span>.labelWidth, height: <span class="type">UI</span>.containerHeight</span><br><span class="line">    )</span><br><span class="line">    결제금액label.text = <span class="string">"결제금액"</span></span><br><span class="line">    결제금액label.textAlignment = .center</span><br><span class="line">    결제금액label.backgroundColor = .orange</span><br><span class="line">    결제금액label.font = <span class="type">UIFont</span>.preferredFont(forTextStyle: .title3)</span><br><span class="line">    결제금액containerView.addSubview(결제금액label)</span><br><span class="line">    </span><br><span class="line">    결제금액displayLabel.frame = <span class="type">CGRect</span>(</span><br><span class="line">      x: 결제금액label.frame.maxX + <span class="number">10</span>, y: <span class="number">0</span>,</span><br><span class="line">      width: <span class="type">UI</span>.displayLabelWidth, height: <span class="type">UI</span>.containerHeight</span><br><span class="line">    )</span><br><span class="line">    결제금액displayLabel.textAlignment = .<span class="keyword">right</span></span><br><span class="line">    결제금액displayLabel.backgroundColor = .orange</span><br><span class="line">    결제금액displayLabel.font = <span class="type">UIFont</span>.preferredFont(forTextStyle: .title3)</span><br><span class="line">    결제금액containerView.addSubview(결제금액displayLabel)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> 결제button = <span class="type">UIButton</span>()</span><br><span class="line">    결제button.frame = <span class="type">CGRect</span>(</span><br><span class="line">      x: 결제금액displayLabel.frame.maxX + <span class="number">20</span>, y: <span class="number">0</span>,</span><br><span class="line">      width: <span class="type">UI</span>.labelWidth, height: <span class="type">UI</span>.containerHeight</span><br><span class="line">    )</span><br><span class="line">    결제button.backgroundColor = .black</span><br><span class="line">    결제button.setTitle(<span class="string">"결제"</span>, <span class="keyword">for</span>: .normal)</span><br><span class="line">    결제button.setTitleColor(.white, <span class="keyword">for</span>: .normal)</span><br><span class="line">    결제button.addTarget(<span class="keyword">self</span>, action: #selector(didTapPaymentButton(<span class="number">_</span>:)), <span class="keyword">for</span>: .touchUpInside)</span><br><span class="line">    결제금액containerView.addSubview(결제button)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="comment">// MARK: - Action</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 주문</span></span><br><span class="line">  <span class="meta">@IBAction</span> <span class="function"><span class="keyword">func</span> <span class="title">didTapOrderButton</span><span class="params">(<span class="number">_</span> sender: UIButton)</span></span> &#123;</span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> item = <span class="type">MenuItem</span>(rawValue: sender.tag),</span><br><span class="line">      <span class="keyword">let</span> amount = 주문수량dict[item]</span><br><span class="line">      <span class="keyword">else</span> &#123; <span class="keyword">return</span> &#125;</span><br><span class="line">    결제금액 += menuItemCostArr[sender.tag]</span><br><span class="line">    주문수량dict[item] = amount + <span class="number">1</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> labels = [짜장면amountLabel, 짬뽕amountLabel, 탕수육amountLabel]</span><br><span class="line">    labels[sender.tag]?.text = <span class="string">"\(amount + 1)"</span></span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 결제</span></span><br><span class="line">  <span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">didTapPaymentButton</span><span class="params">(<span class="number">_</span> sender: UIButton)</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> 소지금 &gt;= 결제금액 &#123;</span><br><span class="line">      showAlert(</span><br><span class="line">        title: <span class="string">"결제하기"</span>,</span><br><span class="line">        message: <span class="string">"총 결제금액은 \(결제금액)원입니다."</span>,</span><br><span class="line">        actions: [</span><br><span class="line">          <span class="type">UIAlertAction</span>(title: <span class="string">"확인"</span>, style: .<span class="keyword">default</span>) &#123; <span class="number">_</span> <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">let</span> temp = <span class="keyword">self</span>.소지금 - <span class="keyword">self</span>.결제금액</span><br><span class="line">            <span class="keyword">self</span>.initializeData()</span><br><span class="line">            <span class="keyword">self</span>.소지금 = temp</span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="type">UIAlertAction</span>(title: <span class="string">"취소"</span>, style: .cancel)</span><br><span class="line">        ]</span><br><span class="line">      )</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      showAlert(</span><br><span class="line">        title: <span class="string">"소지금이 부족합니다"</span>,</span><br><span class="line">        actions: [<span class="type">UIAlertAction</span>(title: <span class="string">"확인"</span>, style: .<span class="keyword">default</span>)]</span><br><span class="line">      )</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// Alert</span></span><br><span class="line">  <span class="function"><span class="keyword">func</span> <span class="title">showAlert</span><span class="params">(title: String, message: String? = <span class="literal">nil</span>, actions: [UIAlertAction])</span></span> &#123;</span><br><span class="line">    <span class="keyword">let</span> alertController = <span class="type">UIAlertController</span>(</span><br><span class="line">      title: title, message: message, preferredStyle: .alert</span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">for</span> action <span class="keyword">in</span> actions &#123;</span><br><span class="line">      alertController.addAction(action)</span><br><span class="line">    &#125;</span><br><span class="line">    present(alertController, animated: <span class="literal">true</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="comment">// 초기화</span></span><br><span class="line">  <span class="meta">@objc</span> <span class="function"><span class="keyword">func</span> <span class="title">initializeData</span><span class="params">()</span></span> &#123;</span><br><span class="line">    소지금 = <span class="number">70_000</span></span><br><span class="line">    결제금액 = <span class="number">0</span></span><br><span class="line">    짜장면amountLabel.text = <span class="string">"0"</span></span><br><span class="line">    짬뽕amountLabel.text = <span class="string">"0"</span></span><br><span class="line">    탕수육amountLabel.text = <span class="string">"0"</span></span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> 주문수량dict.keys &#123;</span><br><span class="line">      주문수량dict[key] = <span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> feedback </tag>
            
            <tag> 개발일기 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>손쉬운 단축키 모음</title>
      <link href="2020/04/30/%EC%86%90%EC%89%AC%EC%9A%B4-%EB%8B%A8%EC%B6%95%ED%82%A4-%EB%AA%A8%EC%9D%8C/"/>
      <url>2020/04/30/%EC%86%90%EC%89%AC%EC%9A%B4-%EB%8B%A8%EC%B6%95%ED%82%A4-%EB%AA%A8%EC%9D%8C/</url>
      
        <content type="html"><![CDATA[<h1 id="단축키-모음">단축키 모음<a title="#단축키-모음" href="#단축키-모음"></a></h1><h2 id="general">General<a title="#general" href="#general"></a></h2><ul><li><p>command + shift + n = 새폴더 만들기</p></li><li><p>shift + command + e = 폴더에서 iTerm2 열기</p></li><li><p>option + esc = 텍스트 말하기</p></li><li><p>shift + command + . = 히든파일 보이기 option + command + h = 작업창 이외에 숨기기</p></li><li><p>command + h : 창 뒤로 보내기</p></li></ul><h2 id="xcode">Xcode<a title="#xcode" href="#xcode"></a></h2><h3 id="[실행-관련]">[실행 관련]<a title="#[실행-관련]" href="#[실행-관련]"></a></h3><ul><li><p>command + b : 빌드업</p></li><li><p>command + s : 프로젝트 저장</p></li><li><p>command + r : 시뮬레이터 실행</p></li></ul><h3 id="[화면-관련]">[화면 관련]<a title="#[화면-관련]" href="#[화면-관련]"></a></h3><ul><li><p>command + ` : 같은 프로그램 내 화면이동 command + shift + [ or ] : 탭이동</p></li><li><p>option + command + 0 : Utilities 여닫 command + 0 : Navigator 닫기</p></li><li><p>command + 1, 2, 3, 4… : Navigator 열기 shift + command + y : Debug 여닫 command + option + enter : 현재창 이중분할</p></li><li><p>option + 파일선택 : 선택파일 화면분할 command + enter : 현재창 단일창</p></li></ul><h3 id="[코드-관련]">[코드 관련]<a title="#[코드-관련]" href="#[코드-관련]"></a></h3><ul><li><p>option + 좌우 방향키 : 한단어씩 이동 option + 상하 방향키 : 이동문단의 끝 command + 방향키 : 방향의 끝으로 이동 command + ] or tab: 코드 밀어내기 command + [ or shift + tab : 코드 당겨오기</p></li><li><p>control + i : 코드 자동정렬</p></li><li><p>control + command + e : 같은 이름의 변수를 한번에 수정</p></li><li><p>shift + command + o : 프로젝트 내 검색 command + e : 저장</p></li><li><p>command + g : 저장한것 찾기</p></li><li><p>command + l : 입력 line 으로 이동 command + option + 좌우 방형키 : 함수 접기</p></li><li><p>command + control + spacebar : 이모티콘 option + 프로퍼티 or 메서드 클릭 : 간단설명</p></li><li><p>command + control + 프로퍼티 or 메서드 클릭 : 선언지점으로 이동</p></li></ul><h2 id="simulator">Simulator<a title="#simulator" href="#simulator"></a></h2><ul><li><p>command + k : 키보드 보이기</p></li><li><p>command + 좌우 방향키 : 화면 회전 command + 상하 방향키 : 볼륨키</p></li><li><p>option + command : 이중 터치(줌 인 아웃) command + shift + h : 홈키</p></li><li><p>command + shift + h * 2: 백그라운드 앱보기</p></li><li><p>command + s : 스크린샷</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 기타 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Xcode </tag>
            
            <tag> Simulator </tag>
            
            <tag> General </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Xcode] Xcode테마 다운로드와 적용하기</title>
      <link href="2020/04/30/Xcode-Xcode%ED%85%8C%EB%A7%88-%EB%8B%A4%EC%9A%B4%EB%A1%9C%EB%93%9C%EC%99%80-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0/"/>
      <url>2020/04/30/Xcode-Xcode%ED%85%8C%EB%A7%88-%EB%8B%A4%EC%9A%B4%EB%A1%9C%EB%93%9C%EC%99%80-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="xcode테마-다운로드와-적용하기">Xcode테마 다운로드와 적용하기<a title="#xcode테마-다운로드와-적용하기" href="#xcode테마-다운로드와-적용하기"></a></h1><p>Xcode에서 cm + , 단축키를 이용하면 아래의 설정창을 확인할 수 있다.</p><p><img src="/image/fontTheme.png" alt="" class="φcx"></p><p>Xcode에서 'font &amp; Color’에 대한 다양한 에디터 테마를 지원하지만, 좀더 확장된 디자인을 원할 땐 git에서 다운받아 사용하자 !</p><h2 id="[사용하기]">[사용하기]<a title="#[사용하기]" href="#[사용하기]"></a></h2><ol><li>GitHub 테마(Theme) 다운로드 및 설치<br>사이트가기 : <a href="https://github.com/hdoria/xcode-themes" target="_blank">https://github.com/hdoria/xcode-themes</a></li></ol><p>50여종의 테마를 확인한다.</p><ol start="2"><li>터미널에 아래의 코드를 순서대로 입력</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;hdoria&#x2F;xcode-themes.git</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd xcode-themes</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;install.sh</span><br></pre></td></tr></table></figure><ol start="3"><li><p>입력을 모두 마쳤다면, Xcode를 완전 종료했다가 다시 실행한다.<br>(50가지 이상의 테마가 설치된 것을 확인할 수 있다.)</p></li><li><p>cm + , 로 테마가 받아졌는지 확인하고 선택하여 적용한다.</p></li></ol><p>:full_moon_with_face:</p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Swift </tag>
            
            <tag> Xcode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[Xcode]Simulator에서 Keyboard가 안보일 때</title>
      <link href="2020/04/30/Xcode-Simulator%EC%97%90%EC%84%9C-Keyboard%EA%B0%80-%EC%95%88%EB%B3%B4%EC%9D%BC-%EB%95%8C/"/>
      <url>2020/04/30/Xcode-Simulator%EC%97%90%EC%84%9C-Keyboard%EA%B0%80-%EC%95%88%EB%B3%B4%EC%9D%BC-%EB%95%8C/</url>
      
        <content type="html"><![CDATA[<h1 id="simulator에서-keyboard가-안보일-때..">Simulator에서 Keyboard가 안보일 때…<a title="#simulator에서-keyboard가-안보일-때.." href="#simulator에서-keyboard가-안보일-때.."></a></h1><p>최근에 Xcode 이전 버전을 설치했는데… 갑자기 Simulator에 키보드가 안나와서 당황하고 한참 해맸다… 시뮬레이터에서 설정해야하는데 Xcode에서 계속 키보드 검색 ㅋㅋㅋㅋ… <s>어쩐지안나오더라,</s></p><p>한 번 설정해 놓으면 또 까먹게 되서 올린다… 8ㅅ8</p><p><img src="image/Keyboard.png" alt="Simulator" class="φcx"></p><p>(Simulator - i/O - Keyborad - ConnectHardware Keyboard)</p><ul><li>해당경로로 들어가서 ConnectHardware Keyboard를 체크해제 해주면 된다.</li></ul><p>이번에 알게된 건데, 그냥 단축키로 열었다 닫았다 해도된다.<br>Cm + K , Cm +sif + K  이렇게…</p><p>Xcode는 정말 자주 업데이트되는 것 같다… ㅎ ㅏ</p>]]></content>
      
      
      <categories>
          
          <category> ios </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Xcode </tag>
            
            <tag> Keyborad </tag>
            
            <tag> Simulator </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>[라이브러리]IQkeyboardManager - 키보드에 닫기(Done)버튼 생성하기</title>
      <link href="2020/04/30/%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-IQkeyboardManager-%ED%82%A4%EB%B3%B4%EB%93%9C%EC%97%90-%EB%8B%AB%EA%B8%B0-Done-%EB%B2%84%ED%8A%BC-%EC%83%9D%EC%84%B1%ED%95%98%EA%B8%B0/"/>
      <url>2020/04/30/%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-IQkeyboardManager-%ED%82%A4%EB%B3%B4%EB%93%9C%EC%97%90-%EB%8B%AB%EA%B8%B0-Done-%EB%B2%84%ED%8A%BC-%EC%83%9D%EC%84%B1%ED%95%98%EA%B8%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="iqkeyboardmanager---키보드에-닫기(done)버튼-생성">IQkeyboardManager - 키보드에 닫기(Done)버튼 생성<a title="#iqkeyboardmanager---키보드에-닫기(done)버튼-생성" href="#iqkeyboardmanager---키보드에-닫기(done)버튼-생성"></a></h1><h2 id="why?-iqkeyboardmanager">why? IQkeyboardManager<a title="#why?-iqkeyboardmanager" href="#why?-iqkeyboardmanager"></a></h2><p>앱에서 텍스트필드를 사용하려면 키보드에 대한 메소드를 구현해야하는데… 생각보다 초심자가 하기에는 어렵다. 리턴 누를때 닫히는 메소드, 화면을 눌러야 닫히는 메소드 등을 구현해야하거나, 깊게는 TextFieldDelegate까지 가야할 수도 있는데…</p><p><s>그런거 필요 없고 앱 사용에 큰 무리가 없는 정도로만? 구현하고 싶다!</s> 한다면,</p><p>사실 키보드에 <em>‘닫기’</em> 버튼 하나만 달아주면 해결되는 일이다…</p><p>아래를 참고하자 !</p><h2 id="[사용하기]">[사용하기]<a title="#[사용하기]" href="#[사용하기]"></a></h2><p>이것을 Text Field Delegate를 사용하지 않고, 라이브러리로 간단하게 ? 해결해보고자 한다.</p><h3 id="1.-사이트가기">1. 사이트가기<a title="#1.-사이트가기" href="#1.-사이트가기"></a></h3><p><a href="https://github.com/hackiftekhar/IQKeyboardManager" target="_blank">https://github.com/hackiftekhar/IQKeyboardManager</a></p><p>해당 페이지에 가면 사용법을 알려주는 동영상도 지원되고, 설명도 친절하게 되어있어 참고하면 된다. 어려우면 이 글을 쭉 참고…!</p><h3 id="2.-cocoapods-에-설치">2. cocoapods 에 설치<a title="#2.-cocoapods-에-설치" href="#2.-cocoapods-에-설치"></a></h3><ol><li>Installation 로 이동하여, 본인의 Swift, Xcode 버전에 맞는 것을 선택한다.</li><li>Swift 5.1, 5.0, 4.2, 4.0, 3.2, 3.0 (Xcode 11) 보통 이것이라고 생각하고 아래 코드를 cocoapods Podfile에 넣는다. (이 외의 버전이라면 해당사이트에 pod으로 시작하는 다른 것을 선택!)</li></ol><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pod '<span class="type">IQKeyboardManagerSwift'</span></span><br></pre></td></tr></table></figure><h3 id="3.-해당-프로젝트에-적용하기">3. 해당 프로젝트에 적용하기<a title="#3.-해당-프로젝트에-적용하기" href="#3.-해당-프로젝트에-적용하기"></a></h3><ol><li>AppDelegate로 이동하여 import한다.</li></ol><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> IQKeyboardManagerSwift</span><br></pre></td></tr></table></figure><ol start="2"><li>아래의 코드를 붙여넣는다.</li></ol><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">IQKeyboardManager</span>.shared.enable = <span class="literal">true</span></span><br><span class="line">   <span class="keyword">return</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>어딘지 모르겠으면 3.풀화면 참조 ‘ㅅ’</p><ol start="3"><li>풀화면</li></ol><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> UIKit</span><br><span class="line"><span class="keyword">import</span> IQKeyboardManagerSwift</span><br><span class="line"></span><br><span class="line"><span class="meta">@UIApplicationMain</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AppDelegate</span>: <span class="title">UIResponder</span>, <span class="title">UIApplicationDelegate</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">​</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">application</span><span class="params">(<span class="number">_</span> application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: <span class="keyword">Any</span>]?)</span></span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="comment">// Override point for customization after application launch.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//아래 코드를 이곳에 붙여넣으면 된다.  </span></span><br><span class="line">    <span class="type">IQKeyboardManager</span>.shared.enable = <span class="literal">true</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h2 id="[완료하기]">[완료하기]<a title="#[완료하기]" href="#[완료하기]"></a></h2><ul><li>Keyborad 오른쪽 상단에 Done버튼이 생성된 모습</li></ul><p><img src="image/Done.png" alt="Keyborad 오른쪽 상단에 Done버튼이 생성된 모습" class="φcx"></p><p>참 쉽다! @_@</p>]]></content>
      
      
      <categories>
          
          <category> Library </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Keyborad </tag>
            
            <tag> 라이브러리 </tag>
            
            <tag> IQkeyboardManager </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MarkDown문법정리</title>
      <link href="2020/04/30/MarkDown%EB%AC%B8%EB%B2%95%EC%A0%95%EB%A6%AC/"/>
      <url>2020/04/30/MarkDown%EB%AC%B8%EB%B2%95%EC%A0%95%EB%A6%AC/</url>
      
        <content type="html"><![CDATA[<h1 id="markdown-문법정리">MarkDown 문법정리<a title="#markdown-문법정리" href="#markdown-문법정리"></a></h1><h2 id="제목스타일">제목스타일<a title="#제목스타일" href="#제목스타일"></a></h2><h1 id="헤딩1">헤딩1<a title="#헤딩1" href="#헤딩1"></a></h1><h2 id="헤딩2">헤딩2<a title="#헤딩2" href="#헤딩2"></a></h2><h3 id="헤딩3">헤딩3<a title="#헤딩3" href="#헤딩3"></a></h3><h4 id="헤딩4">헤딩4<a title="#헤딩4" href="#헤딩4"></a></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 헤딩1</span><br><span class="line">## 헤딩2</span><br><span class="line">### 헤딩3</span><br><span class="line">#### 헤딩4</span><br></pre></td></tr></table></figure><h2 id="항목(list)만들기">항목(List)만들기<a title="#항목(list)만들기" href="#항목(list)만들기"></a></h2><h4 id="항목으로만-입력.">항목으로만 입력.<a title="#항목으로만-입력." href="#항목으로만-입력."></a></h4><ul><li>Item 1</li><li>Item 2<ul><li>Item 2a</li><li>Item 2b</li></ul></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* Item 1 </span><br><span class="line">* Item 2 </span><br><span class="line">    * Item 2a </span><br><span class="line">    * Item 2b </span><br><span class="line"></span><br><span class="line">(&quot;*&quot;로 구분하면 됨. *안에 *를 추가하면 하위 항목으로 새로 추가됨)</span><br></pre></td></tr></table></figure><h4 id="순차적으로-정렬">순차적으로 정렬<a title="#순차적으로-정렬" href="#순차적으로-정렬"></a></h4><ol><li>Item 1</li><li>Item 2</li><li>Item 3<ol><li>Item 3a</li><li>Item 3b</li></ol></li></ol>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">1. Item 1 </span><br><span class="line">1. Item 2 </span><br><span class="line">1. Item 3 </span><br><span class="line">    1. Item 3a </span><br><span class="line">    1. Item 3b</span><br><span class="line"> </span><br><span class="line">(&#39;1&#39;숫자 붙히면 순차적으로 정렬됨. 위와 동일하게 1.안에 1.추가하면 하위 항목으로 추가됨.)</span><br></pre></td></tr></table></figure><h2 id="문장입력">문장입력<a title="#문장입력" href="#문장입력"></a></h2><p>문장 입력시 공백을주지 않으면, 앞문장과 뒷문장이 서로 붙음. 이에 스페이스바를 두 번 이상 누를 경우<br>위 문장과 분리되어 다음줄에 입력됨 <br> <code>&lt;br&gt;</code> 도 동일하게 이용가능</p><h2 id="취소선">취소선<a title="#취소선" href="#취소선"></a></h2><p><s>취소선</s></p><h2 id="이미지-등록(image)">이미지 등록(Image)<a title="#이미지-등록(image)" href="#이미지-등록(image)"></a></h2><h4 id="첫번째">첫번째<a title="#첫번째" href="#첫번째"></a></h4><p><img src="image/Lemon.png" alt="이미지 실험" class="φcx"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![이미지 이름]+(url링크)</span><br></pre></td></tr></table></figure><h4 id="두번째">두번째<a title="#두번째" href="#두번째"></a></h4><p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/48/Markdown-mark.svg/330px-Markdown-mark.svg.png" alt="마크다운로고" class="φcx"></p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![text](image태그 url붙여넣기)</span><br></pre></td></tr></table></figure><h2 id="하이퍼링크(links)">하이퍼링크(Links)<a title="#하이퍼링크(links)" href="#하이퍼링크(links)"></a></h2><p><a href="http://github.com/Qussk" title="깃허브" target="_blank">GitHub</a></p><h2 id="코드-블록(code-blocks)">코드 블록(Code Blocks)<a title="#코드-블록(code-blocks)" href="#코드-블록(code-blocks)"></a></h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123; </span><br><span class="line"> <span class="built_in">console</span>.log(<span class="string">"hello world!"</span>); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">javascript </span><br><span class="line">function test() &#123; </span><br><span class="line"> console.log(&quot;hello world!&quot;); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="인용-상자(blockquotes)">인용 상자(Blockquotes)<a title="#인용-상자(blockquotes)" href="#인용-상자(blockquotes)"></a></h2><p>As Grace Hopper said:</p><blockquote><p>I’ve always been more interested.<br>in the future than in the past.</p></blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">As Grace Hopper said: </span><br><span class="line"></span><br><span class="line">&gt; I’ve always been more interested. </span><br><span class="line">&gt; in the future than in the past.</span><br></pre></td></tr></table></figure><h2 id="강조-(emphasis)">강조 (Emphasis)<a title="#강조-(emphasis)" href="#강조-(emphasis)"></a></h2><h3 id="이탤릭체">이탤릭체<a title="#이탤릭체" href="#이탤릭체"></a></h3><p><em>This text will be italic</em><br><em>This will also be italic</em></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">*This text will be italic* </span><br><span class="line">_This will also be italic_</span><br></pre></td></tr></table></figure><h3 id="굵게">굵게<a title="#굵게" href="#굵게"></a></h3><p><strong>This text will be bold</strong><br><strong>This will also be bold</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">**This text will be bold** </span><br><span class="line">__This will also be bold__</span><br></pre></td></tr></table></figure><h3 id="부분-강조">부분 강조<a title="#부분-강조" href="#부분-강조"></a></h3><p><em>You <strong>can</strong> combine them</em></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">*You **can** combine them*</span><br></pre></td></tr></table></figure><h2 id="테이블-tables">테이블 TABLES<a title="#테이블-tables" href="#테이블-tables"></a></h2><div class="φcy"><div class="φda"><table><thead><tr><th>First Header</th><th>Second Header</th></tr></thead><tbody><tr><td>Content cell 1</td><td>Content cell 2</td></tr><tr><td>Content column 1</td><td>Content column 2</td></tr></tbody></table></div></div><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">First Header | Second Header </span><br><span class="line">------------ | ------------- </span><br><span class="line">Content cell 1 | Content cell 2 </span><br><span class="line">Content column 1 | Content column 2</span><br></pre></td></tr></table></figure><h2 id="체크-박스(task-lists)">체크 박스(Task Lists)<a title="#체크-박스(task-lists)" href="#체크-박스(task-lists)"></a></h2><ul class="φcz" class="φcz" class="φcz" class="φcz"><li><input type="checkbox" disabled="" checked=""><i></i>this is a complete item</li><li><input type="checkbox" disabled=""><i></i>this is an incomplete item</li><li><input type="checkbox" disabled="" checked=""><i></i>@mentions, #refs, <a href="">links</a>, <strong>formatting</strong>, and <del>tags</del> supported</li><li><input type="checkbox" disabled="" checked=""><i></i>list syntax required (any unordered or ordered list supported)</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- [x] this is a complete item </span><br><span class="line">- [ ] this is an incomplete item </span><br><span class="line">- [x] @mentions, #refs, [links](), **formatting**, and &lt;del&gt;tags&lt;&#x2F;del&gt; supported </span><br><span class="line">- [x] list syntax required (any unordered or ordered list supported)</span><br></pre></td></tr></table></figure><h2 id="인라인-코드(inline-code)">인라인 코드(Inline code)<a title="#인라인-코드(inline-code)" href="#인라인-코드(inline-code)"></a></h2><p>문단 중간에 <code>Code</code>를 넣을 수 있습니다.<br>예를 들어 <code>printf(&quot;hello world!&quot;);</code> 이런 식으로 들어갑니다.</p><h2 id="수평선(hr)">수평선(hr)<a title="#수평선(hr)" href="#수평선(hr)"></a></h2><hr><hr><hr><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">--- </span><br><span class="line">*** </span><br><span class="line">___</span><br></pre></td></tr></table></figure><h2 id="탈출-문자-(backslash-escapes)">탈출 문자 (Backslash Escapes)<a title="#탈출-문자-(backslash-escapes)" href="#탈출-문자-(backslash-escapes)"></a></h2><p>＼<em>literal asterisks＼</em><br><em>literal asterisks</em><br><strong>＼<em>＼<em>Text＼</em>＼</em></strong><br><em>＼<em>Tom＼</em></em></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">＼*literal asterisks＼* </span><br><span class="line">*literal asterisks* </span><br><span class="line">__＼*＼*Text＼*＼*__ </span><br><span class="line">_＼_Tom＼__</span><br></pre></td></tr></table></figure><h2 id="이모지(emoji)---아이콘">이모지(EMOJI) - 아이콘<a title="#이모지(emoji)---아이콘" href="#이모지(emoji)---아이콘"></a></h2><p><a href="http://emoji-cheat-sheet.com" target="_blank">emoji로 이동&gt;&gt;&gt;</a></p><p>GitHub supports emoji!<br>:+1: :sparkles: :camel: :tada:<br>:rocket: :metal: :octocat:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">GitHub supports emoji! </span><br><span class="line">:+1: :sparkles: :camel: :tada: </span><br><span class="line">:rocket: :metal: :octocat:</span><br></pre></td></tr></table></figure><h2 id="배지(badge)-만들기">배지(badge) 만들기<a title="#배지(badge)-만들기" href="#배지(badge)-만들기"></a></h2><p><a href="https://shields.io/" target="_blank">shields.io</a><br>로 접속</p><p>license 로 이동 / 본인이 직접 만들어도 됨</p><p>APM: /apm/l/:packageName.svg<br>AUR license: /aur/license/:packageName.svg</p><img src="https://img.shields.io/badge/license-mit-orange"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src&#x3D;&quot;https:&#x2F;&#x2F;img.shields.io&#x2F;badge&#x2F;license-mit-orange&quot;&gt;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 기타 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MaskDown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>post</title>
      <link href="2020/04/30/post/"/>
      <url>2020/04/30/post/</url>
      
        <content type="html"><![CDATA[<p>I miss my farther</p><p>Sometimes I want to hit my head hard…</p>]]></content>
      
      
      
        <tags>
            
            <tag> Anything </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>My Hexo</title>
      <link href="2020/04/26/My-Hexo/"/>
      <url>2020/04/26/My-Hexo/</url>
      
        <content type="html"><![CDATA[<p><img src="/image/like.jpeg" alt="" class="φcx"></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
