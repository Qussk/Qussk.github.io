{"title":"[Swift]UISearchController ?? searchController : searchBar","date":"2020-07-12T02:46:00.000Z","date_formatted":{"ll":"Jul 12, 2020","L":"07/12/2020","MM-DD":"07-12"},"thumbnail":"/image/seach.png","link":"2020/07/12/Swift-UISearchController","tags":["SeachBar","Swift"],"categories":["ios"],"updated":"2020-07-11T19:43:05.903Z","content":"<h2 id=\"navigationbar에-uisearchbar달기\">navigationBar에 UISearchBar달기<a title=\"#navigationbar에-uisearchbar달기\" href=\"#navigationbar에-uisearchbar달기\"></a></h2>\n<p><img src=\"/image/seach1.png\" alt=\"\" class=\"φcx\"></p>\n<p>위와 같은 그림처럼 navigationBar에 searchBar를 넣는 식으로 구현하고자 한다면 아래의 코드를 참고하자. (ios11부터 생긴듯?)</p>\n<h3 id=\"선언\">선언<a title=\"#선언\" href=\"#선언\"></a></h3>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> searchBar = <span class=\"type\">UISearchBar</span>()</span><br></pre></td></tr></table></figure>\n<h3 id=\"코드\">코드<a title=\"#코드\" href=\"#코드\"></a></h3>\n<p><strong>navigationItem.titleView = searchBar</strong></p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">navigationBar</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">//BarItem</span></span><br><span class=\"line\">   navigationItem.rightBarButtonItem = <span class=\"type\">UIBarButtonItem</span>(barButtonSystemItem: .search, target: <span class=\"keyword\">self</span>, action: #selector(seachButton))</span><br><span class=\"line\">   navigationItem.rightBarButtonItem?.tintColor = .darkGray</span><br><span class=\"line\">   </span><br><span class=\"line\">   <span class=\"comment\">//navi in searchBar</span></span><br><span class=\"line\">   navigationItem.titleView = searchBar</span><br><span class=\"line\">   </span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> <span class=\"meta\">@objc</span> <span class=\"keyword\">private</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">seachButton</span><span class=\"params\">(<span class=\"number\">_</span> sender : UIButton)</span></span>&#123;</span><br><span class=\"line\">   <span class=\"comment\">//print(\"search\", searchBar.text! as Any)</span></span><br><span class=\"line\">   </span><br><span class=\"line\">   searchBar.becomeFirstResponder()</span><br><span class=\"line\">   </span><br><span class=\"line\">   <span class=\"comment\">//getAdress()</span></span><br><span class=\"line\"> &#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"setui\">setUI<a title=\"#setui\" href=\"#setui\"></a></h3>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">searchBar.sizeToFit()</span><br></pre></td></tr></table></figure>\n<ul>\n<li><strong>navigationItem.titleView = seachBar</strong> 를 보면, navigationItem의 <strong>titleView</strong>에 searchBar를 넣는 것을 확인 할 수 있다.</li>\n</ul>\n<p>navigationBar에 seachBar를 고정으로 달아 놓는 경우가 많아 seachBar는 이정도만 알고 있었는데… 😹</p>\n<p>!!</p>\n<p>하필 아래의 그림 처럼 구현해야할 일이 닥쳤다…</p>\n<p><img src=\"/image/seach4.png\" alt=\"\" class=\"φcx\"></p>\n<p>ㅎㅎ…</p>\n<h2 id=\"uisearchbarcontroller-이용하여-navigationbar하단에-searchbar달기.-(witfh:-스크롤시-사라짐)\">UISearchBarController 이용하여 navigationBar하단에 searchBar달기. (witfh: 스크롤시 사라짐)<a title=\"#uisearchbarcontroller-이용하여-navigationbar하단에-searchbar달기.-(witfh:-스크롤시-사라짐)\" href=\"#uisearchbarcontroller-이용하여-navigationbar하단에-searchbar달기.-(witfh:-스크롤시-사라짐)\"></a></h2>\n<h3 id=\"선언-1\">선언<a title=\"#선언-1\" href=\"#선언-1\"></a></h3>\n<p><strong>UISearchController</strong></p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> searchBarController = <span class=\"type\">UISearchController</span>(searchResultsController: <span class=\"literal\">nil</span>)</span><br></pre></td></tr></table></figure>\n<ul>\n<li>searchResultsController를 nil값으로 주면, UISearchController 초기화 시, searchcontroller에게 검색중인 동일한 뷰를 사용하여 결과를 표시하도록 지시한다.</li>\n</ul>\n<h3 id=\"코드-1\">코드<a title=\"#코드-1\" href=\"#코드-1\"></a></h3>\n<p><strong>searchController</strong></p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">navigationBar</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">       </span><br><span class=\"line\">   navigationItem.rightBarButtonItem = <span class=\"type\">UIBarButtonItem</span>(barButtonSystemItem: .search, target: <span class=\"keyword\">self</span>, action: #selector(seachButton))</span><br><span class=\"line\">   navigationItem.rightBarButtonItem?.tintColor = .darkGray</span><br><span class=\"line\">   navigationItem.title = <span class=\"string\">\"Cafe Spot\"</span></span><br><span class=\"line\">   navigationItem.searchController = searchBarController</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"> <span class=\"meta\">@objc</span> <span class=\"keyword\">private</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">seachButton</span><span class=\"params\">(<span class=\"number\">_</span> sender : UIButton)</span></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\"> &#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>위의 titleView에 올린 것과 다르게, SearchController를 직접이용하여, navigationItem에 UISearchBarController를 불러왔다.</li>\n<li>그런데 신기한 건, rightBarButtonItem(돋보기 모양버튼)과 navigationItem.title(타이틀)을 없애도, SearchController는 네비게이션바 아래에 달린 모습이었다… 훔… 몬가 씹어 삼킬줄 알았는데</li>\n<li>그리고 스크롤에 따라 SearchBar가 알아서 사라지니 참고하도록 하자.</li>\n<li>위에는 쓰이지 않았지만, UISearchController가 활성화되어있는 동안 다른 뷰 이동시 이동한 뷰에 searchBar가 화면에 남아있지 않도록 설정도 해주자.</li>\n</ul>\n<p><a href=\"https://devmjun.github.io/archive/SearchController\" target=\"_blank\">[참고링크]</a></p>\n","prev":{"title":"[Swift]상업용 UIFont변경","link":"2020/07/15/Swift-상업용-Font변경"},"next":{"title":"[Swift]Json파일 가져오기(with: decoder)","link":"2020/07/12/Swift-Json파일-가져오기-with-decoder"},"plink":"https://Qussk.github.io/2020/07/12/Swift-UISearchController/","toc":[{"id":"navigationbar에-uisearchbar달기","title":"navigationBar에 UISearchBar달기","index":"1","children":[{"id":"선언","title":"선언","index":"1.1"},{"id":"코드","title":"코드","index":"1.2"},{"id":"setui","title":"setUI","index":"1.3"}]},{"id":"uisearchbarcontroller-이용하여-navigationbar하단에-searchbar달기.-(witfh:-스크롤시-사라짐)","title":"UISearchBarController 이용하여 navigationBar하단에 searchBar달기. (witfh: 스크롤시 사라짐)","index":"2","children":[{"id":"선언-1","title":"선언","index":"2.1"},{"id":"코드-1","title":"코드","index":"2.2"}]}]}