{"title":"[Swift]FireBaseì´ìš©í•˜ì—¬ faceBookë¡œê·¸ì¸","date":"2020-08-11T16:58:51.000Z","date_formatted":{"ll":"Aug 11, 2020","L":"08/11/2020","MM-DD":"08-11"},"thumbnail":"/image/face.png","link":"2020/08/11/Swift-FireBaseì´ìš©í•˜ì—¬-faceBookë¡œê·¸ì¸","tags":["FaceBook","FireBase","Swift","ë¼ì´ë¸ŒëŸ¬ë¦¬"],"categories":["ios"],"updated":"2020-09-05T12:57:12.869Z","content":"<p>ë„ˆë¬´ë„ˆë¬´ í˜ë“¤ì—ˆë˜ facebookë¡œê·¸ì¸â€¦<br>\nëª¨ ë¸”ë¡œê·¸ ë³´ë©´ì„œ í•˜ê³  ìœ íŠ­ë´ë„ ìµœì‹ ê²Œ ê±°ì˜ ì—†ì–´ì„œâ€¦ ì´ë¦„ë„ ë„ˆë¬´ ë¹„ìŠ·í•˜ê²Œ ë‹¤ë¥´ê³  ë‚˜ì˜¤ì§€ë„ ì•Šê³ â€¦ã… ã… ã… ã… ã… ã… </p>\n<p>ê¸´ ì„¤ëª…ì€ í•˜ì§€ ì•Šê³  í•„ìš”í•œ ê²ƒë§Œ ë”±ë”± ì“°ê² ë‹¤.</p>\n<p>ì•„, ì¼ë‹¨ í˜ì´ìŠ¤ë¶ ê°œë°œìì‚¬ì´íŠ¸ ìª½ìœ¼ë¡œ ë“¤ì–´ê°€ì„œ  APPIDë¶€í„° ë°›ì•„ì•¼í•œë‹¤.</p>\n<p>ì´ì— ëŒ€í•œ ë‚´ìš©ì€ êµ¬ê¸€ë§í•˜ë©´ ê¸ˆë°© ë‚˜ì˜¤ë‹ˆ, ë‚˜ëŠ” í•µì‹¬ë§Œ</p>\n<h1 id=\"pod\">pod<a title=\"#pod\" href=\"#pod\"></a></h1>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pod &#39;FBSDKLoginKit&#39;</span><br><span class=\"line\">pod &#39;FBSDKCoreKit&#39;</span><br></pre></td></tr></table></figure>\n<h1 id=\"info.plist\">info.plist<a title=\"#info.plist\" href=\"#info.plist\"></a></h1>\n<p><img src=\"image/face1.png\" alt=\"\" class=\"Ï†cx\"></p>\n<p>í˜ë¶ì—ì„œ ë°›ì€ AppIDì™€ ë‚˜ì˜ ì•±ì´ë¦„ì„ ë„£ì–´ì¤€ë‹¤.</p>\n<p><img src=\"image/face2.png\" alt=\"\" class=\"Ï†cx\"></p>\n<p>ì˜¤í”ˆì†ŒìŠ¤ë¡œ ì ‘ê·¼í•˜ì—¬ ì €ê²ƒë„ ìˆ˜ë™ìœ¼ë¡œ ë„£ì–´ì¤˜ì•¼í•œë‹¤. í˜ì´ìŠ¤ë¶ì— ëŒ€í•œê²ƒ ëª¨ì¡°ë¦¬â€¦<br>\nì°¸ê³ ë¡œ 45 ~ 71ê¹Œì§€ê°€ ë§ìŒâ€¦ ã…ã…</p>\n<h1 id=\"appdelegate\">AppDelegate<a title=\"#appdelegate\" href=\"#appdelegate\"></a></h1>\n<h2 id=\"import-í• -ê²ƒ,,\">import í•  ê²ƒ,<a title=\"#import-í• -ê²ƒ,,\" href=\"#import-í• -ê²ƒ,,\"></a></h2>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> FBSDKCoreKit</span><br></pre></td></tr></table></figure>\n<h2 id=\"didfinishlaunchingwithoptions\"><strong>didFinishLaunchingWithOptions</strong><a title=\"#didfinishlaunchingwithoptions\" href=\"#didfinishlaunchingwithoptions\"></a></h2>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//1</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">application</span><span class=\"params\">(<span class=\"number\">_</span> application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: <span class=\"keyword\">Any</span>]?)</span></span> -&gt; <span class=\"type\">Bool</span> &#123;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"type\">FirebaseApp</span>.configure()</span><br><span class=\"line\">    </span><br><span class=\"line\">  <span class=\"comment\">// FacebookAuthProvider.credential(withAccessToken: AccessToken.current!.tokenString)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"type\">ApplicationDelegate</span>.shared.application( application, didFinishLaunchingWithOptions: launchOptions)</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"literal\">true</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"openurloptionskey\"><strong>OpenURLOptionsKey</strong><a title=\"#openurloptionskey\" href=\"#openurloptionskey\"></a></h2>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//2</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">application</span><span class=\"params\">( <span class=\"number\">_</span> app: UIApplication, <span class=\"keyword\">open</span> url: URL, options: [UIApplication.OpenURLOptionsKey : <span class=\"keyword\">Any</span>] = [:] )</span></span> -&gt; <span class=\"type\">Bool</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> faceBook = <span class=\"type\">ApplicationDelegate</span>.shared.application(</span><br><span class=\"line\">  app,</span><br><span class=\"line\">  <span class=\"keyword\">open</span>: url,</span><br><span class=\"line\">  sourceApplication: options[<span class=\"type\">UIApplication</span>.<span class=\"type\">OpenURLOptionsKey</span>.sourceApplication] <span class=\"keyword\">as</span>? <span class=\"type\">String</span>, annotation: options[<span class=\"type\">UIApplication</span>.<span class=\"type\">OpenURLOptionsKey</span>.annotation])</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">return</span> faceBook</span><br></pre></td></tr></table></figure>\n<h2 id=\"sourceapplication\"><strong>sourceApplication</strong><a title=\"#sourceapplication\" href=\"#sourceapplication\"></a></h2>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//3</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">application</span><span class=\"params\">(<span class=\"number\">_</span> application: UIApplication, <span class=\"keyword\">open</span> url: URL, sourceApplication: String?, annotation: <span class=\"keyword\">Any</span>)</span></span> -&gt; <span class=\"type\">Bool</span> &#123;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">let</span> faceBook =  <span class=\"type\">ApplicationDelegate</span>.shared.application(application, <span class=\"keyword\">open</span>: url,sourceApplication: sourceApplication, annotation: annotation)</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">return</span> faceBook</span><br></pre></td></tr></table></figure>\n<p>ë§‰ìƒì ìœ¼ë‹ˆ ë³„ë¡œ ì—†ë„¤ ğŸ˜¡ ì•±ë”œì—ì„œ ì—„ì²­ í—¤ë§·ë‹¤â€¦ êµ¬ê¸€ì´ë‘ ê°™ì´ êµ¬ë™ë˜ì–´ì•¼í•´ì„œ!!!.. ë„˜ í—·ê°ˆë ·ì–´, í•¨ìˆ˜ë§‰ ì¤‘ë³µë˜ê³ â€¦(ìœ„ ì½”ë“œë“¤ì—ì„  ë‹¤ ì œê±°í–ˆì§€ë§Œ,)</p>\n<h1 id=\"viewcontroller\">ViewController<a title=\"#viewcontroller\" href=\"#viewcontroller\"></a></h1>\n<ul>\n<li>í˜ë¶ë¡œê·¸ì¸ ë²„íŠ¼ì´ ì¡´ì¬í•˜ëŠ” ì½˜íŠ¸ë¡¤ëŸ¬ì—¬ì•¼ í•œë‹¤.</li>\n</ul>\n<h2 id=\"import\"><strong>import</strong><a title=\"#import\" href=\"#import\"></a></h2>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> FBSDKLoginKit</span><br><span class=\"line\"><span class=\"keyword\">import</span> FBSDKCoreKit</span><br></pre></td></tr></table></figure>\n<h2 id=\"button\"><strong>button</strong><a title=\"#button\" href=\"#button\"></a></h2>\n<ul>\n<li>ë²„íŠ¼ì€ ì»¤ìŠ¤í…€ìœ¼ë¡œ í–ˆë‹¤.</li>\n</ul>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> faceBookButton = <span class=\"type\">UIButton</span>()</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">faceBookButton.setBackgroundImage(<span class=\"type\">UIImage</span>(named: <span class=\"string\">\"ficon2\"</span>), <span class=\"keyword\">for</span>: .normal)</span><br><span class=\"line\">  faceBookButton.addTarget(<span class=\"keyword\">self</span>, action: #selector(faceBookLoginAction(<span class=\"number\">_</span> :)), <span class=\"keyword\">for</span>: .touchUpInside)</span><br><span class=\"line\">  view.addSubview(faceBookButton)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//í˜ë¶ë¡œê·¸ì¸</span></span><br><span class=\"line\"><span class=\"meta\">@objc</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">faceBookLoginAction</span><span class=\"params\">(<span class=\"number\">_</span> sender: <span class=\"keyword\">Any</span>)</span></span> &#123;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">let</span> loginManager = <span class=\"type\">LoginManager</span>()</span><br><span class=\"line\">  <span class=\"keyword\">if</span> <span class=\"type\">AccessToken</span>.current != <span class=\"literal\">nil</span>&#123;</span><br><span class=\"line\">    loginManager.logOut()</span><br><span class=\"line\">    updateButton(isLoggedIn: <span class=\"literal\">false</span>)</span><br><span class=\"line\">  &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">    loginManager.logIn(permissions: [], from: <span class=\"keyword\">self</span>)&#123;[<span class=\"keyword\">weak</span> <span class=\"keyword\">self</span>] (result, err)<span class=\"keyword\">in</span></span><br><span class=\"line\">      <span class=\"comment\">//check ì—ëŸ¬</span></span><br><span class=\"line\">      <span class=\"keyword\">guard</span> err == <span class=\"literal\">nil</span> <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(err?.localizedDescription)</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">//cancel ì²´í¬</span></span><br><span class=\"line\">      <span class=\"keyword\">guard</span> <span class=\"keyword\">let</span> result = result, !result.isCancelled <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">\"User cancelled login\"</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      </span><br><span class=\"line\">      <span class=\"comment\">//ì‹ ê²½ì•ˆì¨ë‘ë¨</span></span><br><span class=\"line\">      <span class=\"keyword\">self</span>?.updateButton(isLoggedIn: <span class=\"literal\">true</span>)</span><br><span class=\"line\">      </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>í•˜ì—¬íŠ¼ ëë‚˜ê³  í˜ë¶ë²„íŠ¼ ëˆ„ë¥´ê²Œ ë˜ë©´</p>\n<p><img src=\"image/face3.png\" alt=\"\" class=\"Ï†cx\"></p>\n<p>í˜ë¶ìœ¼ë¡œ ì—°ê²°ë˜ê³  ë¡œê·¸ì¸í•˜ê³ â€¦ ê·¸ í˜ì´ìŠ¤ë¶ì—ì„œ ì œê³µí•˜ëŠ” í…ŒìŠ¤íŠ¸ ê³„ì •ìœ¼ë¡œ ê°€ëŠ”ê²Œ ì†í¸í•  ê²ƒ ê°™ì§€ë§Œâ€¦</p>\n<p>ë§ˆë¬´ë¦¬â€¦</p>\n","prev":{"title":"[Swift]UITestë¥¼ ì§„í–‰í•´ ë³´ì!","link":"2020/08/12/Swift-UITest-á„Œá…µá†«á„’á…¢á†¼"},"next":{"title":"[Swift] FierBase ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ","link":"2020/08/11/Swift-FierBase-ë¡œê·¸ì¸-ë¡œê·¸ì•„ì›ƒ"},"plink":"https://Qussk.github.io/2020/08/11/Swift-FireBaseì´ìš©í•˜ì—¬-faceBookë¡œê·¸ì¸/","toc":[{"id":"pod","title":"pod","index":"1"},{"id":"info.plist","title":"info.plist","index":"2"},{"id":"appdelegate","title":"AppDelegate","index":"3","children":[{"id":"import-í• -ê²ƒ,,","title":"import í•  ê²ƒ,","index":"3.1"},{"id":"didfinishlaunchingwithoptions","title":"didFinishLaunchingWithOptions","index":"3.2"},{"id":"openurloptionskey","title":"OpenURLOptionsKey","index":"3.3"},{"id":"sourceapplication","title":"sourceApplication","index":"3.4"}]},{"id":"viewcontroller","title":"ViewController","index":"4","children":[{"id":"import","title":"import","index":"4.1"},{"id":"button","title":"button","index":"4.2"}]}]}