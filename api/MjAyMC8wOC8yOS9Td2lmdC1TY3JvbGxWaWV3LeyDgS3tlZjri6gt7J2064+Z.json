{"title":"[Swift]ScrollView 상/하단 이동 및 특정 셀로 이동하기","date":"2020-08-29T15:55:43.000Z","date_formatted":{"ll":"Aug 29, 2020","L":"08/29/2020","MM-DD":"08-29"},"link":"2020/08/29/Swift-ScrollView-상-하단-이동","tags":["Swift","UIScrollView"],"categories":["ios"],"updated":"2020-08-29T07:29:14.505Z","content":"<p>상/하단 이동은 기본적으로<br>\nscrollRectToVisible을 이용한 방법이 있고</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scrollView.scrollRectToVisible (myElementView.frame, animated : true)</span><br></pre></td></tr></table></figure>\n<p>setContentOffset을 이용한 방법이 있다.</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scrollView.setContentOffset(CGPoint(x: 0, y: 0), animated: true)</span><br></pre></td></tr></table></figure>\n<h2 id=\"상단이동\">상단이동<a title=\"#상단이동\" href=\"#상단이동\"></a></h2>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scrollView.scrollRectToVisible(<span class=\"type\">CGRect</span>(x: <span class=\"number\">0</span>, y: <span class=\"number\">0</span>, width: <span class=\"number\">1</span>, height: <span class=\"number\">1</span>), animated: <span class=\"literal\">true</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">or</span><br><span class=\"line\"></span><br><span class=\"line\">scrollView.setContentOffset(<span class=\"type\">CGPoint</span>(x: <span class=\"number\">0</span>, y: <span class=\"number\">0</span>), animated: <span class=\"literal\">true</span>)</span><br></pre></td></tr></table></figure>\n<h2 id=\"하단이동\">하단이동<a title=\"#하단이동\" href=\"#하단이동\"></a></h2>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scrollView.scrollRectToVisible(<span class=\"type\">CGRectMake</span>(<span class=\"number\">0</span>, scrollView.contentSize.height - scrollView.bounds.height,</span><br><span class=\"line\">scrollView.bounds.size.width,</span><br><span class=\"line\">scrollView.bounds.size.height),animated: <span class=\"literal\">true</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">or</span><br><span class=\"line\">scrollView.setContentOffset(<span class=\"type\">CGPoint</span>(x: <span class=\"number\">0</span>,</span><br><span class=\"line\">y: scrollView.contentSize.height - scrollView.bounds.height),</span><br><span class=\"line\">                                animated: <span class=\"literal\">true</span>)</span><br></pre></td></tr></table></figure>\n<h2 id=\"특정-셀로-이동\">특정 셀로 이동<a title=\"#특정-셀로-이동\" href=\"#특정-셀로-이동\"></a></h2>\n<p>만약, 특정 섹션/셀로 이동하여야 한다면</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//스위프트 4</span></span><br><span class=\"line\">tableView.scrollToRow(at: <span class=\"type\">IndexPath</span>(row:<span class=\"number\">0</span>, section: <span class=\"number\">0</span>, width: <span class=\"number\">1</span>, height: <span class=\"number\">1</span>), animated : <span class=\"literal\">true</span>)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//스위프트5</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">hasRowAtIndexPath</span><span class=\"params\">(indexPath: IndexPath)</span></span>-&gt;<span class=\"type\">Bool</span> &#123;</span><br><span class=\"line\"><span class=\"keyword\">return</span> indexPath.section &lt; numberOfSections &amp;&amp; indexPath.row &lt; numberOfRows(insection: indexPath.section)</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">scrollToTop</span><span class=\"params\">(<span class=\"number\">_</span> animated: Bool = <span class=\"literal\">false</span>)</span></span>&#123;</span><br><span class=\"line\"><span class=\"keyword\">let</span> indexPath = <span class=\"type\">IndecPath</span>(row: <span class=\"number\">0</span>, section: <span class=\"number\">0</span>)</span><br><span class=\"line\"><span class=\"keyword\">if</span> hasRowAtIndexPath(indexPath: indexPath) &#123;</span><br><span class=\"line\">scrollToRow(at: indexPath, at: .top, animated: animated)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"> &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>만약, 네비게이션이 포함되어 있다면 네비게이션바 높이 값을 곱해 줘야할 수 있다.</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">(<span class=\"keyword\">self</span>.navigationController!.navigationBar.height + <span class=\"type\">UIApplication</span>.sharedApplication().ststusBarFrame.height)), animated: <span class=\"literal\">true</span>)</span><br></pre></td></tr></table></figure>\n<p>만약, 탭바를 포함하고 있다면, 아래의 코드를 참고해야 한다.</p>\n<pre><code class=\"language-swift\">\nextension UITableView { \n\nfunc scrollToTop(){\nfor i in 0...numberOfSections - 1 {\nif numeberOfSections &gt; 0 &amp;&amp; numberOfRows(inSection: index), at: .top, animated: true) \nbreak\n}\nif i == numberOfSections - 1 {\nsetContentOffset(.zero, animated: true)\nbreak\n}\n}\n}\n</code></pre>\n","next":{"title":"[Swift]url-Scheme(앱에서 앱으로 연결)","link":"2020/08/27/Swift-url-Scheme-앱에서-앱으로-연결"},"plink":"https://Qussk.github.io/2020/08/29/Swift-ScrollView-상-하단-이동/","toc":[{"id":"상단이동","title":"상단이동","index":"1"},{"id":"하단이동","title":"하단이동","index":"2"},{"id":"특정-셀로-이동","title":"특정 셀로 이동","index":"3"}]}