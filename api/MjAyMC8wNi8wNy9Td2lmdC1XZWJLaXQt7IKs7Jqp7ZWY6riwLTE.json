{"title":"[Swift}WebKit 사용하기","date":"2020-06-07T14:18:36.000Z","date_formatted":{"ll":"Jun 7, 2020","L":"06/07/2020","MM-DD":"06-07"},"thumbnail":"/image/webview1.png","link":"2020/06/07/Swift-WebKit-사용하기-1","tags":["Swift","WKWebView","Webkit"],"categories":["ios"],"updated":"2020-08-20T01:08:23.383Z","content":"<h2 id=\"사용예제\">사용예제<a title=\"#사용예제\" href=\"#사용예제\"></a></h2>\n<h3 id=\"1.-webkit-임포트,-url-지정\">1. Webkit 임포트, url 지정<a title=\"#1.-webkit-임포트,-url-지정\" href=\"#1.-webkit-임포트,-url-지정\"></a></h3>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">import UIKit</span><br><span class=\"line\">import WebKit</span><br><span class=\"line\">class ViewController: UIViewController, WKUIDelegate &#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    var webView: WKWebView!</span><br><span class=\"line\">    </span><br><span class=\"line\">    override func loadView() &#123;</span><br><span class=\"line\">        let webConfiguration &#x3D; WKWebViewConfiguration()</span><br><span class=\"line\">        webView &#x3D; WKWebView(frame: .zero, configuration: webConfiguration)</span><br><span class=\"line\">        webView.uiDelegate &#x3D; self</span><br><span class=\"line\">        view &#x3D; webView</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    override func viewDidLoad() &#123;</span><br><span class=\"line\">        super.viewDidLoad()</span><br><span class=\"line\">        </span><br><span class=\"line\">        let myURL &#x3D; URL(string:&quot;https:&#x2F;&#x2F;www.apple.com&quot;)</span><br><span class=\"line\">        let myRequest &#x3D; URLRequest(url: myURL!)</span><br><span class=\"line\">        webView.load(myRequest)</span><br><span class=\"line\">    &#125;&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>let myURL = URL(string:“불러올 페이지 url주소”)</li>\n<li>myRequest는 myURL를 URLRequest로 변경한다.</li>\n<li>웹뷰 로드.</li>\n</ul>\n<p>일단 나는 요즘 1일1깡을 하기 위해 깡을 불러와봤다.</p>\n<p><img src=\"/image/webview.png\" alt=\"\" class=\"φcx\"></p>\n<p>혹시 안되시는 분들은 권한설정도 확인해보자 (아래의 것이 수행되어야 웹킷을 사용할 수 있다.)</p>\n<h3 id=\"2.-권한설정\">2. 권한설정<a title=\"#2.-권한설정\" href=\"#2.-권한설정\"></a></h3>\n<p><img src=\"/image/webview2.png\" alt=\"\" class=\"φcx\"></p>\n<ul>\n<li>2-1. Webkit framework가져오기 (패키지 가져오는 것이라 생각 .h로 구성되어있음)</li>\n</ul>\n<p><img src=\"/image/webview3.png\" alt=\"\" class=\"φcx\"></p>\n<ul>\n<li>2-2. 사용자 인터넷연결 허용하기(info.plist에 들어가 권한설정.)</li>\n<li>Information Property List 에 (+)추가하여 “App Transport Security Settings” 항목 만든후 아래 하위 목록으로 “Allow Arbitrary Loads” 생성 - Value는 대문자 &quot;YES&quot;로 지정</li>\n</ul>\n<h3 id=\"이-후\">이 후<a title=\"#이-후\" href=\"#이-후\"></a></h3>\n<ul>\n<li>webkit을 불러오는 건 쉬운데, 그것으로 끝나는게 아니라, 이게 시작이다 ㅋㅋ.</li>\n<li>무슨말이냐 하면, 결국 webview를 사용자가 편리하게 이요하기 위해선, back버튼이라던가, 새로고침, 뷰크기설정등, 다양한 인터페이스를 제공하려면,  WKUIDelegate, WKNavigationDelegate, WKScriptMessageHandler등을 통해 결국 조작을 해줘야한다는 것이다.<br>\n(이에 대한 내용은, [Swift}WebKit 사용하기-2’에 다뤄볼 생각이다. )</li>\n</ul>\n<p>여기서 내가 원하는 것은</p>\n<ul>\n<li>깡 자동재생</li>\n<li>재생시 풀화면 중단</li>\n<li>유튜브처럼 내리는 제스처 이용시 영상이 작은뷰로 생성되면서 아래로 내려감.</li>\n<li>플로팅 버튼 생성(버튼 누르면 my캘린더에 +1깡씩 )</li>\n</ul>\n<h3 id=\"나의-현재코드\">나의 현재코드<a title=\"#나의-현재코드\" href=\"#나의-현재코드\"></a></h3>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> UIKit</span><br><span class=\"line\"><span class=\"keyword\">import</span> WebKit</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">WebViewController</span>: <span class=\"title\">UIViewController</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">  </span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">var</span> webView: <span class=\"type\">WKWebView!</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">loadView</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> webConfiguration = <span class=\"type\">WKWebViewConfiguration</span>()</span><br><span class=\"line\">    webView = <span class=\"type\">WKWebView</span>(frame: .zero, configuration: webConfiguration)</span><br><span class=\"line\">    webView.uiDelegate = <span class=\"keyword\">self</span></span><br><span class=\"line\">    view = webView</span><br><span class=\"line\">    </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">viewDidLoad</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">super</span>.viewDidLoad()</span><br><span class=\"line\">    </span><br><span class=\"line\">    view.backgroundColor = .black</span><br><span class=\"line\">    </span><br><span class=\"line\">    loadUrl()</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">loadUrl</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> myURL = <span class=\"type\">URL</span>(string:<span class=\"string\">\"https://m.youtube.com/watch?v=xqFvYsy4wE4\"</span>)</span><br><span class=\"line\">    <span class=\"keyword\">let</span> myRequest = <span class=\"type\">URLRequest</span>(url: myURL!)</span><br><span class=\"line\">    </span><br><span class=\"line\">    webView.configuration.allowsInlineMediaPlayback = <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"comment\">//  webView.allowsInlineMediaPlayback = YES</span></span><br><span class=\"line\">    webView.load(myRequest)</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  `</span><br></pre></td></tr></table></figure>\n<p>어제 밤을 새서 오늘 낮인데도 졸리다…</p>\n","prev":{"title":"[Swift]TableView 목록 수정,삭제 기능 추가하기(Editing)","link":"2020/06/15/Swift-TableView-목록-수정-삭제-기능-추가하기-Editing"},"next":{"title":"[Swift]3D touch 이용예제","link":"2020/06/03/Swift-3D-touch-이용예제"},"plink":"https://Qussk.github.io/2020/06/07/Swift-WebKit-사용하기-1/","toc":[{"id":"사용예제","title":"사용예제","index":"1","children":[{"id":"1.-webkit-임포트,-url-지정","title":"1. Webkit 임포트, url 지정","index":"1.1"},{"id":"2.-권한설정","title":"2. 권한설정","index":"1.2"},{"id":"이-후","title":"이 후","index":"1.3"},{"id":"나의-현재코드","title":"나의 현재코드","index":"1.4"}]}]}