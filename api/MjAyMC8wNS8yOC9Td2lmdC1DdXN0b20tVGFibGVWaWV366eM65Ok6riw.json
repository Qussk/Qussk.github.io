{"title":"[Swift]CustomTableViewCell만들기","date":"2020-05-28T20:44:57.000Z","date_formatted":{"ll":"May 28, 2020","L":"05/28/2020","MM-DD":"05-28"},"thumbnail":"/image/custom1.png","link":"2020/05/28/Swift-Custom-TableView만들기","tags":["Swift","TableView"],"categories":["ios"],"updated":"2020-06-15T12:38:46.128Z","content":"<ul>\n<li>cellForRowAt의 기본방식을 이용하지 않고, cellForRowAt의  let cell: UITableViewCell 로 커스텀하여 접근.</li>\n</ul>\n<h2 id=\"tableviewcustom\">TableViewCustom<a title=\"#tableviewcustom\" href=\"#tableviewcustom\"></a></h2>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> UIKit</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">final</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">TableViewCustomCell</span>: <span class=\"title\">UIViewController</span> </span>&#123;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">override</span> <span class=\"keyword\">var</span> description: <span class=\"type\">String</span> &#123; <span class=\"string\">\"TableView - CustomCell\"</span> &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">let</span> tableView = <span class=\"type\">UITableView</span>()</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">viewDidLoad</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">super</span>.viewDidLoad()</span><br><span class=\"line\">    </span><br><span class=\"line\">    tableView.frame = view.frame</span><br><span class=\"line\">    tableView.dataSource = <span class=\"keyword\">self</span></span><br><span class=\"line\">    tableView.delegate = <span class=\"keyword\">self</span></span><br><span class=\"line\">    tableView.rowHeight = <span class=\"number\">80</span></span><br><span class=\"line\">    view.addSubview(tableView)</span><br><span class=\"line\">    </span><br><span class=\"line\">    tableView.register(<span class=\"type\">UITableViewCell</span>.<span class=\"keyword\">self</span>, forCellReuseIdentifier: <span class=\"string\">\"Default\"</span>)</span><br><span class=\"line\">    tableView.register(<span class=\"type\">CustomCell</span>.<span class=\"keyword\">self</span>, forCellReuseIdentifier: <span class=\"string\">\"Custom\"</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// MARK: - UITableViewDataSource</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">extension</span> <span class=\"title\">TableViewCustomCell</span>: <span class=\"title\">UITableViewDataSource</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">tableView</span><span class=\"params\">(<span class=\"number\">_</span> tableView: UITableView, numberOfRowsInSection section: Int)</span></span> -&gt; <span class=\"type\">Int</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">20</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">tableView</span><span class=\"params\">(<span class=\"number\">_</span> tableView: UITableView, cellForRowAt indexPath: IndexPath)</span></span> -&gt; <span class=\"type\">UITableViewCell</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> cell: <span class=\"type\">UITableViewCell</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">if</span> indexPath.row.isMultiple(of: <span class=\"number\">2</span>) &#123; <span class=\"comment\">//만약 나누기2로 떨어지면,</span></span><br><span class=\"line\">      cell = tableView.dequeueReusableCell(withIdentifier: <span class=\"string\">\"Custom\"</span>, <span class=\"keyword\">for</span>: indexPath)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//myLable접근이 안됨.. 되게 하려면?..</span></span><br><span class=\"line\">      (cell <span class=\"keyword\">as</span>! <span class=\"type\">CustomCell</span>).myLabel.text = <span class=\"string\">\"ABCDE\"</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      cell = tableView.dequeueReusableCell(withIdentifier: <span class=\"string\">\"Default\"</span>, <span class=\"keyword\">for</span>: indexPath)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    cell.textLabel?.text = <span class=\"string\">\"\\(indexPath.row * 1000)\"</span></span><br><span class=\"line\">    cell.imageView?.image = <span class=\"type\">UIImage</span>(named: <span class=\"string\">\"bear\"</span>)</span><br><span class=\"line\">      </span><br><span class=\"line\">    <span class=\"comment\">//레이아웃이 필요한 곳이 아니기 떄문에, 딜리게이트에서 따로 잡아야함.</span></span><br><span class=\"line\">    <span class=\"built_in\">print</span>(tableView.rowHeight)  --&gt; <span class=\"number\">44.0</span></span><br><span class=\"line\">    <span class=\"comment\">//프린트 찍어보면 높이가 기본인 44로 나옴. 위에 80으로 지정했음에도...-&gt;시뮬에서는 80으로 보이지만..</span></span><br><span class=\"line\">    <span class=\"comment\">//그래서 1.딜리게이트에서 직접 작업해주거나, 2.CustomCell에서 직접 레이아웃잡아야함. </span></span><br><span class=\"line\">    (cell <span class=\"keyword\">as</span>? <span class=\"type\">CustomCell</span>)?.myLabel.frame = <span class=\"type\">CGRect</span>(</span><br><span class=\"line\">      x: cell.frame.width - <span class=\"number\">120</span>, y: <span class=\"number\">15</span>,</span><br><span class=\"line\">      width: <span class=\"number\">100</span>, height: cell.frame.height - <span class=\"number\">30</span></span><br><span class=\"line\">    )</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"keyword\">return</span> cell</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//1. 딜리게이트 작업 </span></span><br><span class=\"line\"><span class=\"comment\">// MARK: - UITableViewDelegate</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">extension</span> <span class=\"title\">TableViewCustomCell</span>: <span class=\"title\">UITableViewDelegate</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"comment\">// cellForRowAt -&gt; willDisplayCell -&gt; layoutSubviews</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">tableView</span><span class=\"params\">(<span class=\"number\">_</span> tableView: UITableView, willDisplay cell: UITableViewCell, forRowAt indexPath: IndexPath)</span></span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">guard</span> <span class=\"keyword\">let</span> customCell = cell <span class=\"keyword\">as</span>? <span class=\"type\">CustomCell</span> <span class=\"keyword\">else</span> &#123; <span class=\"keyword\">return</span> &#125;</span><br><span class=\"line\">    customCell.myLabel.frame = <span class=\"type\">CGRect</span>(</span><br><span class=\"line\">      x: cell.frame.width - <span class=\"number\">120</span>, y: <span class=\"number\">15</span>,</span><br><span class=\"line\">      width: <span class=\"number\">100</span>, height: cell.frame.height - <span class=\"number\">30</span></span><br><span class=\"line\">    )</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"custom-cell\">Custom Cell<a title=\"#custom-cell\" href=\"#custom-cell\"></a></h2>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> UIKit</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">CustomCell</span>: <span class=\"title\">UITableViewCell</span> </span>&#123;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">let</span> myLabel = <span class=\"type\">UILabel</span>()</span><br><span class=\"line\">  </span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">override</span> <span class=\"keyword\">init</span>(style: <span class=\"type\">UITableViewCell</span>.<span class=\"type\">CellStyle</span>, reuseIdentifier: <span class=\"type\">String?</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">super</span>.<span class=\"keyword\">init</span>(style: style, reuseIdentifier: reuseIdentifier)</span><br><span class=\"line\">    </span><br><span class=\"line\">  <span class=\"comment\">// 커스텀 뷰를 올릴 때는 contentView 위에 추가</span></span><br><span class=\"line\">  myLabel.textColor = .black</span><br><span class=\"line\">  myLabel.backgroundColor = .yellow</span><br><span class=\"line\">  contentView.addSubview(myLabel)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">// 스토리보드 생성할 때</span></span><br><span class=\"line\">  <span class=\"keyword\">required</span> <span class=\"keyword\">init</span>?(coder aDecoder: <span class=\"type\">NSCoder</span>) &#123;</span><br><span class=\"line\">    <span class=\"built_in\">fatalError</span>(<span class=\"string\">\"init(coder:) has not been implemented\"</span>)</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//2. (여기에 넣음)</span></span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ol>\n<li>상속받은 애가 _required_할 때 반드시 해야하는 init함수. 스토리보드로 만들게 될 경우, init 메서드가 위의 _override init_이 아닌,  required init?으로 오게 됨.</li>\n<li>_required_는 이미 부모 것을 받아서 쓰는 것이기 때문에 override할 필요없음(이미 되어 있음)</li>\n</ol>\n<h3 id=\"2.customcell의-레이아웃으로-조정할-경우.\">2.CustomCell의 레이아웃으로 조정할 경우.<a title=\"#2.customcell의-레이아웃으로-조정할-경우.\" href=\"#2.customcell의-레이아웃으로-조정할-경우.\"></a></h3>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 레이아웃 조정 시</span></span><br><span class=\"line\"><span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">layoutSubviews</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">super</span>.layoutSubviews()</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">//프레임 이용</span></span><br><span class=\"line\">  myLabel.frame = <span class=\"type\">CGRect</span>(</span><br><span class=\"line\">    x: frame.width - <span class=\"number\">120</span>, y: <span class=\"number\">15</span>,</span><br><span class=\"line\">    width: <span class=\"number\">100</span>, height: frame.height - <span class=\"number\">30</span></span><br><span class=\"line\">  )</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><img src=\"/image/custom2.png\" alt=\"\" class=\"φcx\"></p>\n<ul>\n<li>결과 값 바뀜.</li>\n</ul>\n","prev":{"title":"[Swift]UIImagePickerController 이해하기","link":"2020/06/02/Swift-UIImagePiker-이해하기"},"next":{"title":"[Swift]UITableView 이해하기.md","link":"2020/05/27/Swift-UITableView-이해하기"},"plink":"https://Qussk.github.io/2020/05/28/Swift-Custom-TableView만들기/","toc":[{"id":"tableviewcustom","title":"TableViewCustom","index":"1"},{"id":"custom-cell","title":"Custom Cell","index":"2","children":[{"id":"2.customcell의-레이아웃으로-조정할-경우.","title":"2.CustomCell의 레이아웃으로 조정할 경우.","index":"2.1"}]}]}