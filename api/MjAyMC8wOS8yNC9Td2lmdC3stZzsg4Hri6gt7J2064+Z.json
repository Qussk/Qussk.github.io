{"title":"[Swift]scrollToRow 최상단 이동","date":"2020-09-24T23:21:04.000Z","date_formatted":{"ll":"Sep 24, 2020","L":"09/24/2020","MM-DD":"09-24"},"link":"2020/09/24/Swift-최상단-이동","tags":["Swift","scrollToRow"],"categories":["ios"],"updated":"2020-09-24T14:32:43.550Z","content":"<h1 id=\"문제사항\">문제사항<a title=\"#문제사항\" href=\"#문제사항\"></a></h1>\n<p><img src=\"/image/chl1.png\" alt=\"\" class=\"φcx\"></p>\n<h3 id=\"[정상적인-모습]\">[정상적인 모습]<a title=\"#[정상적인-모습]\" href=\"#[정상적인-모습]\"></a></h3>\n<p><img src=\"/image/chl2.png\" alt=\"\" class=\"φcx\"></p>\n<h3 id=\"[다음화면]\">[다음화면]<a title=\"#[다음화면]\" href=\"#[다음화면]\"></a></h3>\n<p>1번뷰에서 2번뷰로 이동하고 나서 1번뷰로 오면 버튼이 있어야함.<br>\n(버튼은 ViewdidAppear 에 있음)</p>\n<p><img src=\"/image/chl4.png\" alt=\"\" class=\"φcx\"></p>\n<h3 id=\"[스크롤을-아래로-많이-내리고]\">[스크롤을 아래로 많이 내리고]<a title=\"#[스크롤을-아래로-많이-내리고]\" href=\"#[스크롤을-아래로-많이-내리고]\"></a></h3>\n<p><img src=\"/image/chl3.png\" alt=\"\" class=\"φcx\"></p>\n<h3 id=\"[다시-화면-돌아오면-버튼-사라짐]\">[다시 화면 돌아오면 버튼 사라짐]<a title=\"#[다시-화면-돌아오면-버튼-사라짐]\" href=\"#[다시-화면-돌아오면-버튼-사라짐]\"></a></h3>\n<p>이게 사라지는 게 아니라, 네이게이션 높이만큼 뷰가 아래</p>\n<p><img src=\"/image/chl.png\" alt=\"\" class=\"φcx\"></p>\n<h3 id=\"제일-위로-올리면-네비게이션-높이만큼-뷰가-날아가-있음.\">제일 위로 올리면 네비게이션 높이만큼 뷰가 날아가 있음.<a title=\"#제일-위로-올리면-네비게이션-높이만큼-뷰가-날아가-있음.\" href=\"#제일-위로-올리면-네비게이션-높이만큼-뷰가-날아가-있음.\"></a></h3>\n<p>뷰가 날아갔다기 보단, 아래로 네이게이션 높이만큼 뷰가 아래로 끌려서<br>\n버튼이 안보인거임. (버튼 프레임 높게줘서 확인해봄…)</p>\n<h1 id=\"범인\">범인<a title=\"#범인\" href=\"#범인\"></a></h1>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//MARK:- UIScrollViewDelegate</span></span><br><span class=\"line\"><span class=\"comment\">//스크롤뷰 제어</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">extension</span> <span class=\"title\">DetailMenuVC</span>: <span class=\"title\">UIScrollViewDelegate</span></span>&#123;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">scrollViewDidScroll</span><span class=\"params\">(<span class=\"number\">_</span> scrollView: UIScrollView)</span></span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> scrollView.contentOffset.y &lt; <span class=\"number\">1</span> &#123;</span><br><span class=\"line\">      scrollView.contentOffset.y = <span class=\"number\">1</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> scrollView.contentOffset.y &gt;= <span class=\"number\">260</span> &#123;</span><br><span class=\"line\">      title = <span class=\"string\">\"\\(data!.name)\"</span></span><br><span class=\"line\">      <span class=\"keyword\">self</span>.navigationController?.navigationBar.setBackgroundImage(<span class=\"type\">UIImage</span>(named: <span class=\"string\">\"back\"</span>), <span class=\"keyword\">for</span>: .any, barMetrics: .<span class=\"keyword\">default</span>)</span><br><span class=\"line\">      [leftButton,rightButton].forEach&#123;</span><br><span class=\"line\">        $<span class=\"number\">0</span>.tintColor = .black</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      navigationBarLess()</span><br><span class=\"line\">      title = <span class=\"string\">\"\"</span></span><br><span class=\"line\">      [leftButton,rightButton].forEach&#123; $<span class=\"number\">0</span>.tintColor = .lightGray &#125;</span><br><span class=\"line\">      </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// print(scrollView.contentOffset.y)</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>범인은 이것 때문인 것 같음… 테이블뷰랑 버튼 프레임에는 문제 없음확인…<br>\n이것 주석처리 하고 했을 땐 정상적임을 확인,</p>\n<p>나는 다 필요해 !!!</p>\n<h1 id=\"해결-:-scrolltorow이용하여-처리.\">해결 : scrollToRow이용하여 처리.<a title=\"#해결-:-scrolltorow이용하여-처리.\" href=\"#해결-:-scrolltorow이용하여-처리.\"></a></h1>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//화면 이동시 테이블뷰의 최상단으로 강제 이동(뷰가 잘리는 부분 임시 처리)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> indexPath = <span class=\"type\">NSIndexPath</span>(row: <span class=\"type\">NSNotFound</span>, section: <span class=\"number\">0</span>)</span><br><span class=\"line\"><span class=\"keyword\">self</span>.tableView.scrollToRow(at: indexPath <span class=\"keyword\">as</span> <span class=\"type\">IndexPath</span>, at: .top, animated: <span class=\"literal\">false</span>)</span><br></pre></td></tr></table></figure>\n","next":{"title":"[Swift]RESTAPI - decode","link":"2020/09/24/Swift-RESTAPI"},"plink":"https://Qussk.github.io/2020/09/24/Swift-최상단-이동/","toc":[{"id":"문제사항","title":"문제사항","index":"1","children":[{"id":"[정상적인-모습]","title":"[정상적인 모습]","index":"1.1"},{"id":"[다음화면]","title":"[다음화면]","index":"1.2"},{"id":"[스크롤을-아래로-많이-내리고]","title":"[스크롤을 아래로 많이 내리고]","index":"1.3"},{"id":"[다시-화면-돌아오면-버튼-사라짐]","title":"[다시 화면 돌아오면 버튼 사라짐]","index":"1.4"},{"id":"제일-위로-올리면-네비게이션-높이만큼-뷰가-날아가-있음.","title":"제일 위로 올리면 네비게이션 높이만큼 뷰가 날아가 있음.","index":"1.5"}]}]}