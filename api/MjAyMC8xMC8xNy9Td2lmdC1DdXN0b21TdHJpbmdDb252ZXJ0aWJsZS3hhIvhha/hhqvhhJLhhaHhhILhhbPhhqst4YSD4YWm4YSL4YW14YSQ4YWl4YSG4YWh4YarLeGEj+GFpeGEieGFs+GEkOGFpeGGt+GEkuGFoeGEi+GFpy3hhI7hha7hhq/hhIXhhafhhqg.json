{"title":"[Swift] CustomStringConvertible - ì›í•˜ëŠ” ë°ì´í„°ë§Œ ì»¤ìŠ¤í…€í•˜ì—¬ ì¶œë ¥","date":"2020-10-17T16:42:13.000Z","date_formatted":{"ll":"Oct 17, 2020","L":"10/17/2020","MM-DD":"10-17"},"link":"2020/10/17/Swift-CustomStringConvertible-á„‹á…¯á†«á„’á…¡á„‚á…³á†«-á„ƒá…¦á„‹á…µá„á…¥á„†á…¡á†«-á„á…¥á„‰á…³á„á…¥á†·á„’á…¡á„‹á…§-á„á…®á†¯á„…á…§á†¨","tags":["CustomStringConvertible","Swift"],"categories":["ios"],"updated":"2020-10-17T09:43:29.733Z","content":"<h2 id=\"decodingìœ¼ë¡œ-ê°€ì ¸ì˜¨-data\">decodingìœ¼ë¡œ ê°€ì ¸ì˜¨ data<a title=\"#decodingìœ¼ë¡œ-ê°€ì ¸ì˜¨-data\" href=\"#decodingìœ¼ë¡œ-ê°€ì ¸ì˜¨-data\"></a></h2>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> Foundation</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">Weather</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">let</span> main: <span class=\"type\">Main</span></span><br><span class=\"line\">  <span class=\"keyword\">let</span> sky: [<span class=\"type\">Sky</span>]</span><br><span class=\"line\">  <span class=\"keyword\">let</span> date: <span class=\"type\">Date</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">Main</span>: <span class=\"title\">Decodable</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> temp: <span class=\"type\">Double</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> temp_min: <span class=\"type\">Double</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> temp_max: <span class=\"type\">Double</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">//sampleDataì˜ weatherê°’ê³¼ ë™ì¼</span></span><br><span class=\"line\">  <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">Sky</span>: <span class=\"title\">Decodable</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> id: <span class=\"type\">Int</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> main: <span class=\"type\">String</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> description: <span class=\"type\">String</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> icon: <span class=\"type\">String</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//MARK: - Decodable</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">extension</span> <span class=\"title\">Weather</span>: <span class=\"title\">Decodable</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"class\"><span class=\"keyword\">enum</span> <span class=\"title\">CodingKeys</span>: <span class=\"title\">String</span>, <span class=\"title\">CodingKey</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">//sampleDataì—ì„œ í•„ìš”í•œ 3ê°€ì§€ ë°ì´í„° íŒŒì‹±</span></span><br><span class=\"line\">    <span class=\"keyword\">case</span> weather, main, dt</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">init</span>(from decoder: <span class=\"type\">Decoder</span>) <span class=\"keyword\">throws</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> container = <span class=\"keyword\">try</span> decoder.container(keyedBy: <span class=\"type\">CodingKeys</span>.<span class=\"keyword\">self</span>)</span><br><span class=\"line\">    sky = <span class=\"keyword\">try</span> container.decode([<span class=\"type\">Sky</span>].<span class=\"keyword\">self</span>, forKey: .weather)<span class=\"comment\">//weatherë¼ëŠ” keyì´ìš©í•´ì„œ [Sky]ë¼ëŠ” ë°°ì—´íƒ€ì…ì„ êº¼ë‚´ì„œ skyì— í• ë‹¹.</span></span><br><span class=\"line\">    main = <span class=\"keyword\">try</span> container.decode(<span class=\"type\">Main</span>.<span class=\"keyword\">self</span>, forKey: .main)</span><br><span class=\"line\">    <span class=\"keyword\">let</span> timestamp = <span class=\"keyword\">try</span> container.decode(<span class=\"type\">TimeInterval</span>.<span class=\"keyword\">self</span>, forKey: .dt)</span><br><span class=\"line\">    date = <span class=\"type\">Date</span>(timeIntervalSince1970: timestamp)</span><br><span class=\"line\">    <span class=\"comment\">//dateê°€ ì•„ë‹Œ TimeIntervalë¡œ êº¼ë‚´ ì˜¨ í›„, deteì— í• ë‹¹.</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>decodeí•œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê²Œ ë˜ë©´ ì•„ë˜ì²˜ëŸ¼ í”„ë¦°íŠ¸ê°€ ëœë‹¤.</p>\n<p><img src=\"/image/weather.png\" alt=\"\" class=\"Ï†cx\"></p>\n<p>ë³´í†µ decodingí•´ì„œ ë°›ì•„ì˜¤ëŠ” ì •ë³´ëŠ” ì´ëŸ°ì‹ìœ¼ë¡œ ì¶œë ¥ëœë‹¤.</p>\n<p>í•˜ì§€ë§Œ, í•„ìš”í•œ ì •ë³´ë§Œ ì¶œë ¥í•˜ì—¬ ë³´ê³  ì‹¶ë‹¤ë©´ !?<br>\n<s>í˜•ì‹ì„ ë°”ê¿”ë³´ê³  ì‹¶ì–´!!</s><br>\nCustomStringConvertibleì„ ì´ìš©í•˜ë©´ ëœë‹¤.</p>\n<h2 id=\"2.-customstringconvertible\">2. CustomStringConvertible<a title=\"#2.-customstringconvertible\" href=\"#2.-customstringconvertible\"></a></h2>\n<p>decodeí•œ ë°ì´í„°ë¥¼ extensioní•˜ì—¬ CustomStringConvertibleë¡œ ì²˜ë¦¬!!<br>\nvar description: String { ì„ fixí•˜ë¼ê³  ì»´íŒŒì¼ì˜¤ë¥˜ë¡œ ì•Œë ¤ì¤Œ.</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//ë‚´ê°€ ì›í•˜ëŠ” ë°ì´í„°ë§Œ ë³´ê¸° ì‰½ê²Œ êµ¬ì„±</span></span><br><span class=\"line\"><span class=\"comment\">//MARK: -CustomStringConvertible</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">extension</span> <span class=\"title\">Weather</span> : <span class=\"title\">CustomStringConvertible</span> </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> description: <span class=\"type\">String</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> formatter = <span class=\"type\">DateFormatter</span>()</span><br><span class=\"line\">    formatter.dateFormat = <span class=\"string\">\"MM.dd HHì‹œ\"</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> description = <span class=\"string\">\"[ \\(formatter.string(from: date)) ]\"</span></span><br><span class=\"line\">    description += <span class=\"string\">\" â˜€ï¸ \\(sky.first!.main) (\\(sky.first!.description)), \"</span></span><br><span class=\"line\">    <span class=\"comment\">//mainì´ë‘ descriptionë¶€ë¶„ë§Œ ì¶œë ¥í•˜ê³  ì˜¨ë„ë§Œ ë”°ë¡œ</span></span><br><span class=\"line\">    description += <span class=\"string\">\" ğŸŒ¡ \\(main.temp)Âº\"</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">\"\\n\"</span> + description</span><br><span class=\"line\">    <span class=\"comment\">//ì˜ˆì‹œ [02.02 02ì‹œ] â˜€ï¸ clouds(íŠ¼ êµ¬ë¦„),ğŸŒ¡ 22.95Âº</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ë§Œì•½ ì´ëŸ°ì‹ìœ¼ë¡œ êµ¬ì„±í–ˆë‹¤ë©´â€¦<br>\nì•„ë˜ì²˜ëŸ¼ ì¶œë ¥í•˜ê²Œ ë¨!!</p>\n<p><img src=\"/image/weather2.png\" alt=\"\" class=\"Ï†cx\"></p>\n<p>ì™„ì„±!!</p>\n","next":{"title":"[git] git ì‚¬ìš©ì •ë¦¬","link":"2020/10/16/git-git-ì‚¬ìš©ì •ë¦¬"},"plink":"https://Qussk.github.io/2020/10/17/Swift-CustomStringConvertible-á„‹á…¯á†«á„’á…¡á„‚á…³á†«-á„ƒá…¦á„‹á…µá„á…¥á„†á…¡á†«-á„á…¥á„‰á…³á„á…¥á†·á„’á…¡á„‹á…§-á„á…®á†¯á„…á…§á†¨/","toc":[{"id":"decodingìœ¼ë¡œ-ê°€ì ¸ì˜¨-data","title":"decodingìœ¼ë¡œ ê°€ì ¸ì˜¨ data","index":"1"},{"id":"2.-customstringconvertible","title":"2. CustomStringConvertible","index":"2"}]}