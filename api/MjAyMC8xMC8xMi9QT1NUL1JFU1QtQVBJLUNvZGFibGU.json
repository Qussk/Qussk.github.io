{"title":"REST API - Codable","date":"2020-10-12T16:48:25.000Z","date_formatted":{"ll":"Oct 12, 2020","L":"10/12/2020","MM-DD":"10-12"},"link":"2020/10/12/POST/REST-API-Codable","tags":["Codable","Decod","REST API","Swift"],"categories":["post"],"updated":"2020-10-12T11:17:58.078Z","content":"<p>REST APIí™œìš©í•´ì„œ ì„œë²„ ë”°ì™€ì•¼í•˜ëŠ”ë° ,<br>\nì•Œë¼ëª¨íŒŒì´ì–´ ì“°ë´, ì½”ë”ë¸” ì“°ë´ ê·¸ëŸ¬ë©´ì„œ ì•ˆë˜ëŠ” ê²Œ ìˆìœ¼ë©´ ê²€ìƒ‰í•´ë³´ê³  â€¦ (ë¸”ë¡œê·¸ëŠ” ë­ë“  ëœë‹¤ê³ ë§Œ í•˜ê³ â€¦ ë˜ëŠ” ê²ƒë§Œ ì˜¬ë¦¬ë‹ˆê¹Œ ;;) ì´í•´ ì•ˆë˜ëŠ” ë¶€ë¶„ì´ ìˆì—ˆëŠ”ë°, ì–´ì¨‹ë“  ë˜ë‹ˆê¹Œ ë„˜ì–´ê°€ê³ ;;<br>\nê·¸ëŸ° ê³¼ì •ì´ ìˆì–´ì„œ ì •ë¦¬í–ˆë‹¤. --;</p>\n<p>ë‚˜ë¥¼ ê°€ì¥ í˜¼ë€ìŠ¤ëŸ½ê²Œ í–ˆë˜â€¦</p>\n<p><strong>JSONSerializationâ€¦</strong>.<br>\nìê¾¸ ë˜ì–´ì•¼í•˜ëŠ” ê²Œ ì•ˆë˜ì„œâ€¦ ì—¬ëŸ¬ ë°©ë©´ìœ¼ë¡œ ìƒê°í•˜ë‹¤ë³´ë‹ˆ jsonObjectí™” í•˜ì§€ ì•Šì•„ì„œ ì•ˆë˜ëŠ” ê±´ê°€ ?? ì˜ë¬¸ ìŠ¤ëŸ¬ì›Œí•˜ë©° ì´ê²ƒê³ ì¹˜ê³  ì €ê²ƒê³ ì¹˜ê³ â€¦ ê·¸ëŸ°ë° ê·¸ ì „ì—” ì—†ì–´ë„ ì˜ë§Œ ëëŠ”ë°â€¦ ì´ìƒí•¨â€¦ (ë°˜ë³µ)</p>\n<p>ê·¸ë¦¬ê³  í•™ì›ì—ì„œë„ ë¶„ëª… JSONSerializationì„ ë°°ìš°ê¸´ í–ˆë‹¤. ê·¼ë° ì™œ ì‚¬ìš©í•˜ëŠ” ì§€ë„ ëª¨ë¥´ê³  ê·¸ëƒ¥ ë‹¬ë‹¬â€¦ ì™¸ìš°ê³  ì½”ë“œë³´ë©´ì„œ ì¼ë˜ ê²ƒâ€¦</p>\n<p>ğŸ¤”ê²°êµ­ ì´ì œì•¼ ì•Œê²Œëœ ê²ƒì€, JSONSerializationì€ swift3ì—ì„œ ì§€ì›í–ˆë˜ ë‚´ìš©ì´ê³  5ë¶€í„°ëŠ” ê·¸ëƒ¥ Codableí•˜ë‚˜ë©´ ì˜¤ì¼€ì´â€¦ğŸ˜¨ğŸ‘Œ</p>\n<p>ë‚˜ë¥¼ í˜¼ë€ìŠ¤ëŸ½ê²Œ í•œ swift 3ë°©ì‹ì„ ë³´ì.</p>\n<h2 id=\"ì´ì „-swift-3-ë°©ì‹\">ì´ì „ Swift 3 ë°©ì‹<a title=\"#ì´ì „-swift-3-ë°©ì‹\" href=\"#ì´ì „-swift-3-ë°©ì‹\"></a></h2>\n<h3 id=\"json-data\"><em>JSON Data</em><a title=\"#json-data\" href=\"#json-data\"></a></h3>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//\"https://api.letsbuildthatapp.com/jsondecodable/course\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    id = <span class=\"number\">1</span>;</span><br><span class=\"line\">    imageUrl = <span class=\"string\">\"https://letsbuildthatapp-videos.s3-us-west-2.amazonaws.com/04782e30-d72a-4917-9d7a-c862226e0a93\"</span>;</span><br><span class=\"line\">    link = <span class=\"string\">\"https://www.letsbuildthatapp.com/course/instagram-firebase\"</span>;</span><br><span class=\"line\">    name = <span class=\"string\">\"Instagram Firebase\"</span>;</span><br><span class=\"line\">    <span class=\"string\">\"number_of_lessons\"</span> = <span class=\"number\">49</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ì´ëŸ° jsoní˜•ì‹ì˜ ë°ì´í„°ê°€ ìˆë‹¤ê³  ê°€ì •í•œë‹¤.</p>\n<h3 id=\"data-model\"><em>Data Model</em><a title=\"#data-model\" href=\"#data-model\"></a></h3>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">Course</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> id: <span class=\"type\">Int</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> name: <span class=\"type\">String</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> link: <span class=\"type\">String</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> imageUrl: <span class=\"type\">String</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">init</span>(json: [<span class=\"type\">String</span>: <span class=\"type\">Any</span>]) &#123;</span><br><span class=\"line\">        id = json[<span class=\"string\">\"id\"</span>] <span class=\"keyword\">as</span>? <span class=\"type\">Int</span> ?? -<span class=\"number\">1</span></span><br><span class=\"line\">        name = json[<span class=\"string\">\"name\"</span>] <span class=\"keyword\">as</span>? <span class=\"type\">String</span> ?? <span class=\"string\">\"\"</span></span><br><span class=\"line\">        link = json[<span class=\"string\">\"link\"</span>] <span class=\"keyword\">as</span>? <span class=\"type\">String</span> ?? <span class=\"string\">\"\"</span></span><br><span class=\"line\">        imageUrl = json[<span class=\"string\">\"imageUrl\"</span>] <span class=\"keyword\">as</span>? <span class=\"type\">String</span> ?? <span class=\"string\">\"\"</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//ìë™ì™„ì„±ë¨</span></span><br><span class=\"line\"><span class=\"comment\">//let myCourse = Course(id: &lt;#T##Int#&gt;, name: &lt;#T##String#&gt;, link: &lt;#T##String#&gt;, imageUrl: &lt;#T##String#&gt;)</span></span><br><span class=\"line\"><span class=\"comment\">//print(myCourse)</span></span><br></pre></td></tr></table></figure>\n<p>swift3ì—ì„œëŠ” ë°˜ë“œì‹œ inití•¨ìˆ˜ë¡œ JSONë°ì´í„°ë¥¼ ê°ì²´í™” í•´ì•¼í–ˆë‹¤. ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ ë°ì´í„°ë¥¼ ì¸ìŠ¤í„´ìŠ¤í™”í•´ì„œ ì‚¬ìš©í•˜ë¼!.<br>\nê·¸ë¦¬ê³  ê·¸ê²ƒì€ ë³´í†µ ë”•ì…”ë„ˆë¦¬íƒ€ì…ì¼ ê²ƒâ€¦</p>\n<p>ì•„ë˜ íŒŒì‹±í•˜ëŠ” ë¶€ë¶„ì„ ë³´ì.</p>\n<h3 id=\"parsing\"><em>Parsing</em><a title=\"#parsing\" href=\"#parsing\"></a></h3>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">parsingFuntion</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">let</span> jsonUrlString = <span class=\"string\">\"https://api.letsbuildthatapp.com/jsondecodable/course\"</span></span><br><span class=\"line\">  <span class=\"comment\">//http://....\" ë¬¸ìì—´ì„ ë³€í™˜í•´ì„œ urlêµ¬ì¡°ì²´ë¡œ ë§Œë“  ë‹¤ìŒ -&gt; urlì„¸ì…˜ìœ¼ë¡œ ì²˜ë¦¬í•œë‹¤.</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">guard</span> <span class=\"keyword\">let</span> url = <span class=\"type\">URL</span>(string: jsonUrlString) <span class=\"keyword\">else</span> &#123; <span class=\"keyword\">return</span> &#125;</span><br><span class=\"line\">  <span class=\"comment\">//ë³´í†µì€ ì—ëŸ¬ì²˜ë¦¬ë¨¼ì €</span></span><br><span class=\"line\">    <span class=\"comment\">//1.</span></span><br><span class=\"line\">    <span class=\"type\">URLSession</span>.shared.dataTask(with: url) &#123; (data, response, error) <span class=\"keyword\">in</span></span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">\"ë°ì´í„° ë‹¤ìš´ë¡œë“œ ì™„ë£Œ\"</span>)</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">guard</span> <span class=\"keyword\">let</span> data = data <span class=\"keyword\">else</span> &#123; <span class=\"keyword\">return</span> &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"comment\">//        let dataAsString = String(data: data, encoding: .utf8)</span></span><br><span class=\"line\">        <span class=\"comment\">//        print(dataAsString)</span></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">do</span> &#123;</span><br><span class=\"line\">          <span class=\"comment\">//2.</span></span><br><span class=\"line\">            <span class=\"keyword\">guard</span> <span class=\"keyword\">let</span> json = <span class=\"keyword\">try</span> <span class=\"type\">JSONSerialization</span>.jsonObject(with: data, options: .mutableContainers) <span class=\"keyword\">as</span>? [<span class=\"type\">String</span>: <span class=\"type\">Any</span>] <span class=\"keyword\">else</span> &#123; <span class=\"keyword\">return</span> &#125;<span class=\"comment\">//ì œì´ìŠ¨ì„ ë”•ì…”ë„ˆë¦¬ë¡œ</span></span><br><span class=\"line\">            </span><br><span class=\"line\">            <span class=\"keyword\">let</span> course = <span class=\"type\">Course</span>(json: json)</span><br><span class=\"line\">            <span class=\"built_in\">print</span>(course)</span><br><span class=\"line\">            </span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> <span class=\"keyword\">let</span> jsonErr &#123;</span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">\"Error serializing json:\"</span>, jsonErr)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;.resume()</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">parsingFuntion() <span class=\"comment\">//í˜¸ì¶œ</span></span><br></pre></td></tr></table></figure>\n<p>urlStingë¬¸ìì—´ì„ ë³€í™˜í•´ì„œ urlêµ¬ì¡°ì²´ë¡œ ë§Œë“  ë‹¤ìŒ  URLSessionì„ í†µí•´ shared.dataTaskí•˜ê³ , ì´í›„ data, response, error ë¥¼ ì •ì˜í•˜ì—¬ ì²˜ë¦¬í•˜ëŠ” ê³¼ì •ì€ í˜„ì¬ì™€ ë™ì¼í•œ ë°©ì‹ì´ì§€ë§Œ, ì•„ë˜ tryì´í›„<br>\nJSONSerialization.jsonObject ë¶€ë¶„ì´ ë‹¤ë¥¸ ê±¸ ë³¼ ìˆ˜ ìˆë‹¤. ìˆœì„œë¡œ ì½”ë“œë¥¼ ë³´ìë©´,</p>\n<ol>\n<li>íŒŒì‹±ì„ í†µí•´ì„œ jsonê°ì²´ê°€ ë‚˜ì˜¤ê³  -&gt; 2.ë”•ì…”ë„ˆë¦¬ë¡œ íƒ€ì…ìºìŠ¤íŒ…ì„ í•œë²ˆ í•˜ê³  -&gt; 3.ê·¸ê²ƒì„ í† ëŒ€ë¡œ ê°ì²´(ì¸ìŠ¤í„´ìŠ¤)ìƒì„±.(ìœ„ì— init. êµ¬ì¡°ì²´ì´ê±°ë‚˜ í´ë˜ìŠ¤ì´ê±°ë‚˜) ê·¸ë¦¬ê³  ê·¸ 4. ì œì´ìŠ¨ì„ ë”•ì…”ë„ˆë¦¬ë¡œ â€¦</li>\n</ol>\n<p>ì´ì ì„ ì°¸ê³ í•˜ì—¬ , ì•„ë˜ì˜ ê¸€ swift 5ë¶€í„° Codableë“±ì¥ ì´í›„ ë³€ê²½ëœ ì ì„ ë³´ì.</p>\n<h2 id=\"swift-5-ì´ìƒ\">Swift 5 ì´ìƒ<a title=\"#swift-5-ì´ìƒ\" href=\"#swift-5-ì´ìƒ\"></a></h2>\n<h3 id=\"json-data-1\"><em>JSON Data</em><a title=\"#json-data-1\" href=\"#json-data-1\"></a></h3>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//\"https://api.letsbuildthatapp.com/jsondecodable/course\"</span></span><br><span class=\"line\"></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    id = <span class=\"number\">1</span>;</span><br><span class=\"line\">    imageUrl = <span class=\"string\">\"https://letsbuildthatapp-videos.s3-us-west-2.amazonaws.com/04782e30-d72a-4917-9d7a-c862226e0a93\"</span>;</span><br><span class=\"line\">    link = <span class=\"string\">\"https://www.letsbuildthatapp.com/course/instagram-firebase\"</span>;</span><br><span class=\"line\">    name = <span class=\"string\">\"Instagram Firebase\"</span>;</span><br><span class=\"line\">    <span class=\"string\">\"number_of_lessons\"</span> = <span class=\"number\">49</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ì´ëŸ¬í•œ JOSN í˜•ì‹ì˜ ë°ì´í„°ê°€ ìˆë‹¤ê³  ê°€ì •. (ìœ„ì™€ ë™ì¼)</p>\n<h3 id=\"datamodel\"><em>DataModel</em><a title=\"#datamodel\" href=\"#datamodel\"></a></h3>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//êµ¬ì¡°ì²´ë¼ì„œ ì»´íŒŒì¼ëŸ¬ê°€ ì•Œì•„ì„œ initì„ ë§Œë“¤ì–´ì¤¬ê¸°ë•Œë¬¸ì— ìƒëµê°€ëŠ¥. (ë©¤ë²„ì™€ì´ì§•ì´ë‹ˆì…œë¼ì´ì €)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">Course</span>: <span class=\"title\">Decodable</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> id: <span class=\"type\">Int</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> name: <span class=\"type\">String</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> link: <span class=\"type\">String</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> imageUrl: <span class=\"type\">String</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>Codable(decode, encodeë‘˜ë‹¤ ì‚¬ìš©), Decodable(ë°ì´í„° ê°€ì ¸ì˜¬ë•Œ), encodable(ë°ì´í„° ë„£ì„ ë•Œ)</li>\n<li>classì¸ ê²½ìš° inití•¨ìˆ˜ë¥¼ ì¨ì•¼í•˜ì§€ë§Œ swift3ì²˜ëŸ¼ ë”•ì…”ë„ˆë¦¬í™”í•  í•„ìš”ëŠ” ì—†ë‹¤. ê·¸ëƒ¥ ì“°ë©´ ë¨!!</li>\n</ul>\n<h3 id=\"parsing-1\"><em>parsing</em><a title=\"#parsing-1\" href=\"#parsing-1\"></a></h3>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">parsingFuntion</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">let</span> jsonUrlString = <span class=\"string\">\"https://api.letsbuildthatapp.com/jsondecodable/course\"</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">guard</span> <span class=\"keyword\">let</span> url = <span class=\"type\">URL</span>(string: jsonUrlString) <span class=\"keyword\">else</span> &#123; <span class=\"keyword\">return</span> &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"type\">URLSession</span>.shared.dataTask(with: url) &#123; (data, response, error) <span class=\"keyword\">in</span></span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">\"ë°ì´í„° ë‹¤ìš´ë¡œë“œ ì™„ë£Œ\"</span>)</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">guard</span> <span class=\"keyword\">let</span> data = data <span class=\"keyword\">else</span> &#123; <span class=\"keyword\">return</span> &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">do</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">//ìš”ë¶€ë¶„.. </span></span><br><span class=\"line\">            <span class=\"keyword\">let</span> course = <span class=\"keyword\">try</span> <span class=\"type\">JSONDecoder</span>().decode(<span class=\"type\">Course</span>.<span class=\"keyword\">self</span>, from: data) </span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"built_in\">print</span>(course.name)</span><br><span class=\"line\">            </span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> <span class=\"keyword\">let</span> jsonErr &#123;</span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">\"Error serializing json:\"</span>, jsonErr)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;.resume()</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">parsingFuntion()</span><br></pre></td></tr></table></figure>\n<p>urlStringì„ URLSessionì„í†µí•´ ë³€í™˜í•˜ì—¬ ì²˜ë¦¬í•˜ëŠ” ê²ƒ ë™ì¼.<br>\ndo ë¶€í„° swift3ì™€ ë‹¤ë¥´ê²Œ, ì œì´ìŠ¨ ê°ì²´ë¡œ ì£¼ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, 1.ì œì´ìŠ¨ ë””ì½”ë”ë¡œ ë§Œë“¦.  -&gt; 4.ë”•ì…”ë„ˆë¦¬ë¡œ ë³€í™˜í•¨.(ëâ€¦) swift3ì—ì„œ ë‚˜ì—´í–ˆë˜ 2~3ë‹¨ê³„ë¥¼ ì¤„ì„. 1ê³¼ 4ë§Œ ì¡´ì¬â€¦<br>\níŒŒì‹±ì€ -&gt; ë°”ë¡œ ì¸ìŠ¤í„´ìŠ¤ ê°ì²´ë¡œ ê°(init)ì„ ì˜ë¯¸í•˜ê²Œ ë¨.</p>\n<h3 id=\"[ë°°ì—´ì¸-ê²½ìš°]\"><strong>[ë°°ì—´ì¸ ê²½ìš°]</strong><a title=\"#[ë°°ì—´ì¸-ê²½ìš°]\" href=\"#[ë°°ì—´ì¸-ê²½ìš°]\"></a></h3>\n<h3 id=\"json-data-2\"><em>JSON Data</em><a title=\"#json-data-2\" href=\"#json-data-2\"></a></h3>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//\"https://api.letsbuildthatapp.com/jsondecodable/courses\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">[&#123;<span class=\"string\">\"id\"</span>:<span class=\"number\">6</span>,</span><br><span class=\"line\">    <span class=\"string\">\"name\"</span>:<span class=\"string\">\"AppStore JSON APIs\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"link\"</span>:<span class=\"string\">\"https://www.letsbuildthatapp.com/course/AppStore-JSON-APIs\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"imageUrl\"</span>:<span class=\"string\">\"https://letsbuildthatapp-videos.s3-us-west-2.amazonaws.com/fd78be85-b845-4672-a316-7df0abe80812_medium\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"number_of_lessons\"</span>:<span class=\"number\">47</span>&#125;,</span><br><span class=\"line\"> &#123;<span class=\"string\">\"id\"</span>:<span class=\"number\">5</span>,</span><br><span class=\"line\">    <span class=\"string\">\"name\"</span>:<span class=\"string\">\"Tinder Firestore Swipe and Match\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"link\"</span>:<span class=\"string\">\"https://www.letsbuildthatapp.com/course/Tinder-Firestore-Swipe-and-Match\"</span>,</span><br><span class=\"line\">   <span class=\"string\">\"imageUrl\"</span>:<span class=\"string\">\"https://letsbuildthatapp-videos.s3-us-west-2.amazonaws.com/bc5a4091-d2ea-44ab-b749-5f2ee5354c35_medium\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"number_of_lessons\"</span>:<span class=\"number\">47</span>&#125;,</span><br><span class=\"line\"> &#123;<span class=\"string\">\"id\"</span>:<span class=\"number\">1</span>,</span><br><span class=\"line\">    <span class=\"string\">\"name\"</span>:<span class=\"string\">\"Instagram Firebase\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"link\"</span>:<span class=\"string\">\"https://www.letsbuildthatapp.com/course/instagram-firebase\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"imageUrl\"</span>:<span class=\"string\">\"https://letsbuildthatapp-videos.s3-us-west-2.amazonaws.com/04782e30-d72a-4917-9d7a-c862226e0a93\"</span>,<span class=\"string\">\"number_of_lessons\"</span>:<span class=\"number\">49</span>&#125;,</span><br><span class=\"line\"> &#123;<span class=\"string\">\"id\"</span>:<span class=\"number\">2</span>,</span><br><span class=\"line\">    <span class=\"string\">\"name\"</span>:<span class=\"string\">\"Podcasts Course\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"link\"</span>:<span class=\"string\">\"https://www.letsbuildthatapp.com/course/podcasts\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"imageUrl\"</span>:<span class=\"string\">\"https://letsbuildthatapp-videos.s3-us-west-2.amazonaws.com/32f98d9d-5b9b-4a22-a012-6b87fd7158c2_medium\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"number_of_lessons\"</span>:<span class=\"number\">39</span>&#125;,</span><br><span class=\"line\"> &#123;<span class=\"string\">\"id\"</span>:<span class=\"number\">3</span>,</span><br><span class=\"line\">    <span class=\"string\">\"name\"</span>:<span class=\"string\">\"Intermediate Training Core Data\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"link\"</span>:<span class=\"string\">\"https://www.letsbuildthatapp.com/course/intermediate-training-core-data\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"imageUrl\"</span>:<span class=\"string\">\"https://letsbuildthatapp-videos.s3-us-west-2.amazonaws.com/0736fecb-5b88-483b-a83d-ca2a5a6d93f9_medium\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"number_of_lessons\"</span>:<span class=\"number\">32</span>&#125;,</span><br><span class=\"line\"> &#123;<span class=\"string\">\"id\"</span>:<span class=\"number\">4</span>,</span><br><span class=\"line\">    <span class=\"string\">\"name\"</span>:<span class=\"string\">\"Kindle Basic Training\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"link\"</span>:<span class=\"string\">\"https://www.letsbuildthatapp.com/basic-training\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"imageUrl\"</span>:<span class=\"string\">\"https://letsbuildthatapp-videos.s3-us-west-2.amazonaws.com/a6180731-c077-46e7-88d5-4900514e06cf_medium\"</span>,</span><br><span class=\"line\">    <span class=\"string\">\"number_of_lessons\"</span>:<span class=\"number\">19</span>&#125;]</span><br></pre></td></tr></table></figure>\n<p>ì´ëŸ°ì‹ì˜ ë°°ì—´ì˜ ë°ì´í„°ê°€ ì£¼ì–´ì§„ë‹¤ë©´â€¦</p>\n<h3 id=\"parsing-2\"><em>Parsing</em><a title=\"#parsing-2\" href=\"#parsing-2\"></a></h3>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">parsingArrays</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">let</span> jsonUrlString = <span class=\"string\">\"https://api.letsbuildthatapp.com/jsondecodable/courses\"</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">guard</span> <span class=\"keyword\">let</span> url = <span class=\"type\">URL</span>(string: jsonUrlString) <span class=\"keyword\">else</span> &#123; <span class=\"keyword\">return</span> &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"type\">URLSession</span>.shared.dataTask(with: url) &#123; (data, response, error) <span class=\"keyword\">in</span></span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">\"ë°ì´í„° ë‹¤ìš´ë¡œë“œ ì™„ë£Œ\"</span>)</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">guard</span> <span class=\"keyword\">let</span> data = data <span class=\"keyword\">else</span> &#123; <span class=\"keyword\">return</span> &#125;        </span><br><span class=\"line\">        <span class=\"keyword\">do</span> &#123;</span><br><span class=\"line\">            </span><br><span class=\"line\">            <span class=\"keyword\">let</span> courses = <span class=\"keyword\">try</span> <span class=\"type\">JSONDecoder</span>().decode([<span class=\"type\">Course</span>].<span class=\"keyword\">self</span>, from: data) <span class=\"comment\">//ë°°ì—´ì˜ ê²½ìš°</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"built_in\">print</span>(courses)</span><br><span class=\"line\">            </span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> <span class=\"keyword\">let</span> jsonErr &#123;</span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">\"Error serializing json:\"</span>, jsonErr)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;.resume()</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">parsingArrays()</span><br></pre></td></tr></table></figure>\n<p>Courseë¥¼ [Course]ë¡œ ê°ì‹¸ì£¼ê¸°ë§Œ í•˜ë©´ ëœë‹¹â€¦</p>\n<h3 id=\"ë‹¤ë¥¸-ì˜ˆì‹œ\"><strong>ë‹¤ë¥¸ ì˜ˆì‹œ</strong><a title=\"#ë‹¤ë¥¸-ì˜ˆì‹œ\" href=\"#ë‹¤ë¥¸-ì˜ˆì‹œ\"></a></h3>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">WebsiteDescription</span>: <span class=\"title\">Decodable</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> name: <span class=\"type\">String</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> description: <span class=\"type\">String</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> courses: [<span class=\"type\">Course</span>]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">parsingDatas</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">let</span> jsonUrlString = <span class=\"string\">\"https://api.letsbuildthatapp.com/jsondecodable/website_description\"</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">guard</span> <span class=\"keyword\">let</span> url = <span class=\"type\">URL</span>(string: jsonUrlString) <span class=\"keyword\">else</span> &#123; <span class=\"keyword\">return</span> &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"type\">URLSession</span>.shared.dataTask(with: url) &#123; (data, response, error) <span class=\"keyword\">in</span></span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">guard</span> <span class=\"keyword\">let</span> data = data <span class=\"keyword\">else</span> &#123; <span class=\"keyword\">return</span> &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">do</span> &#123;</span><br><span class=\"line\">            </span><br><span class=\"line\">            <span class=\"keyword\">let</span> websiteDescription = <span class=\"keyword\">try</span> <span class=\"type\">JSONDecoder</span>().decode(<span class=\"type\">WebsiteDescription</span>.<span class=\"keyword\">self</span>, from: data)</span><br><span class=\"line\">            <span class=\"built_in\">print</span>(websiteDescription) <span class=\"comment\">//ì´ê²ƒë„ ê·¸ëƒ¥ ë§ì¶°ì„œ ì“°ë©´ ë¨.. ë°°ì—´ë¬´ì„œì›Œí•˜ì§€ ë§ê¸°!!</span></span><br><span class=\"line\">        &#125; <span class=\"keyword\">catch</span> <span class=\"keyword\">let</span> jsonErr &#123;</span><br><span class=\"line\">            <span class=\"built_in\">print</span>(<span class=\"string\">\"Error serializing json:\"</span>, jsonErr)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;.resume()</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">parsingDatas()</span><br></pre></td></tr></table></figure>\n","next":{"title":"Error Handling(ì—ëŸ¬í•¸ë“¤ë§) - throwingí•¨ìˆ˜, do-catch try, Result","link":"2020/10/10/POST/Swift-throwing-í•¨ìˆ˜"},"plink":"https://Qussk.github.io/2020/10/12/POST/REST-API-Codable/","toc":[{"id":"ì´ì „-swift-3-ë°©ì‹","title":"ì´ì „ Swift 3 ë°©ì‹","index":"1","children":[{"id":"json-data","title":"JSON Data","index":"1.1"},{"id":"data-model","title":"Data Model","index":"1.2"},{"id":"parsing","title":"Parsing","index":"1.3"}]},{"id":"swift-5-ì´ìƒ","title":"Swift 5 ì´ìƒ","index":"2","children":[{"id":"json-data-1","title":"JSON Data","index":"2.1"},{"id":"datamodel","title":"DataModel","index":"2.2"},{"id":"parsing-1","title":"parsing","index":"2.3"},{"id":"[ë°°ì—´ì¸-ê²½ìš°]","title":"[ë°°ì—´ì¸ ê²½ìš°]","index":"2.4"},{"id":"json-data-2","title":"JSON Data","index":"2.5"},{"id":"parsing-2","title":"Parsing","index":"2.6"},{"id":"ë‹¤ë¥¸-ì˜ˆì‹œ","title":"ë‹¤ë¥¸ ì˜ˆì‹œ","index":"2.7"}]}]}