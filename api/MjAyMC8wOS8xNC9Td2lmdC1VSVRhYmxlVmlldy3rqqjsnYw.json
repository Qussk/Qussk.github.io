{"title":"[Swift]UITableView(모음)","date":"2020-09-14T12:24:16.000Z","date_formatted":{"ll":"Sep 14, 2020","L":"09/14/2020","MM-DD":"09-14"},"link":"2020/09/14/Swift-UITableView-모음","tags":["Swift","UITableView"],"categories":["ios"],"updated":"2020-09-14T06:21:56.010Z","content":"<h1 id=\"cell\">Cell<a title=\"#cell\" href=\"#cell\"></a></h1>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> UIKit</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">cell</span>(셀이름) : <span class=\"title\">UITableViewCell</span> </span>&#123;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">override</span> <span class=\"keyword\">init</span>(style: <span class=\"type\">UITableViewCell</span>.<span class=\"type\">CellStyle</span>, reuseIdentifier: <span class=\"type\">String?</span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">super</span>.<span class=\"keyword\">init</span>(style: style, reuseIdentifier: reuseIdentifier)</span><br><span class=\"line\">   &#125;</span><br><span class=\"line\">     </span><br><span class=\"line\">     <span class=\"keyword\">required</span> <span class=\"keyword\">init</span>?(coder aDecoder: <span class=\"type\">NSCoder</span>) &#123;</span><br><span class=\"line\">       <span class=\"built_in\">fatalError</span>(<span class=\"string\">\"init(coder:) has not been implemented\"</span>)</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h1 id=\"uitableview\">UITableView<a title=\"#uitableview\" href=\"#uitableview\"></a></h1>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//선언</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> tableView = <span class=\"type\">UITableView</span>()</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">setTableView</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">tableView.dataSource = <span class=\"keyword\">self</span> <span class=\"comment\">//필수</span></span><br><span class=\"line\">tableView.delegate = <span class=\"keyword\">self</span> <span class=\"comment\">//필요시</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//frame(크기) 정의</span></span><br><span class=\"line\">tableView.frame = view.frame </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">////동적높이 -&gt; Int로 주면 해당 값이 셀의 고정높이가 됨. 예)tableView.rowHeight = 44</span></span><br><span class=\"line\">tableView.rowHeight = <span class=\"type\">UITableView</span>.automaticDimension </span><br><span class=\"line\"><span class=\"comment\">// tableView.estimatedRowHeight = 0 // automaticDimension이 셋팅되기 전 셀높이</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//배경색</span></span><br><span class=\"line\">tableView.backgroundColor = .white </span><br><span class=\"line\"><span class=\"comment\">//선긋기 옵션</span></span><br><span class=\"line\">tableView.separatorStyle = .<span class=\"keyword\">none</span></span><br><span class=\"line\"><span class=\"comment\">//필수</span></span><br><span class=\"line\">view.addSubview(tableView)</span><br><span class=\"line\"></span><br><span class=\"line\">tableView.register(cell(셀이름).<span class=\"keyword\">self</span>, forCellReuseIdentifier: <span class=\"string\">\"cell(셀이름 or Identifier)\"</span> <span class=\"comment\">//테이블뷰에 셀 등록</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h1 id=\"uitableviewdatasource\">UITableViewDataSource<a title=\"#uitableviewdatasource\" href=\"#uitableviewdatasource\"></a></h1>\n<h3 id=\"uitableview를-구현하기-위한-필수-프로토콜-임.\">UITableView를 구현하기 위한 필수 프로토콜 임.<a title=\"#uitableview를-구현하기-위한-필수-프로토콜-임.\" href=\"#uitableview를-구현하기-위한-필수-프로토콜-임.\"></a></h3>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">extension</span> <span class=\"title\">ViewController</span>: <span class=\"title\">UITableViewDataSource</span></span>&#123;</span><br><span class=\"line\"><span class=\"comment\">//섹션 갯수</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">numberOfSections</span><span class=\"params\">(<span class=\"keyword\">in</span> tableView: UITableView)</span></span> -&gt; <span class=\"type\">Int</span> &#123;</span><br><span class=\"line\">  <span class=\"number\">3</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//셀 갯수</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">tableView</span><span class=\"params\">(<span class=\"number\">_</span> tableView: UITableView, numberOfRowsInSection section: Int)</span></span> -&gt; <span class=\"type\">Int</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">if</span> section == <span class=\"number\">0</span> &#123; <span class=\"comment\">//섹션의 인덱스가 0일 경우</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">5</span></span><br><span class=\"line\">  &#125;<span class=\"keyword\">else</span> section == <span class=\"number\">1</span> &#123; 섹션의 인덱스가 <span class=\"number\">1</span>일 경우</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">1</span></span><br><span class=\"line\">  &#125;<span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span> <span class=\"comment\">// + optionsCount</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//셀 디자인(속성)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">tableView</span><span class=\"params\">(<span class=\"number\">_</span> tableView: UITableView, cellForRowAt indexPath: IndexPath)</span></span> -&gt; <span class=\"type\">UITableViewCell</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> cell = tableView.dequeueReusableCell(withIdentifier: <span class=\"string\">\"cell\"</span>, <span class=\"keyword\">for</span>: indexPath) <span class=\"keyword\">as</span>! cell</span><br><span class=\"line\">   cell.backgroundColor = .white</span><br><span class=\"line\">retrun cell</span><br></pre></td></tr></table></figure>\n<p><em>swich문 쓸때</em></p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">switch</span> indexPath.section &#123;</span><br><span class=\"line\"><span class=\"keyword\">case</span> <span class=\"number\">0</span>:</span><br><span class=\"line\">  <span class=\"keyword\">if</span> indexPath.row == <span class=\"number\">0</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> imageCell = tableView.dequeueReusableCell(withIdentifier: <span class=\"string\">\"ImageTableViewCell\"</span>, <span class=\"keyword\">for</span>: indexPath) <span class=\"keyword\">as</span>! <span class=\"type\">ImageTableViewCell</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> imageCell</span><br><span class=\"line\">    </span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> indexPath.row == <span class=\"number\">1</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> saleCell = tableView.dequeueReusableCell(withIdentifier: <span class=\"string\">\"SaleTableViewCell\"</span>, <span class=\"keyword\">for</span>: indexPath) <span class=\"keyword\">as</span>! <span class=\"type\">SaleTableViewCell</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> saleCell</span><br><span class=\"line\">    </span><br><span class=\"line\">  &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> indexPath.row == <span class=\"number\">2</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> nameCell = tableView.dequeueReusableCell(withIdentifier: <span class=\"string\">\"NameTableViewCell\"</span>, <span class=\"keyword\">for</span>: indexPath) <span class=\"keyword\">as</span>! <span class=\"type\">NameTableViewCell</span></span><br><span class=\"line\">    nameCell.detailmenuName.text = <span class=\"string\">\"\\(mainName)\"</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> nameCell</span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">    ...(중략) 이런식으로 indexPath.row == <span class=\"number\">5</span>까지..(셀이 고정값이라면..)</span><br><span class=\"line\">    indexPath.row 는 셀의 인덱스값. </span><br><span class=\"line\">    </span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"comment\">//case 0~ 2는 section의 인덱스값에 해당됨. </span></span><br><span class=\"line\"> <span class=\"comment\">//section은 case 2+optionGroupCount(Int값) 이런식으로도 표현하여 임의적으로 섹션 순서 변경 할 수 있음....  </span></span><br><span class=\"line\"> <span class=\"comment\">//예를들면,, </span></span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"keyword\">case</span> <span class=\"number\">1</span> + optionGroupCount:</span><br><span class=\"line\">   <span class=\"keyword\">let</span> costCell = tableView.dequeueReusableCell(withIdentifier: <span class=\"string\">\"CostTableViewCell\"</span>, <span class=\"keyword\">for</span>: indexPath) <span class=\"keyword\">as</span>! <span class=\"type\">CostTableViewCell</span></span><br><span class=\"line\">   costCell.costLableWon.text = <span class=\"string\">\"\\(menuCost)원\"</span></span><br><span class=\"line\">   <span class=\"keyword\">return</span> costCell</span><br><span class=\"line\"> <span class=\"keyword\">case</span> <span class=\"number\">2</span> + optionGroupCount - <span class=\"number\">2</span> :</span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"comment\">//라면, case 2+optionGroupCount-2는 1+optionGroupCount보다 더 우선 순위에 보여지게 됨.</span></span><br></pre></td></tr></table></figure>\n<h1 id=\"uitableviewdelegate\">UITableViewDelegate<a title=\"#uitableviewdelegate\" href=\"#uitableviewdelegate\"></a></h1>\n<h3 id=\"uitableview를-구현하고-필요-옵션이-필요한-경우-사용되는-부가-프로토콜-임.\">UITableView를 구현하고 필요 옵션이 필요한 경우 사용되는 부가 프로토콜 임.<a title=\"#uitableview를-구현하고-필요-옵션이-필요한-경우-사용되는-부가-프로토콜-임.\" href=\"#uitableview를-구현하고-필요-옵션이-필요한-경우-사용되는-부가-프로토콜-임.\"></a></h3>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"header\">Header<a title=\"#header\" href=\"#header\"></a></h2>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//Header text넣기 (원치 않는 다면, 공백으로 처리)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">tableView</span><span class=\"params\">(<span class=\"number\">_</span> tableView: UITableView, titleForHeaderInSection section: Int)</span></span> -&gt; <span class=\"type\">String?</span> &#123;</span><br><span class=\"line\">   <span class=\"keyword\">switch</span> section &#123;</span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"number\">0</span>:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">\" \"</span></span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"number\">1</span>:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">\" \"</span></span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"number\">2</span> + optionGroupCount:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">\"jjjjj\"</span><span class=\"comment\">// menuData[section].category</span></span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"number\">3</span> + optionGroupCount:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">\" \"</span></span><br><span class=\"line\">    <span class=\"keyword\">case</span> <span class=\"number\">4</span> + optionGroupCount-<span class=\"number\">2</span>:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">\" \"</span></span><br><span class=\"line\">    <span class=\"keyword\">default</span>:</span><br><span class=\"line\">      <span class=\"keyword\">return</span> <span class=\"string\">\"ddddddddd\"</span> <span class=\"comment\">//\"\\(details[section].optionGroup)\" &lt;- 이런식으로 데이터값 불러 올 수 있음</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//Header 높이 지정(원치 않는 다면 0)</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">tableView</span><span class=\"params\">(<span class=\"number\">_</span> tableView: UITableView, heightForHeaderInSection section: Int)</span></span> -&gt; <span class=\"type\">CGFloat</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">switch</span> section &#123;</span><br><span class=\"line\">  <span class=\"keyword\">case</span> <span class=\"number\">0</span>:</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">  <span class=\"keyword\">case</span> <span class=\"number\">1</span>:</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">  <span class=\"keyword\">case</span> <span class=\"number\">2</span>+optionsCount:</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">44</span></span><br><span class=\"line\">  <span class=\"keyword\">case</span> <span class=\"number\">3</span>+optionsCount:</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">  <span class=\"keyword\">case</span> <span class=\"number\">4</span>+optionsCount:</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">0</span></span><br><span class=\"line\">  <span class=\"keyword\">default</span>:</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">44</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><em>주의</em></p>\n<p>모두 공백으로 처리하고 싶은데 안될 경우</p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">tableView</span><span class=\"params\">(<span class=\"number\">_</span> tableView: UITableView, heightForHeaderInSection section: Int)</span></span> -&gt; <span class=\"type\">CGFloat</span> &#123;</span><br><span class=\"line\">       <span class=\"keyword\">return</span> <span class=\"type\">CGFloat</span>.leastNormalMagnitude <span class=\"comment\">//CGFloat 양수 최소값 상수</span></span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<p>이런 식으로 처리</p>\n<h2 id=\"footer\">Footer<a title=\"#footer\" href=\"#footer\"></a></h2>\n<pre><code class=\"language-swift\">\n//Footer에 text 넣기 (원치 않는 다면, 공백으로 처리)\nfunc tableView(_ tableView: UITableView, titleForFooterInSection section: Int) -&gt; String? {\n  switch section {\n  case 0:\n    return &quot; &quot;\n  case 1:\n    return &quot; &quot;\n  case 2:\n    return &quot; &quot;\n  default:\n      return &quot;안뇽&quot;\n    }\n  }\n  \n//Footer 높이 지정(원치 않는 다면 0)\nfunc tableView(_ tableView: UITableView, heightForFooterInSection section: Int) -&gt; CGFloat {\n  switch section {\n  case 0:\n    return 1\n  case 1:\n    return 1\n  case 2:\n    return 1\n  case 3:\n    return 1\n  case 4:\n    return 2\n  default:\n    return 0\n  }\n}\n\n\n\n\n</code></pre>\n","prev":{"title":"[Swift]Could not build Objective-C module 'SnapKit'","link":"2020/09/14/Swift-Could-not-build-Objective-C-module-SnapKit"},"next":{"title":"[Swift] Set<UITouch> 터치 판단","link":"2020/09/05/Swift-Set-UITouch-터치-판단"},"plink":"https://Qussk.github.io/2020/09/14/Swift-UITableView-모음/","toc":[{"id":"cell","title":"Cell","index":"1"},{"id":"uitableview","title":"UITableView","index":"2"},{"id":"uitableviewdatasource","title":"UITableViewDataSource","index":"3","children":[{"id":"uitableview를-구현하기-위한-필수-프로토콜-임.","title":"UITableView를 구현하기 위한 필수 프로토콜 임.","index":"3.1"}]}]}