{"title":"[라이브러리]paper-onboarding","date":"2020-07-30T20:11:37.000Z","date_formatted":{"ll":"Jul 30, 2020","L":"07/30/2020","MM-DD":"07-30"},"thumbnail":"image/on.png","link":"2020/07/30/라이브러리-paper-onboarding","tags":["paper-onboarding"],"categories":["Library"],"updated":"2020-09-14T08:28:54.000Z","content":"<h2 id=\"paper-onboarding\"><strong>paper-onboarding</strong><a title=\"#paper-onboarding\" href=\"#paper-onboarding\"></a></h2>\n<p><a href=\"https://github.com/Ramotion/paper-onboarding\" target=\"_blank\">https://github.com/Ramotion/paper-onboarding<br>\n</a></p>\n<p>예쁜 온보딩 화면을 구현해주는 라이브러리다</p>\n<p>몬가 색깔 바뀌는 게 예뻐서 한 번 써보고 싶은 라이브러리였다!</p>\n<p>그런데 디자이너분들이 색을 하나로 통일하자고 해서, 티가 안난당…(왜 썼,.)</p>\n<p>이왕 쓰게 된 거 포스트 !!</p>\n<p>나는 cocoapod을 사용하지 않고 Swift Package Manager를 사용했다.<br>\nSwiftPackageManager가 git 협업하기에도 좋고 파일 정리가 훨씬 깔끔해서<br>\ncocoapod은 지양하고 있다.</p>\n<h2 id=\"1.import\"><strong>1.import</strong><a title=\"#1.import\" href=\"#1.import\"></a></h2>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> paper-onboarding</span><br></pre></td></tr></table></figure>\n<h2 id=\"2.선언\"><strong>2.선언</strong><a title=\"#2.선언\" href=\"#2.선언\"></a></h2>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//선언</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> onboarding = <span class=\"type\">PaperOnboarding</span>()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">override</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">viewDidLoad</span><span class=\"params\">()</span></span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">super</span>.viewDidLoad()</span><br><span class=\"line\">      </span><br><span class=\"line\">onboarding.dataSource = <span class=\"keyword\">self</span></span><br><span class=\"line\">onboarding.delegate = <span class=\"keyword\">self</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"3.setup-onboarding\"><strong>3.setup Onboarding</strong><a title=\"#3.setup-onboarding\" href=\"#3.setup-onboarding\"></a></h2>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"comment\">//MARK: - Onboarding</span></span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">setupOnboarding</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    view.backgroundColor = .white</span><br><span class=\"line\">    view.addSubview(onboarding)</span><br><span class=\"line\">    </span><br><span class=\"line\">    onboarding.translatesAutoresizingMaskIntoConstraints = <span class=\"literal\">false</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">for</span> attribute: <span class=\"type\">NSLayoutConstraint</span>.<span class=\"type\">Attribute</span> <span class=\"keyword\">in</span> [.<span class=\"keyword\">left</span>, .<span class=\"keyword\">right</span>, .top, .bottom] &#123;</span><br><span class=\"line\">      <span class=\"keyword\">let</span> constraint = <span class=\"type\">NSLayoutConstraint</span>(item: onboarding,</span><br><span class=\"line\">                                          attribute: attribute,</span><br><span class=\"line\">                                          relatedBy: .<span class=\"built_in\">equal</span>,</span><br><span class=\"line\">                                          toItem: view,</span><br><span class=\"line\">                                          attribute: attribute,</span><br><span class=\"line\">                                          multiplier: <span class=\"number\">1</span>,</span><br><span class=\"line\">                                          constant: <span class=\"number\">0</span>)</span><br><span class=\"line\">      view.addConstraint(constraint)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"4.-paperonboardingdatasource(기본값-지정)\"><strong>4. PaperOnboardingDataSource(기본값 지정)</strong><a title=\"#4.-paperonboardingdatasource(기본값-지정)\" href=\"#4.-paperonboardingdatasource(기본값-지정)\"></a></h2>\n<p><img src=\"image/on1.png\" alt=\"\" class=\"φcx\"></p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//MARK:-PaperOnboardingDataSource</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">extension</span> <span class=\"title\">OnboardingViewController</span>: <span class=\"title\">PaperOnboardingDataSource</span> </span>&#123;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">onboardingItem</span><span class=\"params\">(at index: Int)</span></span> -&gt; <span class=\"type\">OnboardingItemInfo</span> &#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">let</span> titleFont = <span class=\"type\">UIFont</span>(name: <span class=\"string\">\"AvenirNext-Bold\"</span>, size: <span class=\"number\">24</span>)!</span><br><span class=\"line\">    <span class=\"keyword\">let</span> descirptionFont = <span class=\"type\">UIFont</span>(name: <span class=\"string\">\"AvenirNext-Regular\"</span>, size: <span class=\"number\">18</span>)!</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">return</span> [<span class=\"type\">OnboardingItemInfo</span>(informationImage: <span class=\"type\">UIImage</span>(named:<span class=\"string\">\"back\"</span>)!,</span><br><span class=\"line\">                                 title: <span class=\"string\">\"확실한 분리수거\"</span>,</span><br><span class=\"line\">                                 description: <span class=\"string\">\"폐기물 처리 가이드를 통해\\n궁금했던 분리수거 방법을 알아보세요.\\n잘못된 분리수거 방법을 바로 잡아요\"</span>,</span><br><span class=\"line\">                                 pageIcon: <span class=\"type\">UIImage</span>(named:<span class=\"string\">\"on\"</span>)!,</span><br><span class=\"line\">                                 color: <span class=\"type\">UIColor</span>.white,</span><br><span class=\"line\">                                 titleColor: <span class=\"type\">UIColor</span>.black,</span><br><span class=\"line\">                                 descriptionColor: <span class=\"type\">UIColor</span>.black,</span><br><span class=\"line\">                                 titleFont: titleFont,</span><br><span class=\"line\">                                 descriptionFont: descirptionFont),</span><br><span class=\"line\">              <span class=\"type\">OnboardingItemInfo</span>(informationImage: <span class=\"type\">UIImage</span>(named:<span class=\"string\">\"back\"</span>)!,</span><br><span class=\"line\">                                 title: <span class=\"string\">\"집 앞에서 픽업\"</span>,</span><br><span class=\"line\">                                 description: <span class=\"string\">\"잠들기 전, 집 문 앞에 폐기물을 놓아두고\\n쓸애기 서비스를 이용해보세요.\\n잠든 사이에 빠르게 수거해 갈게요.\"</span>,</span><br><span class=\"line\">                                 pageIcon: <span class=\"type\">UIImage</span>(named:<span class=\"string\">\"on\"</span>)!,</span><br><span class=\"line\">                                 color: <span class=\"type\">UIColor</span>.white,</span><br><span class=\"line\">                                 titleColor: <span class=\"type\">UIColor</span>.black,</span><br><span class=\"line\">                                 descriptionColor: <span class=\"type\">UIColor</span>.black,</span><br><span class=\"line\">                                 titleFont: titleFont,</span><br><span class=\"line\">                                 descriptionFont: descirptionFont),</span><br><span class=\"line\">              <span class=\"type\">OnboardingItemInfo</span>(informationImage: <span class=\"type\">UIImage</span>(named:<span class=\"string\">\"back\"</span>)!,</span><br><span class=\"line\">                                 title: <span class=\"string\">\"새롭게 재탄생!\"</span>,</span><br><span class=\"line\">                                 description: <span class=\"string\">\"정성껏 분리수거된 재활용 폐기물은\\n종류별로 나눠져 재활용 업체에 넘어갑니다\\n나의 작은 노력 하나로 깨끗한 지구를 만들어요!\"</span>,</span><br><span class=\"line\">                                 pageIcon: <span class=\"type\">UIImage</span>(named:<span class=\"string\">\"on\"</span>)!,</span><br><span class=\"line\">                                 color: <span class=\"type\">UIColor</span>.white,</span><br><span class=\"line\">                                 titleColor: <span class=\"type\">UIColor</span>.black,</span><br><span class=\"line\">                                 descriptionColor: <span class=\"type\">UIColor</span>.black,</span><br><span class=\"line\">                                 titleFont: titleFont,</span><br><span class=\"line\">                                 descriptionFont: descirptionFont)</span><br><span class=\"line\">        ][index]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">onboardingItemsCount</span><span class=\"params\">()</span></span> -&gt; <span class=\"type\">Int</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"number\">3</span></span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n<p>4-1. <strong>onboardingItemsCount</strong>는 딱 봐도 온보딩페이지 갯수다. 난 3개<br>\n4-2. title,description,pageIcon…등 역시 화면만 보아도 매칭이 되서 딱 알것이다.<br>\n4-3. informationImage가 온보딩페이지의 메인 이미지라고 보면되는데, 나는 백터이미지를 넣어놓은 상태다. 왜냐면, 이게 라이브러리라서 사이즈가 이미 정해져서 나와 변경할 수가 없당…  <s>사실 gif넣을 계획이었는데 시간이 부족해서…그냥 Image로 넣기로 한것T T…</s></p>\n<p>디자이너가 바라는 사이즈가 안나와서 해당 카테고리에는 백터이미지를 넣고, 온보딩위에 새로운 UIImageView를 올려서 그것을 처리했다… (왜썻…2…)</p>\n<h2 id=\"5.-action\"><strong>5. Action</strong><a title=\"#5.-action\" href=\"#5.-action\"></a></h2>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//MARK:- Action</span></span><br><span class=\"line\"><span class=\"meta\">@objc</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">buttonClicked</span><span class=\"params\">(<span class=\"number\">_</span> sender: UIButton)</span></span>&#123;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"keyword\">let</span> adressVC = <span class=\"type\">AddressViewController</span>()</span><br><span class=\"line\">  <span class=\"keyword\">let</span> adressNV = <span class=\"type\">UINavigationController</span>(rootViewController: adressVC)</span><br><span class=\"line\"></span><br><span class=\"line\">  adressNV.modalPresentationStyle = .fullScreen</span><br><span class=\"line\">  present(adressNV, animated: <span class=\"literal\">false</span>)</span><br><span class=\"line\">  </span><br><span class=\"line\">  </span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>5-1. 위 코드는 3번째 온보딩 화면에서 <strong>시작하기</strong> 버튼의 메서드이다.  누르면 앱의 주소입력 화면으로 넘어간당</p>\n<h2 id=\"6.-paperonboardingdelegate\"><strong>6. PaperOnboardingDelegate</strong><a title=\"#6.-paperonboardingdelegate\" href=\"#6.-paperonboardingdelegate\"></a></h2>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//MARK:-PaperOnboardingDelegate</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">extension</span> <span class=\"title\">OnboardingViewController</span>: <span class=\"title\">PaperOnboardingDelegate</span> </span>&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">   <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">onboardingConfigurationItem</span><span class=\"params\">(<span class=\"number\">_</span>: OnboardingContentViewItem, index <span class=\"number\">_</span>: Int)</span></span> &#123;</span><br><span class=\"line\">      </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">onboardingWillTransitonToIndex</span><span class=\"params\">(<span class=\"number\">_</span> index: Int)</span></span> &#123;</span><br><span class=\"line\">      </span><br><span class=\"line\">      <span class=\"keyword\">if</span> index == <span class=\"number\">0</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> <span class=\"keyword\">self</span>.getButton.alpha == <span class=\"number\">1</span> &#123;</span><br><span class=\"line\">          <span class=\"type\">UIView</span>.animate(withDuration: <span class=\"number\">0.1</span>, animations: &#123;</span><br><span class=\"line\">            <span class=\"keyword\">self</span>.getButton.alpha = <span class=\"number\">0</span></span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">onboardingDidTransitonToIndex</span><span class=\"params\">(<span class=\"number\">_</span> index: Int)</span></span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> index == <span class=\"number\">0</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">UIView</span>.animate(withDuration: <span class=\"number\">0.1</span>, animations: &#123;</span><br><span class=\"line\">          <span class=\"keyword\">self</span>.onboardingImage.alpha = <span class=\"number\">1</span></span><br><span class=\"line\">          <span class=\"keyword\">self</span>.onboardingImage.image = <span class=\"type\">UIImage</span>(named: <span class=\"string\">\"on1\"</span>)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">      &#125;<span class=\"keyword\">else</span> <span class=\"keyword\">if</span> index == <span class=\"number\">1</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">UIView</span>.animate(withDuration: <span class=\"number\">0.1</span>, animations: &#123;</span><br><span class=\"line\">          <span class=\"comment\">//self.onboardingImage.alpha = 0</span></span><br><span class=\"line\">          <span class=\"keyword\">self</span>.onboardingImage.image = <span class=\"type\">UIImage</span>(named: <span class=\"string\">\"on2\"</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        </span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">UIView</span>.animate(withDuration: <span class=\"number\">0.2</span>, animations: &#123;</span><br><span class=\"line\">          <span class=\"keyword\">self</span>.onboardingImage.image = <span class=\"type\">UIImage</span>(named: <span class=\"string\">\"on3\"</span>)</span><br><span class=\"line\">          <span class=\"keyword\">self</span>.getButton.alpha = <span class=\"number\">1</span></span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n<p>6-1. PaperOnboardingDelegate에서 alpha을 이용해 Button은 3번째 화면에서만 보이도록 구현<br>\n6-2. 온보딩 페이지별로  onboardingImage 다르게 처리해주기 까지 하면 완성 !</p>\n<h3 id=\"완성모습-영상보기\"><strong>완성모습 영상보기</strong><a title=\"#완성모습-영상보기\" href=\"#완성모습-영상보기\"></a></h3>\n<p><a href=\"https://youtu.be/LzJhSUQ_8i8\" target=\"_blank\">https://youtu.be/LzJhSUQ_8i8</a></p>\n","prev":{"title":"[Swfit]FireBase이용하여 Google로그인 만들기","link":"2020/08/04/Swfit-FireBase이용하여-Google로그인-만들기"},"next":{"title":"[Swift]Xib이용예제(sb: customUI)","link":"2020/07/25/Swift-customUIView-만들기"},"plink":"https://Qussk.github.io/2020/07/30/라이브러리-paper-onboarding/","toc":[{"id":"paper-onboarding","title":"paper-onboarding","index":"1"},{"id":"1.import","title":"1.import","index":"2"},{"id":"2.선언","title":"2.선언","index":"3"},{"id":"3.setup-onboarding","title":"3.setup Onboarding","index":"4"},{"id":"4.-paperonboardingdatasource(기본값-지정)","title":"4. PaperOnboardingDataSource(기본값 지정)","index":"5"},{"id":"5.-action","title":"5. Action","index":"6"},{"id":"6.-paperonboardingdelegate","title":"6. PaperOnboardingDelegate","index":"7","children":[{"id":"완성모습-영상보기","title":"완성모습 영상보기","index":"7.1"}]}]}