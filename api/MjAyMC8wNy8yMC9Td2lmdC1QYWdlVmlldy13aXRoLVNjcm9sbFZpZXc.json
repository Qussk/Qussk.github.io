{"title":"[Swift]PageView(with:ScrollView)","date":"2020-07-20T17:24:35.000Z","date_formatted":{"ll":"Jul 20, 2020","L":"07/20/2020","MM-DD":"07-20"},"link":"2020/07/20/Swift-PageView-with-ScrollView","tags":["Swift","UIPageView","UIScrollView"],"categories":["ios"],"updated":"2020-08-20T01:08:23.378Z","content":"<h3 id=\"[pageview]\"><strong>[PageView]</strong><a title=\"#[pageview]\" href=\"#[pageview]\"></a></h3>\n<p>ScrollView와 세트인 PageView도 구현</p>\n<h3 id=\"1.선언\">1.선언<a title=\"#1.선언\" href=\"#1.선언\"></a></h3>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//페이지뷰</span></span><br><span class=\"line\"><span class=\"built_in\">lazy</span> <span class=\"keyword\">var</span> pageControl = <span class=\"type\">UIPageControl</span>(frame: <span class=\"type\">CGRect</span>(x: view.frame.midX - <span class=\"number\">100</span>, y: view.frame.maxY - <span class=\"number\">200</span>, width: <span class=\"number\">200</span>, height: <span class=\"number\">50</span>))</span><br></pre></td></tr></table></figure>\n<h3 id=\"2.-veiw-~-constrain\">2. Veiw ~ Constrain<a title=\"#2.-veiw-~-constrain\" href=\"#2.-veiw-~-constrain\"></a></h3>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">view.addSubview(pageControl)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pageControl.topAnchor.constraint(equalTo: scrollView.bottomAnchor, constant: <span class=\"number\">20</span>),</span><br><span class=\"line\">    pageControl.centerXAnchor.constraint(equalTo: guide.centerXAnchor),</span><br></pre></td></tr></table></figure>\n<h3 id=\"3.-pageviewcontrol\">3. pageViewControl<a title=\"#3.-pageviewcontrol\" href=\"#3.-pageviewcontrol\"></a></h3>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//MARK:-pageView</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">pageViewControl</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">      pageControl.numberOfPages = images.<span class=\"built_in\">count</span></span><br><span class=\"line\">      pageControl.currentPage = <span class=\"number\">0</span></span><br><span class=\"line\">      pageControl.pageIndicatorTintColor = .lightGray</span><br><span class=\"line\">      pageControl.currentPageIndicatorTintColor = <span class=\"type\">ColorPiker</span>.customBlue</span><br><span class=\"line\">      pageControl.addTarget(<span class=\"keyword\">self</span>, action: #selector(handlePageControl(<span class=\"number\">_</span>:)), <span class=\"keyword\">for</span>: .valueChanged)</span><br><span class=\"line\">  </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\"><span class=\"meta\">@objc</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">handlePageControl</span><span class=\"params\">(<span class=\"number\">_</span> sender: UIPageControl)</span></span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">let</span> x = <span class=\"type\">CGFloat</span>(pageControl.currentPage) * scrollView.frame.width</span><br><span class=\"line\">            scrollView.setContentOffset(<span class=\"type\">CGPoint</span>(x: x, y: <span class=\"number\">0</span>), animated: <span class=\"literal\">true</span>)</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"4.scrollview와의-연동(uiscrollviewdelegate)\">4.ScrollView와의 연동(UIScrollViewDelegate)<a title=\"#4.scrollview와의-연동(uiscrollviewdelegate)\" href=\"#4.scrollview와의-연동(uiscrollviewdelegate)\"></a></h3>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//MARK:-UIScrollViewDelegate</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">extension</span> <span class=\"title\">DescriptionViewController</span>: <span class=\"title\">UIScrollViewDelegate</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">scrollViewDidEndDecelerating</span><span class=\"params\">(<span class=\"number\">_</span> scrollView: UIScrollView)</span></span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> pageNumber = round(scrollView.contentOffset.x / scrollView.frame.width)</span><br><span class=\"line\">        pageControl.currentPage = <span class=\"type\">Int</span>(pageNumber)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","prev":{"title":"[Swift]Xib이용예제(sb: customUI)","link":"2020/07/25/Swift-customUIView-만들기"},"next":{"title":"[swift]UIScrollView 만들기","link":"2020/07/20/swift-UIScrollView-만들기"},"plink":"https://Qussk.github.io/2020/07/20/Swift-PageView-with-ScrollView/","toc":[{"id":"[pageview]","title":"[PageView]","index":"1"},{"id":"1.선언","title":"1.선언","index":"2"},{"id":"2.-veiw-~-constrain","title":"2. Veiw ~ Constrain","index":"3"},{"id":"3.-pageviewcontrol","title":"3. pageViewControl","index":"4"},{"id":"4.scrollview와의-연동(uiscrollviewdelegate)","title":"4.ScrollView와의 연동(UIScrollViewDelegate)","index":"5"}]}