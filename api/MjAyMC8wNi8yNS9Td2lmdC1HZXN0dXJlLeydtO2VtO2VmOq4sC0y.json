{"title":"[Swift]Gesture 이해하기","date":"2020-06-25T15:17:16.000Z","date_formatted":{"ll":"Jun 25, 2020","L":"06/25/2020","MM-DD":"06-25"},"thumbnail":"/image/gestrue27.png","link":"2020/06/25/Swift-Gesture-이해하기-2","tags":["Gesture","Swift"],"categories":["ios"],"updated":"2020-06-27T04:37:06.947Z","content":"<h2 id=\"0.-제스처?(uitapgesturerecognizer)\">0. 제스처?(UITapGestureRecognizer)<a title=\"#0.-제스처?(uitapgesturerecognizer)\" href=\"#0.-제스처?(uitapgesturerecognizer)\"></a></h2>\n<p>0-0. UITapGestureRecognizer을 상속받아 사용할 수 있는 7가지 제스처,</p>\n<ul>\n<li>Tap gesture recognizer</li>\n<li>Swipe gesture recognizer</li>\n<li>Pan gesture recognizer</li>\n<li>Pinch gesture recognizer</li>\n<li>Rotation gesture recognizer</li>\n<li>Screen gesture recognizer</li>\n<li>LongPress gesture recognizer</li>\n</ul>\n<h2 id=\"1.-tap제스처,-rotation제스처,-swipe제스처-연결.\">1. Tap제스처, Rotation제스처, Swipe제스처 연결.<a title=\"#1.-tap제스처,-rotation제스처,-swipe제스처-연결.\" href=\"#1.-tap제스처,-rotation제스처,-swipe제스처-연결.\"></a></h2>\n<p><img src=\"/image/Gesture12.png\" alt=\"\" class=\"φcx\"></p>\n<p>제스처 아이템을 검색하여 해당되는 제스처를 @IBAction에 연결한다.</p>\n<p>저는 (Tap, Rotation, Swipe)을 사용했다.</p>\n<p><img src=\"/image/gesture11.png\" alt=\"\" class=\"φcx\"></p>\n<p>스토리 보드상으로 보면 이런 식으로 된다.</p>\n<h2 id=\"2.-tap제스처-구현(더블-클릭시-이미지-크기-4배-증가)\">2. Tap제스처 구현(더블 클릭시 이미지 크기 4배 증가)<a title=\"#2.-tap제스처-구현(더블-클릭시-이미지-크기-4배-증가)\" href=\"#2.-tap제스처-구현(더블-클릭시-이미지-크기-4배-증가)\"></a></h2>\n<p><img src=\"/image/gesture10.png\" alt=\"\" class=\"φcx\"></p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> UIKit</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">final</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">GestureViewController</span>: <span class=\"title\">UIViewController</span> </span>&#123;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"meta\">@IBOutlet</span> <span class=\"keyword\">private</span> <span class=\"keyword\">weak</span> <span class=\"keyword\">var</span> imageView: <span class=\"type\">UIImageView!</span>&#123;</span><br><span class=\"line\"> </span><br><span class=\"line\"> <span class=\"comment\">//0.제스처 대상 만들기(이미지뷰).</span></span><br><span class=\"line\">  <span class=\"keyword\">didSet</span> &#123;</span><br><span class=\"line\">      imageView.layer.cornerRadius = imageView.frame.width / <span class=\"number\">2</span></span><br><span class=\"line\">      imageView.clipsToBounds = <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">//tap1-1.</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> isQuadruple = <span class=\"literal\">false</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">//더블탭 하면 이미지가 원본의 4배 크기로 &lt;-&gt; 원본으로</span></span><br><span class=\"line\">  <span class=\"meta\">@IBAction</span> <span class=\"keyword\">private</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">handleTapGesture</span><span class=\"params\">(<span class=\"number\">_</span> sender: UITapGestureRecognizer)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">guard</span> sender.state == .ended <span class=\"keyword\">else</span> &#123; <span class=\"keyword\">return</span> &#125;</span><br><span class=\"line\">      </span><br><span class=\"line\">    <span class=\"comment\">//tap1-3.</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> !isQuadruple &#123;</span><br><span class=\"line\">        imageView.transform = imageView.transform.scaledBy(x: <span class=\"number\">2</span>, y: <span class=\"number\">2</span>)</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        imageView.transform = .identity</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      isQuadruple = !isQuadruple</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<p>2-1. identity는 초기화상태로 되돌리기. (다시 더블 클릭시 원래상태로 복구)</p>\n<h2 id=\"3.-rotation시-회전\">3. Rotation시 회전<a title=\"#3.-rotation시-회전\" href=\"#3.-rotation시-회전\"></a></h2>\n<p><img src=\"/image/Gesture15.png\" alt=\"\" class=\"φcx\"></p>\n  <figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// MARK: Rotation</span></span><br><span class=\"line\"><span class=\"meta\">@IBAction</span> <span class=\"keyword\">private</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">handleRotationGesture</span><span class=\"params\">(<span class=\"number\">_</span> sender: UIRotationGestureRecognizer)</span></span>&#123;</span><br><span class=\"line\">   <span class=\"keyword\">guard</span> sender.state == .began || sender.state == .changed <span class=\"keyword\">else</span> &#123; <span class=\"keyword\">return</span> &#125;</span><br><span class=\"line\">    imageView.transform = imageView.transform.rotated(by: sender.rotation)</span><br><span class=\"line\">    sender.rotation = <span class=\"number\">0</span> <span class=\"comment\">//회전수 </span></span><br><span class=\"line\">  &#125;</span><br></pre></td></tr></table></figure>\n<p><img src=\"/image/Gesture17.png\" alt=\"\" class=\"φcx\"></p>\n<h2 id=\"4.-swipe-방향에-따른-이미지변경\">4. Swipe 방향에 따른 이미지변경<a title=\"#4.-swipe-방향에-따른-이미지변경\" href=\"#4.-swipe-방향에-따른-이미지변경\"></a></h2>\n<p><img src=\"/image/Gesture16.png\" alt=\"\" class=\"φcx\"></p>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// MARK: Swipe</span></span><br><span class=\"line\"><span class=\"comment\">//으론쪽으로 밀면(스와이프) = cat2</span></span><br><span class=\"line\"><span class=\"comment\">//왼쪽으로 밀면(스와이프) = cat1</span></span><br><span class=\"line\"><span class=\"meta\">@IBAction</span> <span class=\"keyword\">private</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">handleSwipeGesture</span><span class=\"params\">(<span class=\"number\">_</span> sender: UISwipeGestureRecognizer)</span></span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">guard</span> sender.state == .ended <span class=\"keyword\">else</span> &#123; <span class=\"keyword\">return</span> &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">if</span> sender.direction == .<span class=\"keyword\">left</span> &#123;</span><br><span class=\"line\">      imageView.image = <span class=\"type\">UIImage</span>(named: <span class=\"string\">\"cat1\"</span>)</span><br><span class=\"line\">      sender.direction = .<span class=\"keyword\">right</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      imageView.image = <span class=\"type\">UIImage</span>(named: <span class=\"string\">\"cat2\"</span>)</span><br><span class=\"line\">      sender.direction = .<span class=\"keyword\">left</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><img src=\"/image/gesture25.png\" alt=\"\" class=\"φcx\"></p>\n<h2 id=\"전체코드\">전체코드<a title=\"#전체코드\" href=\"#전체코드\"></a></h2>\n<figure class=\"highlight swift\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"comment\">//  GestureViewController.swift</span></span><br><span class=\"line\"><span class=\"comment\">//  GestureRecognizerExample</span></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"><span class=\"comment\">//  Copyright © 2020 Giftbot. All rights reserved.</span></span><br><span class=\"line\"><span class=\"comment\">//</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> UIKit</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">final</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">GestureViewController</span>: <span class=\"title\">UIViewController</span> </span>&#123;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"meta\">@IBOutlet</span> <span class=\"keyword\">private</span> <span class=\"keyword\">weak</span> <span class=\"keyword\">var</span> imageView: <span class=\"type\">UIImageView!</span>&#123;</span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"comment\">//tap1-1.</span></span><br><span class=\"line\">  <span class=\"keyword\">didSet</span> &#123;</span><br><span class=\"line\">      imageView.layer.cornerRadius = imageView.frame.width / <span class=\"number\">2</span></span><br><span class=\"line\">      imageView.clipsToBounds = <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"comment\">//tap1-2.</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> isQuadruple = <span class=\"literal\">false</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">// MARK: Tap</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">//더블탭 하면 이미지가 원본의 4배 크기로 &lt;-&gt; 원본으로</span></span><br><span class=\"line\">  <span class=\"meta\">@IBAction</span> <span class=\"keyword\">private</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">handleTapGesture</span><span class=\"params\">(<span class=\"number\">_</span> sender: UITapGestureRecognizer)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">guard</span> sender.state == .ended <span class=\"keyword\">else</span> &#123; <span class=\"keyword\">return</span> &#125;</span><br><span class=\"line\">      </span><br><span class=\"line\">    <span class=\"comment\">//tap1-3.</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> !isQuadruple &#123;</span><br><span class=\"line\">        imageView.transform = imageView.transform.scaledBy(x: <span class=\"number\">2</span>, y: <span class=\"number\">2</span>)</span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        imageView.transform = .identity</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      isQuadruple = !isQuadruple</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  </span><br><span class=\"line\"></span><br><span class=\"line\"> <span class=\"comment\">// MARK: Rotation</span></span><br><span class=\"line\">  <span class=\"meta\">@IBAction</span> <span class=\"keyword\">private</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">handleRotationGesture</span><span class=\"params\">(<span class=\"number\">_</span> sender: UIRotationGestureRecognizer)</span></span>&#123;</span><br><span class=\"line\">     <span class=\"keyword\">guard</span> sender.state == .began || sender.state == .changed <span class=\"keyword\">else</span> &#123; <span class=\"keyword\">return</span> &#125;</span><br><span class=\"line\">      imageView.transform = imageView.transform.rotated(by: sender.rotation)</span><br><span class=\"line\">      sender.rotation = <span class=\"number\">0</span> <span class=\"comment\">//회전수</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\">// MARK: Swipe</span></span><br><span class=\"line\">  <span class=\"comment\">//오른쪽 스와이프 = cat2</span></span><br><span class=\"line\">  <span class=\"comment\">//왼쪽 스와이프 = cat1</span></span><br><span class=\"line\">  <span class=\"meta\">@IBAction</span> <span class=\"keyword\">private</span> <span class=\"function\"><span class=\"keyword\">func</span> <span class=\"title\">handleSwipeGesture</span><span class=\"params\">(<span class=\"number\">_</span> sender: UISwipeGestureRecognizer)</span></span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">guard</span> sender.state == .ended <span class=\"keyword\">else</span> &#123; <span class=\"keyword\">return</span> &#125;</span><br><span class=\"line\">      </span><br><span class=\"line\">      <span class=\"keyword\">if</span> sender.direction == .<span class=\"keyword\">left</span> &#123;</span><br><span class=\"line\">        imageView.image = <span class=\"type\">UIImage</span>(named: <span class=\"string\">\"cat1\"</span>)</span><br><span class=\"line\">        sender.direction = .<span class=\"keyword\">right</span></span><br><span class=\"line\">      &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">        imageView.image = <span class=\"type\">UIImage</span>(named: <span class=\"string\">\"cat2\"</span>)</span><br><span class=\"line\">        sender.direction = .<span class=\"keyword\">left</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a href=\"http://minsone.github.io/mac/ios/uigesturerecognizer\" target=\"_blank\">보충링크 : (http://minsone.github.io/mac/ios/uigesturerecognizer)</a></p>\n","next":{"title":"[Swift]Gesture 이해하기","link":"2020/06/25/Swift-Gesture-이해하기"},"plink":"https://Qussk.github.io/2020/06/25/Swift-Gesture-이해하기-2/","toc":[{"id":"0.-제스처?(uitapgesturerecognizer)","title":"0. 제스처?(UITapGestureRecognizer)","index":"1"},{"id":"1.-tap제스처,-rotation제스처,-swipe제스처-연결.","title":"1. Tap제스처, Rotation제스처, Swipe제스처 연결.","index":"2"},{"id":"2.-tap제스처-구현(더블-클릭시-이미지-크기-4배-증가)","title":"2. Tap제스처 구현(더블 클릭시 이미지 크기 4배 증가)","index":"3"},{"id":"3.-rotation시-회전","title":"3. Rotation시 회전","index":"4"},{"id":"4.-swipe-방향에-따른-이미지변경","title":"4. Swipe 방향에 따른 이미지변경","index":"5"},{"id":"전체코드","title":"전체코드","index":"6"}]}